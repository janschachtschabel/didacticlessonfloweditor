const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CGRO9crG.js","assets/monacoEditor-3ApPE2Z0.js","assets/monacoEditor-Bi80PuOK.css"])))=>i.map(i=>d[i]);
import{_ as Tw}from"./monacoEditor-3ApPE2Z0.js";function c9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Px(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uj={exports:{}},Dg={},Vj={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),d9=Symbol.for("react.portal"),f9=Symbol.for("react.fragment"),h9=Symbol.for("react.strict_mode"),p9=Symbol.for("react.profiler"),m9=Symbol.for("react.provider"),g9=Symbol.for("react.context"),v9=Symbol.for("react.forward_ref"),y9=Symbol.for("react.suspense"),b9=Symbol.for("react.memo"),w9=Symbol.for("react.lazy"),_N=Symbol.iterator;function _9(e){return e===null||typeof e!="object"?null:(e=_N&&e[_N]||e["@@iterator"],typeof e=="function"?e:null)}var Hj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wj=Object.assign,Gj={};function Cc(e,t,n){this.props=e,this.context=t,this.refs=Gj,this.updater=n||Hj}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kj(){}Kj.prototype=Cc.prototype;function Rx(e,t,n){this.props=e,this.context=t,this.refs=Gj,this.updater=n||Hj}var Ix=Rx.prototype=new Kj;Ix.constructor=Rx;Wj(Ix,Cc.prototype);Ix.isPureReactComponent=!0;var xN=Array.isArray,Zj=Object.prototype.hasOwnProperty,Tx={current:null},Yj={key:!0,ref:!0,__self:!0,__source:!0};function Xj(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Zj.call(t,r)&&!Yj.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:fh,type:e,key:s,ref:a,props:i,_owner:Tx.current}}function x9(e,t){return{$$typeof:fh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ox(e){return typeof e=="object"&&e!==null&&e.$$typeof===fh}function N9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var NN=/\/+/g;function k1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N9(""+e.key):t.toString(36)}function um(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fh:case d9:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+k1(a,0):r,xN(i)?(n="",e!=null&&(n=e.replace(NN,"$&/")+"/"),um(i,t,n,"",function(u){return u})):i!=null&&(Ox(i)&&(i=x9(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(NN,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",xN(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+k1(s,o);a+=um(s,t,n,l,i)}else if(l=_9(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+k1(s,o++),a+=um(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Sp(e,t,n){if(e==null)return e;var r=[],i=0;return um(e,r,"","",function(s){return t.call(n,s,i++)}),r}function S9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},cm={transition:null},k9={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:cm,ReactCurrentOwner:Tx};function Jj(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:Sp,forEach:function(e,t,n){Sp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sp(e,function(){t++}),t},toArray:function(e){return Sp(e,function(t){return t})||[]},only:function(e){if(!Ox(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=Cc;Et.Fragment=f9;Et.Profiler=p9;Et.PureComponent=Rx;Et.StrictMode=h9;Et.Suspense=y9;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k9;Et.act=Jj;Et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wj({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Tx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Zj.call(t,l)&&!Yj.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:fh,type:e.type,key:i,ref:s,props:r,_owner:a}};Et.createContext=function(e){return e={$$typeof:g9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m9,_context:e},e.Consumer=e};Et.createElement=Xj;Et.createFactory=function(e){var t=Xj.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:v9,render:e}};Et.isValidElement=Ox;Et.lazy=function(e){return{$$typeof:w9,_payload:{_status:-1,_result:e},_init:S9}};Et.memo=function(e,t){return{$$typeof:b9,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=cm.transition;cm.transition={};try{e()}finally{cm.transition=t}};Et.unstable_act=Jj;Et.useCallback=function(e,t){return Ar.current.useCallback(e,t)};Et.useContext=function(e){return Ar.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};Et.useEffect=function(e,t){return Ar.current.useEffect(e,t)};Et.useId=function(){return Ar.current.useId()};Et.useImperativeHandle=function(e,t,n){return Ar.current.useImperativeHandle(e,t,n)};Et.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return Ar.current.useMemo(e,t)};Et.useReducer=function(e,t,n){return Ar.current.useReducer(e,t,n)};Et.useRef=function(e){return Ar.current.useRef(e)};Et.useState=function(e){return Ar.current.useState(e)};Et.useSyncExternalStore=function(e,t,n){return Ar.current.useSyncExternalStore(e,t,n)};Et.useTransition=function(){return Ar.current.useTransition()};Et.version="18.3.1";Vj.exports=Et;var Y=Vj.exports;const ve=Px(Y),E9=c9({__proto__:null,default:ve},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A9=Y,C9=Symbol.for("react.element"),j9=Symbol.for("react.fragment"),L9=Object.prototype.hasOwnProperty,P9=A9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R9={key:!0,ref:!0,__self:!0,__source:!0};function Qj(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)L9.call(t,r)&&!R9.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:C9,type:e,key:s,ref:a,props:i,_owner:P9.current}}Dg.Fragment=j9;Dg.jsx=Qj;Dg.jsxs=Qj;Uj.exports=Dg;var g=Uj.exports,Ow={},eL={exports:{}},mi={},tL={exports:{}},nL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,q){var J=F.length;F.push(q);e:for(;0<J;){var ie=J-1>>>1,C=F[ie];if(0<i(C,q))F[ie]=q,F[J]=C,J=ie;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var q=F[0],J=F.pop();if(J!==q){F[0]=J;e:for(var ie=0,C=F.length,H=C>>>1;ie<H;){var K=2*(ie+1)-1,Q=F[K],ne=K+1,ae=F[ne];if(0>i(Q,J))ne<C&&0>i(ae,Q)?(F[ie]=ae,F[ne]=J,ie=ne):(F[ie]=Q,F[K]=J,ie=K);else if(ne<C&&0>i(ae,J))F[ie]=ae,F[ne]=J,ie=ne;else break e}}return q}function i(F,q){var J=F.sortIndex-q.sortIndex;return J!==0?J:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,p=3,h=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=F)r(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(u)}}function k(F){if(y=!1,S(F),!w)if(n(l)!==null)w=!0,M(P);else{var q=n(u);q!==null&&X(k,q.startTime-F)}}function P(F,q){w=!1,y&&(y=!1,m(L),L=-1),h=!0;var J=p;try{for(S(q),d=n(l);d!==null&&(!(d.expirationTime>q)||F&&!j());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,p=d.priorityLevel;var C=ie(d.expirationTime<=q);q=e.unstable_now(),typeof C=="function"?d.callback=C:d===n(l)&&r(l),S(q)}else r(l);d=n(l)}if(d!==null)var H=!0;else{var K=n(u);K!==null&&X(k,K.startTime-q),H=!1}return H}finally{d=null,p=J,h=!1}}var D=!1,R=null,L=-1,$=5,V=-1;function j(){return!(e.unstable_now()-V<$)}function T(){if(R!==null){var F=e.unstable_now();V=F;var q=!0;try{q=R(!0,F)}finally{q?Z():(D=!1,R=null)}}else D=!1}var Z;if(typeof b=="function")Z=function(){b(T)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,U=A.port2;A.port1.onmessage=T,Z=function(){U.postMessage(null)}}else Z=function(){_(T,0)};function M(F){R=F,D||(D=!0,Z())}function X(F,q){L=_(function(){F(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||h||(w=!0,M(P))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var J=p;p=q;try{return F()}finally{p=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=p;p=F;try{return q()}finally{p=J}},e.unstable_scheduleCallback=function(F,q,J){var ie=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ie+J:ie):J=ie,F){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,F={id:c++,callback:q,priorityLevel:F,startTime:J,expirationTime:C,sortIndex:-1},J>ie?(F.sortIndex=J,t(u,F),n(l)===null&&F===n(u)&&(y?(m(L),L=-1):y=!0,X(k,J-ie))):(F.sortIndex=C,t(l,F),w||h||(w=!0,M(P))),F},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(F){var q=p;return function(){var J=p;p=q;try{return F.apply(this,arguments)}finally{p=J}}}})(nL);tL.exports=nL;var I9=tL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T9=Y,hi=I9;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rL=new Set,_f={};function Il(e,t){hc(e,t),hc(e+"Capture",t)}function hc(e,t){for(_f[e]=t,e=0;e<t.length;e++)rL.add(t[e])}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mw=Object.prototype.hasOwnProperty,O9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SN={},kN={};function M9(e){return Mw.call(kN,e)?!0:Mw.call(SN,e)?!1:O9.test(e)?kN[e]=!0:(SN[e]=!0,!1)}function F9(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q9(e,t,n,r){if(t===null||typeof t>"u"||F9(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cr(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new Cr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new Cr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new Cr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new Cr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new Cr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new Cr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new Cr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new Cr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new Cr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mx=/[\-:]([a-z])/g;function Fx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mx,Fx);nr[t]=new Cr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mx,Fx);nr[t]=new Cr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mx,Fx);nr[t]=new Cr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new Cr(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new Cr(e,1,!1,e.toLowerCase(),null,!0,!0)});function qx(e,t,n,r){var i=nr.hasOwnProperty(t)?nr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q9(t,n,i,r)&&(n=null),r||i===null?M9(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Aa=T9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kp=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),Ru=Symbol.for("react.fragment"),Dx=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),iL=Symbol.for("react.provider"),sL=Symbol.for("react.context"),Bx=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Dw=Symbol.for("react.suspense_list"),zx=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),aL=Symbol.for("react.offscreen"),EN=Symbol.iterator;function xd(e){return e===null||typeof e!="object"?null:(e=EN&&e[EN]||e["@@iterator"],typeof e=="function"?e:null)}var hn=Object.assign,E1;function Dd(e){if(E1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E1=t&&t[1]||""}return`
`+E1+e}var A1=!1;function C1(e,t){if(!e||A1)return"";A1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{A1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dd(e):""}function D9(e){switch(e.tag){case 5:return Dd(e.type);case 16:return Dd("Lazy");case 13:return Dd("Suspense");case 19:return Dd("SuspenseList");case 0:case 2:case 15:return e=C1(e.type,!1),e;case 11:return e=C1(e.type.render,!1),e;case 1:return e=C1(e.type,!0),e;default:return""}}function Bw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ru:return"Fragment";case Pu:return"Portal";case Fw:return"Profiler";case Dx:return"StrictMode";case qw:return"Suspense";case Dw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sL:return(e.displayName||"Context")+".Consumer";case iL:return(e._context.displayName||"Context")+".Provider";case Bx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zx:return t=e.displayName||null,t!==null?t:Bw(e.type)||"Memo";case so:t=e._payload,e=e._init;try{return Bw(e(t))}catch{}}return null}function B9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bw(t);case 8:return t===Dx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z9(e){var t=oL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ep(e){e._valueTracker||(e._valueTracker=z9(e))}function lL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oL(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zw(e,t){var n=t.checked;return hn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function AN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ro(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uL(e,t){t=t.checked,t!=null&&qx(e,"checked",t,!1)}function $w(e,t){uL(e,t);var n=Ro(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uw(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uw(e,t,n){(t!=="number"||Fm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bd=Array.isArray;function Ku(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ro(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return hn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ie(92));if(Bd(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ro(n)}}function cL(e,t){var n=Ro(t.value),r=Ro(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function LN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ap,fL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ap=Ap||document.createElement("div"),Ap.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ap.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$9=["Webkit","ms","Moz","O"];Object.keys(lf).forEach(function(e){$9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lf[t]=lf[e]})});function hL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lf.hasOwnProperty(e)&&lf[e]?(""+t).trim():t+"px"}function pL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hL(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var U9=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ww(e,t){if(t){if(U9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function Gw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=null;function $x(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zw=null,Zu=null,Yu=null;function PN(e){if(e=mh(e)){if(typeof Zw!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=Vg(t),Zw(e.stateNode,e.type,t))}}function mL(e){Zu?Yu?Yu.push(e):Yu=[e]:Zu=e}function gL(){if(Zu){var e=Zu,t=Yu;if(Yu=Zu=null,PN(e),t)for(e=0;e<t.length;e++)PN(t[e])}}function vL(e,t){return e(t)}function yL(){}var j1=!1;function bL(e,t,n){if(j1)return e(t,n);j1=!0;try{return vL(e,t,n)}finally{j1=!1,(Zu!==null||Yu!==null)&&(yL(),gL())}}function Nf(e,t){var n=e.stateNode;if(n===null)return null;var r=Vg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ie(231,t,typeof n));return n}var Yw=!1;if(ba)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{Yw=!1}function V9(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var uf=!1,qm=null,Dm=!1,Xw=null,H9={onError:function(e){uf=!0,qm=e}};function W9(e,t,n,r,i,s,a,o,l){uf=!1,qm=null,V9.apply(H9,arguments)}function G9(e,t,n,r,i,s,a,o,l){if(W9.apply(this,arguments),uf){if(uf){var u=qm;uf=!1,qm=null}else throw Error(Ie(198));Dm||(Dm=!0,Xw=u)}}function Tl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RN(e){if(Tl(e)!==e)throw Error(Ie(188))}function K9(e){var t=e.alternate;if(!t){if(t=Tl(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return RN(i),e;if(s===r)return RN(i),t;s=s.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?e:t}function _L(e){return e=K9(e),e!==null?xL(e):null}function xL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xL(e);if(t!==null)return t;e=e.sibling}return null}var NL=hi.unstable_scheduleCallback,IN=hi.unstable_cancelCallback,Z9=hi.unstable_shouldYield,Y9=hi.unstable_requestPaint,En=hi.unstable_now,X9=hi.unstable_getCurrentPriorityLevel,Ux=hi.unstable_ImmediatePriority,SL=hi.unstable_UserBlockingPriority,Bm=hi.unstable_NormalPriority,J9=hi.unstable_LowPriority,kL=hi.unstable_IdlePriority,Bg=null,Os=null;function Q9(e){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(Bg,e,void 0,(e.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:nF,eF=Math.log,tF=Math.LN2;function nF(e){return e>>>=0,e===0?32:31-(eF(e)/tF|0)|0}var Cp=64,jp=4194304;function zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=zd(o):(s&=a,s!==0&&(r=zd(s)))}else a=n&~i,a!==0?r=zd(a):s!==0&&(r=zd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-as(t),i=1<<n,r|=e[n],t&=~i;return r}function rF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iF(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-as(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=rF(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Jw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EL(){var e=Cp;return Cp<<=1,!(Cp&4194240)&&(Cp=64),e}function L1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-as(t),e[t]=n}function sF(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-as(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Vx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-as(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ht=0;function AL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CL,Hx,jL,LL,PL,Qw=!1,Lp=[],bo=null,wo=null,_o=null,Sf=new Map,kf=new Map,uo=[],aF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TN(e,t){switch(e){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(t.pointerId)}}function Sd(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=mh(t),t!==null&&Hx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oF(e,t,n,r,i){switch(t){case"focusin":return bo=Sd(bo,e,t,n,r,i),!0;case"dragenter":return wo=Sd(wo,e,t,n,r,i),!0;case"mouseover":return _o=Sd(_o,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sf.set(s,Sd(Sf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kf.set(s,Sd(kf.get(s)||null,e,t,n,r,i)),!0}return!1}function RL(e){var t=ul(e.target);if(t!==null){var n=Tl(t);if(n!==null){if(t=n.tag,t===13){if(t=wL(n),t!==null){e.blockedOn=t,PL(e.priority,function(){jL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=e_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kw=r,n.target.dispatchEvent(r),Kw=null}else return t=mh(n),t!==null&&Hx(t),e.blockedOn=n,!1;t.shift()}return!0}function ON(e,t,n){dm(e)&&n.delete(t)}function lF(){Qw=!1,bo!==null&&dm(bo)&&(bo=null),wo!==null&&dm(wo)&&(wo=null),_o!==null&&dm(_o)&&(_o=null),Sf.forEach(ON),kf.forEach(ON)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,Qw||(Qw=!0,hi.unstable_scheduleCallback(hi.unstable_NormalPriority,lF)))}function Ef(e){function t(i){return kd(i,e)}if(0<Lp.length){kd(Lp[0],e);for(var n=1;n<Lp.length;n++){var r=Lp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bo!==null&&kd(bo,e),wo!==null&&kd(wo,e),_o!==null&&kd(_o,e),Sf.forEach(t),kf.forEach(t),n=0;n<uo.length;n++)r=uo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<uo.length&&(n=uo[0],n.blockedOn===null);)RL(n),n.blockedOn===null&&uo.shift()}var Xu=Aa.ReactCurrentBatchConfig,$m=!0;function uF(e,t,n,r){var i=Ht,s=Xu.transition;Xu.transition=null;try{Ht=1,Wx(e,t,n,r)}finally{Ht=i,Xu.transition=s}}function cF(e,t,n,r){var i=Ht,s=Xu.transition;Xu.transition=null;try{Ht=4,Wx(e,t,n,r)}finally{Ht=i,Xu.transition=s}}function Wx(e,t,n,r){if($m){var i=e_(e,t,n,r);if(i===null)B1(e,t,r,Um,n),TN(e,r);else if(oF(i,e,t,n,r))r.stopPropagation();else if(TN(e,r),t&4&&-1<aF.indexOf(e)){for(;i!==null;){var s=mh(i);if(s!==null&&CL(s),s=e_(e,t,n,r),s===null&&B1(e,t,r,Um,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else B1(e,t,r,null,n)}}var Um=null;function e_(e,t,n,r){if(Um=null,e=$x(r),e=ul(e),e!==null)if(t=Tl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Um=e,null}function IL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X9()){case Ux:return 1;case SL:return 4;case Bm:case J9:return 16;case kL:return 536870912;default:return 16}default:return 16}}var mo=null,Gx=null,fm=null;function TL(){if(fm)return fm;var e,t=Gx,n=t.length,r,i="value"in mo?mo.value:mo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return fm=i.slice(e,1<r?1-r:void 0)}function hm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pp(){return!0}function MN(){return!1}function gi(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pp:MN,this.isPropagationStopped=MN,this}return hn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pp)},persist:function(){},isPersistent:Pp}),t}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kx=gi(jc),ph=hn({},jc,{view:0,detail:0}),dF=gi(ph),P1,R1,Ed,zg=hn({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ed&&(Ed&&e.type==="mousemove"?(P1=e.screenX-Ed.screenX,R1=e.screenY-Ed.screenY):R1=P1=0,Ed=e),P1)},movementY:function(e){return"movementY"in e?e.movementY:R1}}),FN=gi(zg),fF=hn({},zg,{dataTransfer:0}),hF=gi(fF),pF=hn({},ph,{relatedTarget:0}),I1=gi(pF),mF=hn({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),gF=gi(mF),vF=hn({},jc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yF=gi(vF),bF=hn({},jc,{data:0}),qN=gi(bF),wF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_F={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xF[e])?!!t[e]:!1}function Zx(){return NF}var SF=hn({},ph,{key:function(e){if(e.key){var t=wF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_F[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zx,charCode:function(e){return e.type==="keypress"?hm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kF=gi(SF),EF=hn({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DN=gi(EF),AF=hn({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zx}),CF=gi(AF),jF=hn({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),LF=gi(jF),PF=hn({},zg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RF=gi(PF),IF=[9,13,27,32],Yx=ba&&"CompositionEvent"in window,cf=null;ba&&"documentMode"in document&&(cf=document.documentMode);var TF=ba&&"TextEvent"in window&&!cf,OL=ba&&(!Yx||cf&&8<cf&&11>=cf),BN=" ",zN=!1;function ML(e,t){switch(e){case"keyup":return IF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Iu=!1;function OF(e,t){switch(e){case"compositionend":return FL(t);case"keypress":return t.which!==32?null:(zN=!0,BN);case"textInput":return e=t.data,e===BN&&zN?null:e;default:return null}}function MF(e,t){if(Iu)return e==="compositionend"||!Yx&&ML(e,t)?(e=TL(),fm=Gx=mo=null,Iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OL&&t.locale!=="ko"?null:t.data;default:return null}}var FF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $N(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FF[e.type]:t==="textarea"}function qL(e,t,n,r){mL(r),t=Vm(t,"onChange"),0<t.length&&(n=new Kx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var df=null,Af=null;function qF(e){ZL(e,0)}function $g(e){var t=Mu(e);if(lL(t))return e}function DF(e,t){if(e==="change")return t}var DL=!1;if(ba){var T1;if(ba){var O1="oninput"in document;if(!O1){var UN=document.createElement("div");UN.setAttribute("oninput","return;"),O1=typeof UN.oninput=="function"}T1=O1}else T1=!1;DL=T1&&(!document.documentMode||9<document.documentMode)}function VN(){df&&(df.detachEvent("onpropertychange",BL),Af=df=null)}function BL(e){if(e.propertyName==="value"&&$g(Af)){var t=[];qL(t,Af,e,$x(e)),bL(qF,t)}}function BF(e,t,n){e==="focusin"?(VN(),df=t,Af=n,df.attachEvent("onpropertychange",BL)):e==="focusout"&&VN()}function zF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $g(Af)}function $F(e,t){if(e==="click")return $g(t)}function UF(e,t){if(e==="input"||e==="change")return $g(t)}function VF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:VF;function Cf(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mw.call(t,i)||!cs(e[i],t[i]))return!1}return!0}function HN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WN(e,t){var n=HN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HN(n)}}function zL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $L(){for(var e=window,t=Fm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fm(e.document)}return t}function Xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HF(e){var t=$L(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zL(n.ownerDocument.documentElement,n)){if(r!==null&&Xx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=WN(n,s);var a=WN(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WF=ba&&"documentMode"in document&&11>=document.documentMode,Tu=null,t_=null,ff=null,n_=!1;function GN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n_||Tu==null||Tu!==Fm(r)||(r=Tu,"selectionStart"in r&&Xx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ff&&Cf(ff,r)||(ff=r,r=Vm(t_,"onSelect"),0<r.length&&(t=new Kx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tu)))}function Rp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ou={animationend:Rp("Animation","AnimationEnd"),animationiteration:Rp("Animation","AnimationIteration"),animationstart:Rp("Animation","AnimationStart"),transitionend:Rp("Transition","TransitionEnd")},M1={},UL={};ba&&(UL=document.createElement("div").style,"AnimationEvent"in window||(delete Ou.animationend.animation,delete Ou.animationiteration.animation,delete Ou.animationstart.animation),"TransitionEvent"in window||delete Ou.transitionend.transition);function Ug(e){if(M1[e])return M1[e];if(!Ou[e])return e;var t=Ou[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UL)return M1[e]=t[n];return e}var VL=Ug("animationend"),HL=Ug("animationiteration"),WL=Ug("animationstart"),GL=Ug("transitionend"),KL=new Map,KN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(e,t){KL.set(e,t),Il(t,[e])}for(var F1=0;F1<KN.length;F1++){var q1=KN[F1],GF=q1.toLowerCase(),KF=q1[0].toUpperCase()+q1.slice(1);$o(GF,"on"+KF)}$o(VL,"onAnimationEnd");$o(HL,"onAnimationIteration");$o(WL,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(GL,"onTransitionEnd");hc("onMouseEnter",["mouseout","mouseover"]);hc("onMouseLeave",["mouseout","mouseover"]);hc("onPointerEnter",["pointerout","pointerover"]);hc("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZF=new Set("cancel close invalid load scroll toggle".split(" ").concat($d));function ZN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,G9(r,t,void 0,e),e.currentTarget=null}function ZL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;ZN(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;ZN(i,o,u),s=l}}}if(Dm)throw e=Xw,Dm=!1,Xw=null,e}function nn(e,t){var n=t[o_];n===void 0&&(n=t[o_]=new Set);var r=e+"__bubble";n.has(r)||(YL(t,e,2,!1),n.add(r))}function D1(e,t,n){var r=0;t&&(r|=4),YL(n,e,r,t)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function jf(e){if(!e[Ip]){e[Ip]=!0,rL.forEach(function(n){n!=="selectionchange"&&(ZF.has(n)||D1(n,!1,e),D1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ip]||(t[Ip]=!0,D1("selectionchange",!1,t))}}function YL(e,t,n,r){switch(IL(t)){case 1:var i=uF;break;case 4:i=cF;break;default:i=Wx}n=i.bind(null,t,n,e),i=void 0,!Yw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function B1(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ul(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}bL(function(){var u=s,c=$x(n),d=[];e:{var p=KL.get(e);if(p!==void 0){var h=Kx,w=e;switch(e){case"keypress":if(hm(n)===0)break e;case"keydown":case"keyup":h=kF;break;case"focusin":w="focus",h=I1;break;case"focusout":w="blur",h=I1;break;case"beforeblur":case"afterblur":h=I1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=FN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=CF;break;case VL:case HL:case WL:h=gF;break;case GL:h=LF;break;case"scroll":h=dF;break;case"wheel":h=RF;break;case"copy":case"cut":case"paste":h=yF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=DN}var y=(t&4)!==0,_=!y&&e==="scroll",m=y?p!==null?p+"Capture":null:p;y=[];for(var b=u,S;b!==null;){S=b;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,m!==null&&(k=Nf(b,m),k!=null&&y.push(Lf(b,k,S)))),_)break;b=b.return}0<y.length&&(p=new h(p,w,null,n,c),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Kw&&(w=n.relatedTarget||n.fromElement)&&(ul(w)||w[wa]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?ul(w):null,w!==null&&(_=Tl(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(y=FN,k="onMouseLeave",m="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=DN,k="onPointerLeave",m="onPointerEnter",b="pointer"),_=h==null?p:Mu(h),S=w==null?p:Mu(w),p=new y(k,b+"leave",h,n,c),p.target=_,p.relatedTarget=S,k=null,ul(c)===u&&(y=new y(m,b+"enter",w,n,c),y.target=S,y.relatedTarget=_,k=y),_=k,h&&w)t:{for(y=h,m=w,b=0,S=y;S;S=mu(S))b++;for(S=0,k=m;k;k=mu(k))S++;for(;0<b-S;)y=mu(y),b--;for(;0<S-b;)m=mu(m),S--;for(;b--;){if(y===m||m!==null&&y===m.alternate)break t;y=mu(y),m=mu(m)}y=null}else y=null;h!==null&&YN(d,p,h,y,!1),w!==null&&_!==null&&YN(d,_,w,y,!0)}}e:{if(p=u?Mu(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var P=DF;else if($N(p))if(DL)P=UF;else{P=zF;var D=BF}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=$F);if(P&&(P=P(e,u))){qL(d,P,n,c);break e}D&&D(e,p,u),e==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Uw(p,"number",p.value)}switch(D=u?Mu(u):window,e){case"focusin":($N(D)||D.contentEditable==="true")&&(Tu=D,t_=u,ff=null);break;case"focusout":ff=t_=Tu=null;break;case"mousedown":n_=!0;break;case"contextmenu":case"mouseup":case"dragend":n_=!1,GN(d,n,c);break;case"selectionchange":if(WF)break;case"keydown":case"keyup":GN(d,n,c)}var R;if(Yx)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Iu?ML(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(OL&&n.locale!=="ko"&&(Iu||L!=="onCompositionStart"?L==="onCompositionEnd"&&Iu&&(R=TL()):(mo=c,Gx="value"in mo?mo.value:mo.textContent,Iu=!0)),D=Vm(u,L),0<D.length&&(L=new qN(L,e,null,n,c),d.push({event:L,listeners:D}),R?L.data=R:(R=FL(n),R!==null&&(L.data=R)))),(R=TF?OF(e,n):MF(e,n))&&(u=Vm(u,"onBeforeInput"),0<u.length&&(c=new qN("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}ZL(d,t)})}function Lf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nf(e,n),s!=null&&r.unshift(Lf(e,s,i)),s=Nf(e,t),s!=null&&r.push(Lf(e,s,i))),e=e.return}return r}function mu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YN(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Nf(n,s),l!=null&&a.unshift(Lf(n,l,o))):i||(l=Nf(n,s),l!=null&&a.push(Lf(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var YF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function XN(e){return(typeof e=="string"?e:""+e).replace(YF,`
`).replace(XF,"")}function Tp(e,t,n){if(t=XN(t),XN(e)!==t&&n)throw Error(Ie(425))}function Hm(){}var r_=null,i_=null;function s_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a_=typeof setTimeout=="function"?setTimeout:void 0,JF=typeof clearTimeout=="function"?clearTimeout:void 0,JN=typeof Promise=="function"?Promise:void 0,QF=typeof queueMicrotask=="function"?queueMicrotask:typeof JN<"u"?function(e){return JN.resolve(null).then(e).catch(eq)}:a_;function eq(e){setTimeout(function(){throw e})}function z1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ef(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ef(t)}function xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function QN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Lc,Pf="__reactProps$"+Lc,wa="__reactContainer$"+Lc,o_="__reactEvents$"+Lc,tq="__reactListeners$"+Lc,nq="__reactHandles$"+Lc;function ul(e){var t=e[Ps];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wa]||n[Ps]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=QN(e);e!==null;){if(n=e[Ps])return n;e=QN(e)}return t}e=n,n=e.parentNode}return null}function mh(e){return e=e[Ps]||e[wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function Vg(e){return e[Pf]||null}var l_=[],Fu=-1;function Uo(e){return{current:e}}function sn(e){0>Fu||(e.current=l_[Fu],l_[Fu]=null,Fu--)}function tn(e,t){Fu++,l_[Fu]=e.current,e.current=t}var Io={},gr=Uo(Io),zr=Uo(!1),Nl=Io;function pc(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $r(e){return e=e.childContextTypes,e!=null}function Wm(){sn(zr),sn(gr)}function eS(e,t,n){if(gr.current!==Io)throw Error(Ie(168));tn(gr,t),tn(zr,n)}function XL(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ie(108,B9(e)||"Unknown",i));return hn({},n,r)}function Gm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,Nl=gr.current,tn(gr,e),tn(zr,zr.current),!0}function tS(e,t,n){var r=e.stateNode;if(!r)throw Error(Ie(169));n?(e=XL(e,t,Nl),r.__reactInternalMemoizedMergedChildContext=e,sn(zr),sn(gr),tn(gr,e)):sn(zr),tn(zr,n)}var fa=null,Hg=!1,$1=!1;function JL(e){fa===null?fa=[e]:fa.push(e)}function rq(e){Hg=!0,JL(e)}function Vo(){if(!$1&&fa!==null){$1=!0;var e=0,t=Ht;try{var n=fa;for(Ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fa=null,Hg=!1}catch(i){throw fa!==null&&(fa=fa.slice(e+1)),NL(Ux,Vo),i}finally{Ht=t,$1=!1}}return null}var qu=[],Du=0,Km=null,Zm=0,Li=[],Pi=0,Sl=null,ha=1,pa="";function rl(e,t){qu[Du++]=Zm,qu[Du++]=Km,Km=e,Zm=t}function QL(e,t,n){Li[Pi++]=ha,Li[Pi++]=pa,Li[Pi++]=Sl,Sl=e;var r=ha;e=pa;var i=32-as(r)-1;r&=~(1<<i),n+=1;var s=32-as(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ha=1<<32-as(t)+i|n<<i|r,pa=s+e}else ha=1<<s|n<<i|r,pa=e}function Jx(e){e.return!==null&&(rl(e,1),QL(e,1,0))}function Qx(e){for(;e===Km;)Km=qu[--Du],qu[Du]=null,Zm=qu[--Du],qu[Du]=null;for(;e===Sl;)Sl=Li[--Pi],Li[Pi]=null,pa=Li[--Pi],Li[Pi]=null,ha=Li[--Pi],Li[Pi]=null}var ci=null,li=null,an=!1,es=null;function e7(e,t){var n=Ri(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ci=e,li=xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ci=e,li=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sl!==null?{id:ha,overflow:pa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ri(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ci=e,li=null,!0):!1;default:return!1}}function u_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c_(e){if(an){var t=li;if(t){var n=t;if(!nS(e,t)){if(u_(e))throw Error(Ie(418));t=xo(n.nextSibling);var r=ci;t&&nS(e,t)?e7(r,n):(e.flags=e.flags&-4097|2,an=!1,ci=e)}}else{if(u_(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,an=!1,ci=e}}}function rS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ci=e}function Op(e){if(e!==ci)return!1;if(!an)return rS(e),an=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!s_(e.type,e.memoizedProps)),t&&(t=li)){if(u_(e))throw t7(),Error(Ie(418));for(;t;)e7(e,t),t=xo(t.nextSibling)}if(rS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){li=xo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}li=null}}else li=ci?xo(e.stateNode.nextSibling):null;return!0}function t7(){for(var e=li;e;)e=xo(e.nextSibling)}function mc(){li=ci=null,an=!1}function e3(e){es===null?es=[e]:es.push(e)}var iq=Aa.ReactCurrentBatchConfig;function Ad(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,e))}return e}function Mp(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iS(e){var t=e._init;return t(e._payload)}function n7(e){function t(m,b){if(e){var S=m.deletions;S===null?(m.deletions=[b],m.flags|=16):S.push(b)}}function n(m,b){if(!e)return null;for(;b!==null;)t(m,b),b=b.sibling;return null}function r(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function i(m,b){return m=Eo(m,b),m.index=0,m.sibling=null,m}function s(m,b,S){return m.index=S,e?(S=m.alternate,S!==null?(S=S.index,S<b?(m.flags|=2,b):S):(m.flags|=2,b)):(m.flags|=1048576,b)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,b,S,k){return b===null||b.tag!==6?(b=Z1(S,m.mode,k),b.return=m,b):(b=i(b,S),b.return=m,b)}function l(m,b,S,k){var P=S.type;return P===Ru?c(m,b,S.props.children,k,S.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===so&&iS(P)===b.type)?(k=i(b,S.props),k.ref=Ad(m,b,S),k.return=m,k):(k=wm(S.type,S.key,S.props,null,m.mode,k),k.ref=Ad(m,b,S),k.return=m,k)}function u(m,b,S,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Y1(S,m.mode,k),b.return=m,b):(b=i(b,S.children||[]),b.return=m,b)}function c(m,b,S,k,P){return b===null||b.tag!==7?(b=yl(S,m.mode,k,P),b.return=m,b):(b=i(b,S),b.return=m,b)}function d(m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Z1(""+b,m.mode,S),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kp:return S=wm(b.type,b.key,b.props,null,m.mode,S),S.ref=Ad(m,null,b),S.return=m,S;case Pu:return b=Y1(b,m.mode,S),b.return=m,b;case so:var k=b._init;return d(m,k(b._payload),S)}if(Bd(b)||xd(b))return b=yl(b,m.mode,S,null),b.return=m,b;Mp(m,b)}return null}function p(m,b,S,k){var P=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:o(m,b,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kp:return S.key===P?l(m,b,S,k):null;case Pu:return S.key===P?u(m,b,S,k):null;case so:return P=S._init,p(m,b,P(S._payload),k)}if(Bd(S)||xd(S))return P!==null?null:c(m,b,S,k,null);Mp(m,S)}return null}function h(m,b,S,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(S)||null,o(b,m,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case kp:return m=m.get(k.key===null?S:k.key)||null,l(b,m,k,P);case Pu:return m=m.get(k.key===null?S:k.key)||null,u(b,m,k,P);case so:var D=k._init;return h(m,b,S,D(k._payload),P)}if(Bd(k)||xd(k))return m=m.get(S)||null,c(b,m,k,P,null);Mp(b,k)}return null}function w(m,b,S,k){for(var P=null,D=null,R=b,L=b=0,$=null;R!==null&&L<S.length;L++){R.index>L?($=R,R=null):$=R.sibling;var V=p(m,R,S[L],k);if(V===null){R===null&&(R=$);break}e&&R&&V.alternate===null&&t(m,R),b=s(V,b,L),D===null?P=V:D.sibling=V,D=V,R=$}if(L===S.length)return n(m,R),an&&rl(m,L),P;if(R===null){for(;L<S.length;L++)R=d(m,S[L],k),R!==null&&(b=s(R,b,L),D===null?P=R:D.sibling=R,D=R);return an&&rl(m,L),P}for(R=r(m,R);L<S.length;L++)$=h(R,m,L,S[L],k),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?L:$.key),b=s($,b,L),D===null?P=$:D.sibling=$,D=$);return e&&R.forEach(function(j){return t(m,j)}),an&&rl(m,L),P}function y(m,b,S,k){var P=xd(S);if(typeof P!="function")throw Error(Ie(150));if(S=P.call(S),S==null)throw Error(Ie(151));for(var D=P=null,R=b,L=b=0,$=null,V=S.next();R!==null&&!V.done;L++,V=S.next()){R.index>L?($=R,R=null):$=R.sibling;var j=p(m,R,V.value,k);if(j===null){R===null&&(R=$);break}e&&R&&j.alternate===null&&t(m,R),b=s(j,b,L),D===null?P=j:D.sibling=j,D=j,R=$}if(V.done)return n(m,R),an&&rl(m,L),P;if(R===null){for(;!V.done;L++,V=S.next())V=d(m,V.value,k),V!==null&&(b=s(V,b,L),D===null?P=V:D.sibling=V,D=V);return an&&rl(m,L),P}for(R=r(m,R);!V.done;L++,V=S.next())V=h(R,m,L,V.value,k),V!==null&&(e&&V.alternate!==null&&R.delete(V.key===null?L:V.key),b=s(V,b,L),D===null?P=V:D.sibling=V,D=V);return e&&R.forEach(function(T){return t(m,T)}),an&&rl(m,L),P}function _(m,b,S,k){if(typeof S=="object"&&S!==null&&S.type===Ru&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case kp:e:{for(var P=S.key,D=b;D!==null;){if(D.key===P){if(P=S.type,P===Ru){if(D.tag===7){n(m,D.sibling),b=i(D,S.props.children),b.return=m,m=b;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===so&&iS(P)===D.type){n(m,D.sibling),b=i(D,S.props),b.ref=Ad(m,D,S),b.return=m,m=b;break e}n(m,D);break}else t(m,D);D=D.sibling}S.type===Ru?(b=yl(S.props.children,m.mode,k,S.key),b.return=m,m=b):(k=wm(S.type,S.key,S.props,null,m.mode,k),k.ref=Ad(m,b,S),k.return=m,m=k)}return a(m);case Pu:e:{for(D=S.key;b!==null;){if(b.key===D)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(m,b.sibling),b=i(b,S.children||[]),b.return=m,m=b;break e}else{n(m,b);break}else t(m,b);b=b.sibling}b=Y1(S,m.mode,k),b.return=m,m=b}return a(m);case so:return D=S._init,_(m,b,D(S._payload),k)}if(Bd(S))return w(m,b,S,k);if(xd(S))return y(m,b,S,k);Mp(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(m,b.sibling),b=i(b,S),b.return=m,m=b):(n(m,b),b=Z1(S,m.mode,k),b.return=m,m=b),a(m)):n(m,b)}return _}var gc=n7(!0),r7=n7(!1),Ym=Uo(null),Xm=null,Bu=null,t3=null;function n3(){t3=Bu=Xm=null}function r3(e){var t=Ym.current;sn(Ym),e._currentValue=t}function d_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ju(e,t){Xm=e,t3=Bu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function Oi(e){var t=e._currentValue;if(t3!==e)if(e={context:e,memoizedValue:t,next:null},Bu===null){if(Xm===null)throw Error(Ie(308));Bu=e,Xm.dependencies={lanes:0,firstContext:e}}else Bu=Bu.next=e;return t}var cl=null;function i3(e){cl===null?cl=[e]:cl.push(e)}function i7(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,i3(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ao=!1;function s3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Mt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return i=r.interleaved,i===null?(t.next=t,i3(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function pm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vx(e,n)}}function sS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jm(e,t,n,r){var i=e.updateQueue;ao=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var p=o.lane,h=o.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,y=o;switch(p=t,h=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(h,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(h,d,p):w,p==null)break e;d=hn({},d,p);break e;case 2:ao=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);El|=a,e.lanes=a,e.memoizedState=d}}function aS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var gh={},Ms=Uo(gh),Rf=Uo(gh),If=Uo(gh);function dl(e){if(e===gh)throw Error(Ie(174));return e}function a3(e,t){switch(tn(If,t),tn(Rf,e),tn(Ms,gh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hw(t,e)}sn(Ms),tn(Ms,t)}function vc(){sn(Ms),sn(Rf),sn(If)}function a7(e){dl(If.current);var t=dl(Ms.current),n=Hw(t,e.type);t!==n&&(tn(Rf,e),tn(Ms,n))}function o3(e){Rf.current===e&&(sn(Ms),sn(Rf))}var dn=Uo(0);function Qm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var U1=[];function l3(){for(var e=0;e<U1.length;e++)U1[e]._workInProgressVersionPrimary=null;U1.length=0}var mm=Aa.ReactCurrentDispatcher,V1=Aa.ReactCurrentBatchConfig,kl=0,fn=null,zn=null,Gn=null,eg=!1,hf=!1,Tf=0,sq=0;function or(){throw Error(Ie(321))}function u3(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cs(e[n],t[n]))return!1;return!0}function c3(e,t,n,r,i,s){if(kl=s,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mm.current=e===null||e.memoizedState===null?uq:cq,e=n(r,i),hf){s=0;do{if(hf=!1,Tf=0,25<=s)throw Error(Ie(301));s+=1,Gn=zn=null,t.updateQueue=null,mm.current=dq,e=n(r,i)}while(hf)}if(mm.current=tg,t=zn!==null&&zn.next!==null,kl=0,Gn=zn=fn=null,eg=!1,t)throw Error(Ie(300));return e}function d3(){var e=Tf!==0;return Tf=0,e}function As(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?fn.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function Mi(){if(zn===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=zn.next;var t=Gn===null?fn.memoizedState:Gn.next;if(t!==null)Gn=t,zn=e;else{if(e===null)throw Error(Ie(310));zn=e,e={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Gn===null?fn.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function Of(e,t){return typeof t=="function"?t(e):t}function H1(e){var t=Mi(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=zn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((kl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,fn.lanes|=c,El|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,cs(r,t.memoizedState)||(Dr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,fn.lanes|=s,El|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function W1(e){var t=Mi(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);cs(s,t.memoizedState)||(Dr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function o7(){}function l7(e,t){var n=fn,r=Mi(),i=t(),s=!cs(r.memoizedState,i);if(s&&(r.memoizedState=i,Dr=!0),r=r.queue,f3(d7.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,Mf(9,c7.bind(null,n,r,i,t),void 0,null),Zn===null)throw Error(Ie(349));kl&30||u7(n,t,i)}return i}function u7(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function c7(e,t,n,r){t.value=n,t.getSnapshot=r,f7(t)&&h7(e)}function d7(e,t,n){return n(function(){f7(t)&&h7(e)})}function f7(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cs(e,n)}catch{return!0}}function h7(e){var t=_a(e,1);t!==null&&os(t,e,1,-1)}function oS(e){var t=As();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:e},t.queue=e,e=e.dispatch=lq.bind(null,fn,e),[t.memoizedState,e]}function Mf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function p7(){return Mi().memoizedState}function gm(e,t,n,r){var i=As();fn.flags|=e,i.memoizedState=Mf(1|t,n,void 0,r===void 0?null:r)}function Wg(e,t,n,r){var i=Mi();r=r===void 0?null:r;var s=void 0;if(zn!==null){var a=zn.memoizedState;if(s=a.destroy,r!==null&&u3(r,a.deps)){i.memoizedState=Mf(t,n,s,r);return}}fn.flags|=e,i.memoizedState=Mf(1|t,n,s,r)}function lS(e,t){return gm(8390656,8,e,t)}function f3(e,t){return Wg(2048,8,e,t)}function m7(e,t){return Wg(4,2,e,t)}function g7(e,t){return Wg(4,4,e,t)}function v7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y7(e,t,n){return n=n!=null?n.concat([e]):null,Wg(4,4,v7.bind(null,t,e),n)}function h3(){}function b7(e,t){var n=Mi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&u3(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function w7(e,t){var n=Mi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&u3(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _7(e,t,n){return kl&21?(cs(n,t)||(n=EL(),fn.lanes|=n,El|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=n)}function aq(e,t){var n=Ht;Ht=n!==0&&4>n?n:4,e(!0);var r=V1.transition;V1.transition={};try{e(!1),t()}finally{Ht=n,V1.transition=r}}function x7(){return Mi().memoizedState}function oq(e,t,n){var r=ko(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},N7(e))S7(t,n);else if(n=i7(e,t,n,r),n!==null){var i=kr();os(n,e,r,i),k7(n,t,r)}}function lq(e,t,n){var r=ko(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(N7(e))S7(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,cs(o,a)){var l=t.interleaved;l===null?(i.next=i,i3(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=i7(e,t,i,r),n!==null&&(i=kr(),os(n,e,r,i),k7(n,t,r))}}function N7(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function S7(e,t){hf=eg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function k7(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vx(e,n)}}var tg={readContext:Oi,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},uq={readContext:Oi,useCallback:function(e,t){return As().memoizedState=[e,t===void 0?null:t],e},useContext:Oi,useEffect:lS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gm(4194308,4,v7.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gm(4194308,4,e,t)},useInsertionEffect:function(e,t){return gm(4,2,e,t)},useMemo:function(e,t){var n=As();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=As();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oq.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=As();return e={current:e},t.memoizedState=e},useState:oS,useDebugValue:h3,useDeferredValue:function(e){return As().memoizedState=e},useTransition:function(){var e=oS(!1),t=e[0];return e=aq.bind(null,e[1]),As().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,i=As();if(an){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=t(),Zn===null)throw Error(Ie(349));kl&30||u7(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,lS(d7.bind(null,r,s,e),[e]),r.flags|=2048,Mf(9,c7.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=As(),t=Zn.identifierPrefix;if(an){var n=pa,r=ha;n=(r&~(1<<32-as(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cq={readContext:Oi,useCallback:b7,useContext:Oi,useEffect:f3,useImperativeHandle:y7,useInsertionEffect:m7,useLayoutEffect:g7,useMemo:w7,useReducer:H1,useRef:p7,useState:function(){return H1(Of)},useDebugValue:h3,useDeferredValue:function(e){var t=Mi();return _7(t,zn.memoizedState,e)},useTransition:function(){var e=H1(Of)[0],t=Mi().memoizedState;return[e,t]},useMutableSource:o7,useSyncExternalStore:l7,useId:x7,unstable_isNewReconciler:!1},dq={readContext:Oi,useCallback:b7,useContext:Oi,useEffect:f3,useImperativeHandle:y7,useInsertionEffect:m7,useLayoutEffect:g7,useMemo:w7,useReducer:W1,useRef:p7,useState:function(){return W1(Of)},useDebugValue:h3,useDeferredValue:function(e){var t=Mi();return zn===null?t.memoizedState=e:_7(t,zn.memoizedState,e)},useTransition:function(){var e=W1(Of)[0],t=Mi().memoizedState;return[e,t]},useMutableSource:o7,useSyncExternalStore:l7,useId:x7,unstable_isNewReconciler:!1};function Yi(e,t){if(e&&e.defaultProps){t=hn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function f_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:hn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gg={isMounted:function(e){return(e=e._reactInternals)?Tl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kr(),i=ko(e),s=ya(r,i);s.payload=t,n!=null&&(s.callback=n),t=No(e,s,i),t!==null&&(os(t,e,i,r),pm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kr(),i=ko(e),s=ya(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=No(e,s,i),t!==null&&(os(t,e,i,r),pm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kr(),r=ko(e),i=ya(n,r);i.tag=2,t!=null&&(i.callback=t),t=No(e,i,r),t!==null&&(os(t,e,r,n),pm(t,e,r))}};function uS(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Cf(n,r)||!Cf(i,s):!0}function E7(e,t,n){var r=!1,i=Io,s=t.contextType;return typeof s=="object"&&s!==null?s=Oi(s):(i=$r(t)?Nl:gr.current,r=t.contextTypes,s=(r=r!=null)?pc(e,i):Io),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function cS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gg.enqueueReplaceState(t,t.state,null)}function h_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},s3(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Oi(s):(s=$r(t)?Nl:gr.current,i.context=pc(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(f_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gg.enqueueReplaceState(i,i.state,null),Jm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yc(e,t){try{var n="",r=t;do n+=D9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function G1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function p_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fq=typeof WeakMap=="function"?WeakMap:Map;function A7(e,t,n){n=ya(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rg||(rg=!0,S_=r),p_(e,t)},n}function C7(e,t,n){n=ya(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){p_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){p_(e,t),typeof r!="function"&&(So===null?So=new Set([this]):So.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function dS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fq;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eq.bind(null,e,t,n),t.then(e,e))}function fS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hS(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ya(-1,1),t.tag=2,No(n,t,1))),n.lanes|=1),e)}var hq=Aa.ReactCurrentOwner,Dr=!1;function Sr(e,t,n,r){t.child=e===null?r7(t,null,n,r):gc(t,e.child,n,r)}function pS(e,t,n,r,i){n=n.render;var s=t.ref;return Ju(t,i),r=c3(e,t,n,r,s,i),n=d3(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xa(e,t,i)):(an&&n&&Jx(t),t.flags|=1,Sr(e,t,r,i),t.child)}function mS(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!_3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,j7(e,t,s,r,i)):(e=wm(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cf,n(a,r)&&e.ref===t.ref)return xa(e,t,i)}return t.flags|=1,e=Eo(s,r),e.ref=t.ref,e.return=t,t.child=e}function j7(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Cf(s,r)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,xa(e,t,i)}return m_(e,t,n,r,i)}function L7(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn($u,si),si|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tn($u,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tn($u,si),si|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tn($u,si),si|=r;return Sr(e,t,i,n),t.child}function P7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function m_(e,t,n,r,i){var s=$r(n)?Nl:gr.current;return s=pc(t,s),Ju(t,i),n=c3(e,t,n,r,s,i),r=d3(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xa(e,t,i)):(an&&r&&Jx(t),t.flags|=1,Sr(e,t,n,i),t.child)}function gS(e,t,n,r,i){if($r(n)){var s=!0;Gm(t)}else s=!1;if(Ju(t,i),t.stateNode===null)vm(e,t),E7(t,n,r),h_(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Oi(u):(u=$r(n)?Nl:gr.current,u=pc(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&cS(t,a,r,u),ao=!1;var p=t.memoizedState;a.state=p,Jm(t,r,a,i),l=t.memoizedState,o!==r||p!==l||zr.current||ao?(typeof c=="function"&&(f_(t,n,c,r),l=t.memoizedState),(o=ao||uS(t,n,o,r,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,s7(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Yi(t.type,o),a.props=u,d=t.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Oi(l):(l=$r(n)?Nl:gr.current,l=pc(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==l)&&cS(t,a,r,l),ao=!1,p=t.memoizedState,a.state=p,Jm(t,r,a,i);var w=t.memoizedState;o!==d||p!==w||zr.current||ao?(typeof h=="function"&&(f_(t,n,h,r),w=t.memoizedState),(u=ao||uS(t,n,u,r,p,w,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return g_(e,t,n,r,s,i)}function g_(e,t,n,r,i,s){P7(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&tS(t,n,!1),xa(e,t,s);r=t.stateNode,hq.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=gc(t,e.child,null,s),t.child=gc(t,null,o,s)):Sr(e,t,o,s),t.memoizedState=r.state,i&&tS(t,n,!0),t.child}function R7(e){var t=e.stateNode;t.pendingContext?eS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eS(e,t.context,!1),a3(e,t.containerInfo)}function vS(e,t,n,r,i){return mc(),e3(i),t.flags|=256,Sr(e,t,n,r),t.child}var v_={dehydrated:null,treeContext:null,retryLane:0};function y_(e){return{baseLanes:e,cachePool:null,transitions:null}}function I7(e,t,n){var r=t.pendingProps,i=dn.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),tn(dn,i&1),e===null)return c_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Yg(a,r,0,null),e=yl(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=y_(n),t.memoizedState=v_,e):p3(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return pq(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Eo(o,s):(s=yl(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?y_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=v_,r}return s=e.child,e=s.sibling,r=Eo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function p3(e,t){return t=Yg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fp(e,t,n,r){return r!==null&&e3(r),gc(t,e.child,null,n),e=p3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pq(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=G1(Error(Ie(422))),Fp(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Yg({mode:"visible",children:r.children},i,0,null),s=yl(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&gc(t,e.child,null,a),t.child.memoizedState=y_(a),t.memoizedState=v_,s);if(!(t.mode&1))return Fp(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Ie(419)),r=G1(s,r,void 0),Fp(e,t,a,r)}if(o=(a&e.childLanes)!==0,Dr||o){if(r=Zn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_a(e,i),os(r,e,i,-1))}return w3(),r=G1(Error(Ie(421))),Fp(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Aq.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,li=xo(i.nextSibling),ci=t,an=!0,es=null,e!==null&&(Li[Pi++]=ha,Li[Pi++]=pa,Li[Pi++]=Sl,ha=e.id,pa=e.overflow,Sl=t),t=p3(t,r.children),t.flags|=4096,t)}function yS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),d_(e.return,t,n)}function K1(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function T7(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Sr(e,t,r.children,n),r=dn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yS(e,n,t);else if(e.tag===19)yS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tn(dn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),K1(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}K1(t,!0,n,null,s);break;case"together":K1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),El|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,n=Eo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Eo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mq(e,t,n){switch(t.tag){case 3:R7(t),mc();break;case 5:a7(t);break;case 1:$r(t.type)&&Gm(t);break;case 4:a3(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;tn(Ym,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tn(dn,dn.current&1),t.flags|=128,null):n&t.child.childLanes?I7(e,t,n):(tn(dn,dn.current&1),e=xa(e,t,n),e!==null?e.sibling:null);tn(dn,dn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return T7(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(dn,dn.current),r)break;return null;case 22:case 23:return t.lanes=0,L7(e,t,n)}return xa(e,t,n)}var O7,b_,M7,F7;O7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};b_=function(){};M7=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,dl(Ms.current);var s=null;switch(n){case"input":i=zw(e,i),r=zw(e,r),s=[];break;case"select":i=hn({},i,{value:void 0}),r=hn({},r,{value:void 0}),s=[];break;case"textarea":i=Vw(e,i),r=Vw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hm)}Ww(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_f.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_f.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nn("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};F7=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cd(e,t){if(!an)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gq(e,t,n){var r=t.pendingProps;switch(Qx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(t),null;case 1:return $r(t.type)&&Wm(),lr(t),null;case 3:return r=t.stateNode,vc(),sn(zr),sn(gr),l3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Op(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,es!==null&&(A_(es),es=null))),b_(e,t),lr(t),null;case 5:o3(t);var i=dl(If.current);if(n=t.type,e!==null&&t.stateNode!=null)M7(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ie(166));return lr(t),null}if(e=dl(Ms.current),Op(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ps]=t,r[Pf]=s,e=(t.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(i=0;i<$d.length;i++)nn($d[i],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":AN(r,s),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r);break;case"textarea":jN(r,s),nn("invalid",r)}Ww(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,o,e),i=["children",""+o]):_f.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&nn("scroll",r)}switch(n){case"input":Ep(r),CN(r,s,!0);break;case"textarea":Ep(r),LN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ps]=t,e[Pf]=r,O7(e,t,!1,!1),t.stateNode=e;e:{switch(a=Gw(n,r),n){case"dialog":nn("cancel",e),nn("close",e),i=r;break;case"iframe":case"object":case"embed":nn("load",e),i=r;break;case"video":case"audio":for(i=0;i<$d.length;i++)nn($d[i],e);i=r;break;case"source":nn("error",e),i=r;break;case"img":case"image":case"link":nn("error",e),nn("load",e),i=r;break;case"details":nn("toggle",e),i=r;break;case"input":AN(e,r),i=zw(e,r),nn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=hn({},r,{value:void 0}),nn("invalid",e);break;case"textarea":jN(e,r),i=Vw(e,r),nn("invalid",e);break;default:i=r}Ww(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?pL(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fL(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xf(e,l):typeof l=="number"&&xf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_f.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nn("scroll",e):l!=null&&qx(e,s,l,a))}switch(n){case"input":Ep(e),CN(e,r,!1);break;case"textarea":Ep(e),LN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ro(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ku(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ku(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lr(t),null;case 6:if(e&&t.stateNode!=null)F7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ie(166));if(n=dl(If.current),dl(Ms.current),Op(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ps]=t,(s=r.nodeValue!==n)&&(e=ci,e!==null))switch(e.tag){case 3:Tp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ps]=t,t.stateNode=r}return lr(t),null;case 13:if(sn(dn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(an&&li!==null&&t.mode&1&&!(t.flags&128))t7(),mc(),t.flags|=98560,s=!1;else if(s=Op(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[Ps]=t}else mc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lr(t),s=!1}else es!==null&&(A_(es),es=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dn.current&1?$n===0&&($n=3):w3())),t.updateQueue!==null&&(t.flags|=4),lr(t),null);case 4:return vc(),b_(e,t),e===null&&jf(t.stateNode.containerInfo),lr(t),null;case 10:return r3(t.type._context),lr(t),null;case 17:return $r(t.type)&&Wm(),lr(t),null;case 19:if(sn(dn),s=t.memoizedState,s===null)return lr(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Cd(s,!1);else{if($n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Qm(e),a!==null){for(t.flags|=128,Cd(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tn(dn,dn.current&1|2),t.child}e=e.sibling}s.tail!==null&&En()>bc&&(t.flags|=128,r=!0,Cd(s,!1),t.lanes=4194304)}else{if(!r)if(e=Qm(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!an)return lr(t),null}else 2*En()-s.renderingStartTime>bc&&n!==1073741824&&(t.flags|=128,r=!0,Cd(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=En(),t.sibling=null,n=dn.current,tn(dn,r?n&1|2:n&1),t):(lr(t),null);case 22:case 23:return b3(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?si&1073741824&&(lr(t),t.subtreeFlags&6&&(t.flags|=8192)):lr(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function vq(e,t){switch(Qx(t),t.tag){case 1:return $r(t.type)&&Wm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vc(),sn(zr),sn(gr),l3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return o3(t),null;case 13:if(sn(dn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));mc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sn(dn),null;case 4:return vc(),null;case 10:return r3(t.type._context),null;case 22:case 23:return b3(),null;case 24:return null;default:return null}}var qp=!1,pr=!1,yq=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function zu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bn(e,t,r)}else n.current=null}function w_(e,t,n){try{n()}catch(r){bn(e,t,r)}}var bS=!1;function bq(e,t){if(r_=$m,e=$L(),Xx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++u===i&&(o=a),p===s&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(i_={focusedElem:e,selectionRange:n},$m=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,_=w.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Yi(t.type,y),_);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(k){bn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return w=bS,bS=!1,w}function pf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&w_(t,n,s)}i=i.next}while(i!==r)}}function Kg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function __(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function q7(e){var t=e.alternate;t!==null&&(e.alternate=null,q7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ps],delete t[Pf],delete t[o_],delete t[tq],delete t[nq])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D7(e){return e.tag===5||e.tag===3||e.tag===4}function wS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function x_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hm));else if(r!==4&&(e=e.child,e!==null))for(x_(e,t,n),e=e.sibling;e!==null;)x_(e,t,n),e=e.sibling}function N_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(N_(e,t,n),e=e.sibling;e!==null;)N_(e,t,n),e=e.sibling}var Qn=null,Qi=!1;function Ya(e,t,n){for(n=n.child;n!==null;)B7(e,t,n),n=n.sibling}function B7(e,t,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(Bg,n)}catch{}switch(n.tag){case 5:pr||zu(n,t);case 6:var r=Qn,i=Qi;Qn=null,Ya(e,t,n),Qn=r,Qi=i,Qn!==null&&(Qi?(e=Qn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qn.removeChild(n.stateNode));break;case 18:Qn!==null&&(Qi?(e=Qn,n=n.stateNode,e.nodeType===8?z1(e.parentNode,n):e.nodeType===1&&z1(e,n),Ef(e)):z1(Qn,n.stateNode));break;case 4:r=Qn,i=Qi,Qn=n.stateNode.containerInfo,Qi=!0,Ya(e,t,n),Qn=r,Qi=i;break;case 0:case 11:case 14:case 15:if(!pr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&w_(n,t,a),i=i.next}while(i!==r)}Ya(e,t,n);break;case 1:if(!pr&&(zu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){bn(n,t,o)}Ya(e,t,n);break;case 21:Ya(e,t,n);break;case 22:n.mode&1?(pr=(r=pr)||n.memoizedState!==null,Ya(e,t,n),pr=r):Ya(e,t,n);break;default:Ya(e,t,n)}}function _S(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yq),t.forEach(function(r){var i=Cq.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qn=o.stateNode,Qi=!1;break e;case 3:Qn=o.stateNode.containerInfo,Qi=!0;break e;case 4:Qn=o.stateNode.containerInfo,Qi=!0;break e}o=o.return}if(Qn===null)throw Error(Ie(160));B7(s,a,i),Qn=null,Qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z7(t,e),t=t.sibling}function z7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wi(t,e),Ss(e),r&4){try{pf(3,e,e.return),Kg(3,e)}catch(y){bn(e,e.return,y)}try{pf(5,e,e.return)}catch(y){bn(e,e.return,y)}}break;case 1:Wi(t,e),Ss(e),r&512&&n!==null&&zu(n,n.return);break;case 5:if(Wi(t,e),Ss(e),r&512&&n!==null&&zu(n,n.return),e.flags&32){var i=e.stateNode;try{xf(i,"")}catch(y){bn(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&uL(i,s),Gw(o,a);var u=Gw(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?pL(i,d):c==="dangerouslySetInnerHTML"?fL(i,d):c==="children"?xf(i,d):qx(i,c,d,u)}switch(o){case"input":$w(i,s);break;case"textarea":cL(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Ku(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ku(i,!!s.multiple,s.defaultValue,!0):Ku(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pf]=s}catch(y){bn(e,e.return,y)}}break;case 6:if(Wi(t,e),Ss(e),r&4){if(e.stateNode===null)throw Error(Ie(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){bn(e,e.return,y)}}break;case 3:if(Wi(t,e),Ss(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ef(t.containerInfo)}catch(y){bn(e,e.return,y)}break;case 4:Wi(t,e),Ss(e);break;case 13:Wi(t,e),Ss(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(v3=En())),r&4&&_S(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(pr=(u=pr)||c,Wi(t,e),pr=u):Wi(t,e),Ss(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ge=e,c=e.child;c!==null;){for(d=Ge=c;Ge!==null;){switch(p=Ge,h=p.child,p.tag){case 0:case 11:case 14:case 15:pf(4,p,p.return);break;case 1:zu(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){bn(r,n,y)}}break;case 5:zu(p,p.return);break;case 22:if(p.memoizedState!==null){NS(d);continue}}h!==null?(h.return=p,Ge=h):NS(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=hL("display",a))}catch(y){bn(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){bn(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wi(t,e),Ss(e),r&4&&_S(e);break;case 21:break;default:Wi(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(D7(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xf(i,""),r.flags&=-33);var s=wS(e);N_(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=wS(e);x_(e,o,a);break;default:throw Error(Ie(161))}}catch(l){bn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wq(e,t,n){Ge=e,$7(e)}function $7(e,t,n){for(var r=(e.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||qp;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||pr;o=qp;var u=pr;if(qp=a,(pr=l)&&!u)for(Ge=i;Ge!==null;)a=Ge,l=a.child,a.tag===22&&a.memoizedState!==null?SS(i):l!==null?(l.return=a,Ge=l):SS(i);for(;s!==null;)Ge=s,$7(s),s=s.sibling;Ge=i,qp=o,pr=u}xS(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ge=s):xS(e)}}function xS(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pr||Kg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&aS(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}aS(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ef(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}pr||t.flags&512&&__(t)}catch(p){bn(t,t.return,p)}}if(t===e){Ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function NS(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ge=n;break}Ge=t.return}}function SS(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kg(4,t)}catch(l){bn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){bn(t,i,l)}}var s=t.return;try{__(t)}catch(l){bn(t,s,l)}break;case 5:var a=t.return;try{__(t)}catch(l){bn(t,a,l)}}}catch(l){bn(t,t.return,l)}if(t===e){Ge=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ge=o;break}Ge=t.return}}var _q=Math.ceil,ng=Aa.ReactCurrentDispatcher,m3=Aa.ReactCurrentOwner,Ti=Aa.ReactCurrentBatchConfig,Mt=0,Zn=null,In=null,tr=0,si=0,$u=Uo(0),$n=0,Ff=null,El=0,Zg=0,g3=0,mf=null,qr=null,v3=0,bc=1/0,da=null,rg=!1,S_=null,So=null,Dp=!1,go=null,ig=0,gf=0,k_=null,ym=-1,bm=0;function kr(){return Mt&6?En():ym!==-1?ym:ym=En()}function ko(e){return e.mode&1?Mt&2&&tr!==0?tr&-tr:iq.transition!==null?(bm===0&&(bm=EL()),bm):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:IL(e.type)),e):1}function os(e,t,n,r){if(50<gf)throw gf=0,k_=null,Error(Ie(185));hh(e,n,r),(!(Mt&2)||e!==Zn)&&(e===Zn&&(!(Mt&2)&&(Zg|=n),$n===4&&co(e,tr)),Ur(e,r),n===1&&Mt===0&&!(t.mode&1)&&(bc=En()+500,Hg&&Vo()))}function Ur(e,t){var n=e.callbackNode;iF(e,t);var r=zm(e,e===Zn?tr:0);if(r===0)n!==null&&IN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&IN(n),t===1)e.tag===0?rq(kS.bind(null,e)):JL(kS.bind(null,e)),QF(function(){!(Mt&6)&&Vo()}),n=null;else{switch(AL(r)){case 1:n=Ux;break;case 4:n=SL;break;case 16:n=Bm;break;case 536870912:n=kL;break;default:n=Bm}n=Y7(n,U7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function U7(e,t){if(ym=-1,bm=0,Mt&6)throw Error(Ie(327));var n=e.callbackNode;if(Qu()&&e.callbackNode!==n)return null;var r=zm(e,e===Zn?tr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sg(e,r);else{t=r;var i=Mt;Mt|=2;var s=H7();(Zn!==e||tr!==t)&&(da=null,bc=En()+500,vl(e,t));do try{Sq();break}catch(o){V7(e,o)}while(!0);n3(),ng.current=s,Mt=i,In!==null?t=0:(Zn=null,tr=0,t=$n)}if(t!==0){if(t===2&&(i=Jw(e),i!==0&&(r=i,t=E_(e,i))),t===1)throw n=Ff,vl(e,0),co(e,r),Ur(e,En()),n;if(t===6)co(e,r);else{if(i=e.current.alternate,!(r&30)&&!xq(i)&&(t=sg(e,r),t===2&&(s=Jw(e),s!==0&&(r=s,t=E_(e,s))),t===1))throw n=Ff,vl(e,0),co(e,r),Ur(e,En()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ie(345));case 2:il(e,qr,da);break;case 3:if(co(e,r),(r&130023424)===r&&(t=v3+500-En(),10<t)){if(zm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){kr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=a_(il.bind(null,e,qr,da),t);break}il(e,qr,da);break;case 4:if(co(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-as(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_q(r/1960))-r,10<r){e.timeoutHandle=a_(il.bind(null,e,qr,da),r);break}il(e,qr,da);break;case 5:il(e,qr,da);break;default:throw Error(Ie(329))}}}return Ur(e,En()),e.callbackNode===n?U7.bind(null,e):null}function E_(e,t){var n=mf;return e.current.memoizedState.isDehydrated&&(vl(e,t).flags|=256),e=sg(e,t),e!==2&&(t=qr,qr=n,t!==null&&A_(t)),e}function A_(e){qr===null?qr=e:qr.push.apply(qr,e)}function xq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cs(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function co(e,t){for(t&=~g3,t&=~Zg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-as(t),r=1<<n;e[n]=-1,t&=~r}}function kS(e){if(Mt&6)throw Error(Ie(327));Qu();var t=zm(e,0);if(!(t&1))return Ur(e,En()),null;var n=sg(e,t);if(e.tag!==0&&n===2){var r=Jw(e);r!==0&&(t=r,n=E_(e,r))}if(n===1)throw n=Ff,vl(e,0),co(e,t),Ur(e,En()),n;if(n===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,il(e,qr,da),Ur(e,En()),null}function y3(e,t){var n=Mt;Mt|=1;try{return e(t)}finally{Mt=n,Mt===0&&(bc=En()+500,Hg&&Vo())}}function Al(e){go!==null&&go.tag===0&&!(Mt&6)&&Qu();var t=Mt;Mt|=1;var n=Ti.transition,r=Ht;try{if(Ti.transition=null,Ht=1,e)return e()}finally{Ht=r,Ti.transition=n,Mt=t,!(Mt&6)&&Vo()}}function b3(){si=$u.current,sn($u)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JF(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch(Qx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wm();break;case 3:vc(),sn(zr),sn(gr),l3();break;case 5:o3(r);break;case 4:vc();break;case 13:sn(dn);break;case 19:sn(dn);break;case 10:r3(r.type._context);break;case 22:case 23:b3()}n=n.return}if(Zn=e,In=e=Eo(e.current,null),tr=si=t,$n=0,Ff=null,g3=Zg=El=0,qr=mf=null,cl!==null){for(t=0;t<cl.length;t++)if(n=cl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}cl=null}return e}function V7(e,t){do{var n=In;try{if(n3(),mm.current=tg,eg){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eg=!1}if(kl=0,Gn=zn=fn=null,hf=!1,Tf=0,m3.current=null,n===null||n.return===null){$n=1,Ff=t,In=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=tr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=fS(a);if(h!==null){h.flags&=-257,hS(h,a,o,s,t),h.mode&1&&dS(s,u,t),t=h,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){dS(s,u,t),w3();break e}l=Error(Ie(426))}}else if(an&&o.mode&1){var _=fS(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),hS(_,a,o,s,t),e3(yc(l,o));break e}}s=l=yc(l,o),$n!==4&&($n=2),mf===null?mf=[s]:mf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=A7(s,l,t);sS(s,m);break e;case 1:o=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(So===null||!So.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=C7(s,o,t);sS(s,k);break e}}s=s.return}while(s!==null)}G7(n)}catch(P){t=P,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function H7(){var e=ng.current;return ng.current=tg,e===null?tg:e}function w3(){($n===0||$n===3||$n===2)&&($n=4),Zn===null||!(El&268435455)&&!(Zg&268435455)||co(Zn,tr)}function sg(e,t){var n=Mt;Mt|=2;var r=H7();(Zn!==e||tr!==t)&&(da=null,vl(e,t));do try{Nq();break}catch(i){V7(e,i)}while(!0);if(n3(),Mt=n,ng.current=r,In!==null)throw Error(Ie(261));return Zn=null,tr=0,$n}function Nq(){for(;In!==null;)W7(In)}function Sq(){for(;In!==null&&!Z9();)W7(In)}function W7(e){var t=Z7(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?G7(e):In=t,m3.current=null}function G7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vq(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$n=6,In=null;return}}else if(n=gq(n,t,si),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);$n===0&&($n=5)}function il(e,t,n){var r=Ht,i=Ti.transition;try{Ti.transition=null,Ht=1,kq(e,t,n,r)}finally{Ti.transition=i,Ht=r}return null}function kq(e,t,n,r){do Qu();while(go!==null);if(Mt&6)throw Error(Ie(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sF(e,s),e===Zn&&(In=Zn=null,tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dp||(Dp=!0,Y7(Bm,function(){return Qu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ti.transition,Ti.transition=null;var a=Ht;Ht=1;var o=Mt;Mt|=4,m3.current=null,bq(e,n),z7(n,e),HF(i_),$m=!!r_,i_=r_=null,e.current=n,wq(n),Y9(),Mt=o,Ht=a,Ti.transition=s}else e.current=n;if(Dp&&(Dp=!1,go=e,ig=i),s=e.pendingLanes,s===0&&(So=null),Q9(n.stateNode),Ur(e,En()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rg)throw rg=!1,e=S_,S_=null,e;return ig&1&&e.tag!==0&&Qu(),s=e.pendingLanes,s&1?e===k_?gf++:(gf=0,k_=e):gf=0,Vo(),null}function Qu(){if(go!==null){var e=AL(ig),t=Ti.transition,n=Ht;try{if(Ti.transition=null,Ht=16>e?16:e,go===null)var r=!1;else{if(e=go,go=null,ig=0,Mt&6)throw Error(Ie(331));var i=Mt;for(Mt|=4,Ge=e.current;Ge!==null;){var s=Ge,a=s.child;if(Ge.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ge=u;Ge!==null;){var c=Ge;switch(c.tag){case 0:case 11:case 15:pf(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ge=d;else for(;Ge!==null;){c=Ge;var p=c.sibling,h=c.return;if(q7(c),c===u){Ge=null;break}if(p!==null){p.return=h,Ge=p;break}Ge=h}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Ge=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ge=a;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pf(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ge=m;break e}Ge=s.return}}var b=e.current;for(Ge=b;Ge!==null;){a=Ge;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Ge=S;else e:for(a=b;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kg(9,o)}}catch(P){bn(o,o.return,P)}if(o===a){Ge=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Ge=k;break e}Ge=o.return}}if(Mt=i,Vo(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(Bg,e)}catch{}r=!0}return r}finally{Ht=n,Ti.transition=t}}return!1}function ES(e,t,n){t=yc(n,t),t=A7(e,t,1),e=No(e,t,1),t=kr(),e!==null&&(hh(e,1,t),Ur(e,t))}function bn(e,t,n){if(e.tag===3)ES(e,e,n);else for(;t!==null;){if(t.tag===3){ES(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(So===null||!So.has(r))){e=yc(n,e),e=C7(t,e,1),t=No(t,e,1),e=kr(),t!==null&&(hh(t,1,e),Ur(t,e));break}}t=t.return}}function Eq(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kr(),e.pingedLanes|=e.suspendedLanes&n,Zn===e&&(tr&n)===n&&($n===4||$n===3&&(tr&130023424)===tr&&500>En()-v3?vl(e,0):g3|=n),Ur(e,t)}function K7(e,t){t===0&&(e.mode&1?(t=jp,jp<<=1,!(jp&130023424)&&(jp=4194304)):t=1);var n=kr();e=_a(e,t),e!==null&&(hh(e,t,n),Ur(e,n))}function Aq(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),K7(e,n)}function Cq(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(t),K7(e,n)}var Z7;Z7=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zr.current)Dr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dr=!1,mq(e,t,n);Dr=!!(e.flags&131072)}else Dr=!1,an&&t.flags&1048576&&QL(t,Zm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vm(e,t),e=t.pendingProps;var i=pc(t,gr.current);Ju(t,n),i=c3(null,t,r,e,i,n);var s=d3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$r(r)?(s=!0,Gm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s3(t),i.updater=Gg,t.stateNode=i,i._reactInternals=t,h_(t,r,e,n),t=g_(null,t,r,!0,s,n)):(t.tag=0,an&&s&&Jx(t),Sr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vm(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Lq(r),e=Yi(r,e),i){case 0:t=m_(null,t,r,e,n);break e;case 1:t=gS(null,t,r,e,n);break e;case 11:t=pS(null,t,r,e,n);break e;case 14:t=mS(null,t,r,Yi(r.type,e),n);break e}throw Error(Ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),m_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),gS(e,t,r,i,n);case 3:e:{if(R7(t),e===null)throw Error(Ie(387));r=t.pendingProps,s=t.memoizedState,i=s.element,s7(e,t),Jm(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=yc(Error(Ie(423)),t),t=vS(e,t,r,n,i);break e}else if(r!==i){i=yc(Error(Ie(424)),t),t=vS(e,t,r,n,i);break e}else for(li=xo(t.stateNode.containerInfo.firstChild),ci=t,an=!0,es=null,n=r7(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mc(),r===i){t=xa(e,t,n);break e}Sr(e,t,r,n)}t=t.child}return t;case 5:return a7(t),e===null&&c_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,s_(r,i)?a=null:s!==null&&s_(r,s)&&(t.flags|=32),P7(e,t),Sr(e,t,a,n),t.child;case 6:return e===null&&c_(t),null;case 13:return I7(e,t,n);case 4:return a3(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gc(t,null,r,n):Sr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),pS(e,t,r,i,n);case 7:return Sr(e,t,t.pendingProps,n),t.child;case 8:return Sr(e,t,t.pendingProps.children,n),t.child;case 12:return Sr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,tn(Ym,r._currentValue),r._currentValue=a,s!==null)if(cs(s.value,a)){if(s.children===i.children&&!zr.current){t=xa(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ya(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),d_(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ie(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),d_(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Sr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ju(t,n),i=Oi(i),r=r(i),t.flags|=1,Sr(e,t,r,n),t.child;case 14:return r=t.type,i=Yi(r,t.pendingProps),i=Yi(r.type,i),mS(e,t,r,i,n);case 15:return j7(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),vm(e,t),t.tag=1,$r(r)?(e=!0,Gm(t)):e=!1,Ju(t,n),E7(t,r,i),h_(t,r,i,n),g_(null,t,r,!0,e,n);case 19:return T7(e,t,n);case 22:return L7(e,t,n)}throw Error(Ie(156,t.tag))};function Y7(e,t){return NL(e,t)}function jq(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(e,t,n,r){return new jq(e,t,n,r)}function _3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lq(e){if(typeof e=="function")return _3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bx)return 11;if(e===zx)return 14}return 2}function Eo(e,t){var n=e.alternate;return n===null?(n=Ri(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wm(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")_3(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ru:return yl(n.children,i,s,t);case Dx:a=8,i|=8;break;case Fw:return e=Ri(12,n,t,i|2),e.elementType=Fw,e.lanes=s,e;case qw:return e=Ri(13,n,t,i),e.elementType=qw,e.lanes=s,e;case Dw:return e=Ri(19,n,t,i),e.elementType=Dw,e.lanes=s,e;case aL:return Yg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iL:a=10;break e;case sL:a=9;break e;case Bx:a=11;break e;case zx:a=14;break e;case so:a=16,r=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=Ri(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function yl(e,t,n,r){return e=Ri(7,e,r,t),e.lanes=n,e}function Yg(e,t,n,r){return e=Ri(22,e,r,t),e.elementType=aL,e.lanes=n,e.stateNode={isHidden:!1},e}function Z1(e,t,n){return e=Ri(6,e,null,t),e.lanes=n,e}function Y1(e,t,n){return t=Ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pq(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L1(0),this.expirationTimes=L1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function x3(e,t,n,r,i,s,a,o,l){return e=new Pq(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ri(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},s3(s),e}function Rq(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function X7(e){if(!e)return Io;e=e._reactInternals;e:{if(Tl(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var n=e.type;if($r(n))return XL(e,n,t)}return t}function J7(e,t,n,r,i,s,a,o,l){return e=x3(n,r,!0,e,i,s,a,o,l),e.context=X7(null),n=e.current,r=kr(),i=ko(n),s=ya(r,i),s.callback=t??null,No(n,s,i),e.current.lanes=i,hh(e,i,r),Ur(e,r),e}function Xg(e,t,n,r){var i=t.current,s=kr(),a=ko(i);return n=X7(n),t.context===null?t.context=n:t.pendingContext=n,t=ya(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=No(i,t,a),e!==null&&(os(e,i,a,s),pm(e,i,a)),a}function ag(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function N3(e,t){AS(e,t),(e=e.alternate)&&AS(e,t)}function Iq(){return null}var Q7=typeof reportError=="function"?reportError:function(e){console.error(e)};function S3(e){this._internalRoot=e}Jg.prototype.render=S3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));Xg(e,t,null,null)};Jg.prototype.unmount=S3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Al(function(){Xg(null,e,null,null)}),t[wa]=null}};function Jg(e){this._internalRoot=e}Jg.prototype.unstable_scheduleHydration=function(e){if(e){var t=LL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<uo.length&&t!==0&&t<uo[n].priority;n++);uo.splice(n,0,e),n===0&&RL(e)}};function k3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CS(){}function Tq(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ag(a);s.call(u)}}var a=J7(t,r,e,0,null,!1,!1,"",CS);return e._reactRootContainer=a,e[wa]=a.current,jf(e.nodeType===8?e.parentNode:e),Al(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=ag(l);o.call(u)}}var l=x3(e,0,!1,null,null,!1,!1,"",CS);return e._reactRootContainer=l,e[wa]=l.current,jf(e.nodeType===8?e.parentNode:e),Al(function(){Xg(t,l,n,r)}),l}function e0(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=ag(a);o.call(l)}}Xg(t,a,e,i)}else a=Tq(n,t,e,i,r);return ag(a)}CL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zd(t.pendingLanes);n!==0&&(Vx(t,n|1),Ur(t,En()),!(Mt&6)&&(bc=En()+500,Vo()))}break;case 13:Al(function(){var r=_a(e,1);if(r!==null){var i=kr();os(r,e,1,i)}}),N3(e,1)}};Hx=function(e){if(e.tag===13){var t=_a(e,134217728);if(t!==null){var n=kr();os(t,e,134217728,n)}N3(e,134217728)}};jL=function(e){if(e.tag===13){var t=ko(e),n=_a(e,t);if(n!==null){var r=kr();os(n,e,t,r)}N3(e,t)}};LL=function(){return Ht};PL=function(e,t){var n=Ht;try{return Ht=e,t()}finally{Ht=n}};Zw=function(e,t,n){switch(t){case"input":if($w(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Vg(r);if(!i)throw Error(Ie(90));lL(r),$w(r,i)}}}break;case"textarea":cL(e,n);break;case"select":t=n.value,t!=null&&Ku(e,!!n.multiple,t,!1)}};vL=y3;yL=Al;var Oq={usingClientEntryPoint:!1,Events:[mh,Mu,Vg,mL,gL,y3]},jd={findFiberByHostInstance:ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mq={bundleType:jd.bundleType,version:jd.version,rendererPackageName:jd.rendererPackageName,rendererConfig:jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_L(e),e===null?null:e.stateNode},findFiberByHostInstance:jd.findFiberByHostInstance||Iq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Bg=Bp.inject(Mq),Os=Bp}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oq;mi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k3(t))throw Error(Ie(200));return Rq(e,t,null,n)};mi.createRoot=function(e,t){if(!k3(e))throw Error(Ie(299));var n=!1,r="",i=Q7;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=x3(e,1,!1,null,null,n,!1,r,i),e[wa]=t.current,jf(e.nodeType===8?e.parentNode:e),new S3(t)};mi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=_L(t),e=e===null?null:e.stateNode,e};mi.flushSync=function(e){return Al(e)};mi.hydrate=function(e,t,n){if(!Qg(t))throw Error(Ie(200));return e0(null,e,t,!0,n)};mi.hydrateRoot=function(e,t,n){if(!k3(e))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Q7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=J7(t,null,e,1,n??null,i,!1,s,a),e[wa]=t.current,jf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jg(t)};mi.render=function(e,t,n){if(!Qg(t))throw Error(Ie(200));return e0(null,e,t,!1,n)};mi.unmountComponentAtNode=function(e){if(!Qg(e))throw Error(Ie(40));return e._reactRootContainer?(Al(function(){e0(null,null,e,!1,function(){e._reactRootContainer=null,e[wa]=null})}),!0):!1};mi.unstable_batchedUpdates=y3;mi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qg(n))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return e0(e,t,n,!1,r)};mi.version="18.3.1-next-f1338f8080-20240426";function eP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eP)}catch(e){console.error(e)}}eP(),eL.exports=mi;var Fq=eL.exports,jS=Fq;Ow.createRoot=jS.createRoot,Ow.hydrateRoot=jS.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(this,arguments)}var vo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vo||(vo={}));const LS="popstate";function qq(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return C_("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:og(i)}return Bq(t,n,null,e)}function Tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dq(){return Math.random().toString(36).substr(2,8)}function PS(e,t){return{usr:e.state,key:e.key,idx:t}}function C_(e,t,n,r){return n===void 0&&(n=null),qf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pc(t):t,{state:n,key:t&&t.key||r||Dq()})}function og(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Bq(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=vo.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(qf({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=vo.Pop;let _=c(),m=_==null?null:_-u;u=_,l&&l({action:o,location:y.location,delta:m})}function p(_,m){o=vo.Push;let b=C_(y.location,_,m);u=c()+1;let S=PS(b,u),k=y.createHref(b);try{a.pushState(S,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}s&&l&&l({action:o,location:y.location,delta:1})}function h(_,m){o=vo.Replace;let b=C_(y.location,_,m);u=c();let S=PS(b,u),k=y.createHref(b);a.replaceState(S,"",k),s&&l&&l({action:o,location:y.location,delta:0})}function w(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:og(_);return b=b.replace(/ $/,"%20"),Tn(m,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,m)}let y={get action(){return o},get location(){return e(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LS,d),l=_,()=>{i.removeEventListener(LS,d),l=null}},createHref(_){return t(i,_)},createURL:w,encodeLocation(_){let m=w(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:h,go(_){return a.go(_)}};return y}var RS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(RS||(RS={}));function zq(e,t,n){return n===void 0&&(n="/"),$q(e,t,n,!1)}function $q(e,t,n,r){let i=typeof t=="string"?Pc(t):t,s=E3(i.pathname||"/",n);if(s==null)return null;let a=nP(e);Uq(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=eD(s);o=Jq(a[l],u,r)}return o}function nP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Tn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ao([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Tn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nP(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Yq(u,s.index),routesMeta:c})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of rP(s.path))i(s,a,l)}),t}function rP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=rP(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Uq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Vq=/^:[\w-]+$/,Hq=3,Wq=2,Gq=1,Kq=10,Zq=-2,IS=e=>e==="*";function Yq(e,t){let n=e.split("/"),r=n.length;return n.some(IS)&&(r+=Zq),t&&(r+=Wq),n.filter(i=>!IS(i)).reduce((i,s)=>i+(Vq.test(s)?Hq:s===""?Gq:Kq),r)}function Xq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Jq(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=TS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=TS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Ao([s,d.pathname]),pathnameBase:iD(Ao([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Ao([s,d.pathnameBase]))}return a}function TS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qq(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=o[d];return h&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Qq(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),tP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function eD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function E3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Pc(e):e;return{pathname:n?n.startsWith("/")?n:nD(n,t):t,search:sD(r),hash:aD(i)}}function nD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function X1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iP(e,t){let n=rD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Pc(e):(i=qf({},e),Tn(!i.pathname||!i.pathname.includes("?"),X1("?","pathname","search",i)),Tn(!i.pathname||!i.pathname.includes("#"),X1("#","pathname","hash",i)),Tn(!i.search||!i.search.includes("#"),X1("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}o=d>=0?t[d]:"/"}let l=tD(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ao=e=>e.join("/").replace(/\/\/+/g,"/"),iD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aP=["post","put","patch","delete"];new Set(aP);const lD=["get",...aP];new Set(lD);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(this,arguments)}const A3=Y.createContext(null),uD=Y.createContext(null),Ol=Y.createContext(null),t0=Y.createContext(null),Ml=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),oP=Y.createContext(null);function cD(e,t){let{relative:n}=t===void 0?{}:t;vh()||Tn(!1);let{basename:r,navigator:i}=Y.useContext(Ol),{hash:s,pathname:a,search:o}=uP(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Ao([r,a])),i.createHref({pathname:l,search:o,hash:s})}function vh(){return Y.useContext(t0)!=null}function yh(){return vh()||Tn(!1),Y.useContext(t0).location}function lP(e){Y.useContext(Ol).static||Y.useLayoutEffect(e)}function dD(){let{isDataRoute:e}=Y.useContext(Ml);return e?SD():fD()}function fD(){vh()||Tn(!1);let e=Y.useContext(A3),{basename:t,future:n,navigator:r}=Y.useContext(Ol),{matches:i}=Y.useContext(Ml),{pathname:s}=yh(),a=JSON.stringify(iP(i,n.v7_relativeSplatPath)),o=Y.useRef(!1);return lP(()=>{o.current=!0}),Y.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=sP(u,JSON.parse(a),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ao([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,s,e])}function uP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=Y.useContext(Ol),{matches:i}=Y.useContext(Ml),{pathname:s}=yh(),a=JSON.stringify(iP(i,r.v7_relativeSplatPath));return Y.useMemo(()=>sP(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function hD(e,t){return pD(e,t)}function pD(e,t,n,r){vh()||Tn(!1);let{navigator:i}=Y.useContext(Ol),{matches:s}=Y.useContext(Ml),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=yh(),c;if(t){var d;let _=typeof t=="string"?Pc(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Tn(!1),c=_}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=zq(e,{pathname:h}),y=bD(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Ao([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ao([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return t&&y?Y.createElement(t0.Provider,{value:{location:Df({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:vo.Pop}},y):y}function mD(){let e=ND(),t=oD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:i},n):null,null)}const gD=Y.createElement(mD,null);class vD extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?Y.createElement(Ml.Provider,{value:this.props.routeContext},Y.createElement(oP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yD(e){let{routeContext:t,match:n,children:r}=e,i=Y.useContext(A3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(Ml.Provider,{value:t},r)}function bD(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Tn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:h}=n,w=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let h,w=!1,y=null,_=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||gD,l&&(u<0&&p===0?(w=!0,_=null):u===p&&(w=!0,_=d.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,p+1)),b=()=>{let S;return h?S=y:w?S=_:d.route.Component?S=Y.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,Y.createElement(yD,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?Y.createElement(vD,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):b()},null)}var cP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cP||{}),lg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lg||{});function wD(e){let t=Y.useContext(A3);return t||Tn(!1),t}function _D(e){let t=Y.useContext(uD);return t||Tn(!1),t}function xD(e){let t=Y.useContext(Ml);return t||Tn(!1),t}function dP(e){let t=xD(),n=t.matches[t.matches.length-1];return n.route.id||Tn(!1),n.route.id}function ND(){var e;let t=Y.useContext(oP),n=_D(lg.UseRouteError),r=dP(lg.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function SD(){let{router:e}=wD(cP.UseNavigateStable),t=dP(lg.UseNavigateStable),n=Y.useRef(!1);return lP(()=>{n.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Df({fromRouteId:t},s)))},[e,t])}const OS={};function kD(e,t){OS[t]||(OS[t]=!0,console.warn(t))}const MS=(e,t,n)=>kD(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function ED(e,t){e!=null&&e.v7_startTransition||MS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&MS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function la(e){Tn(!1)}function AD(e){let{basename:t="/",children:n=null,location:r,navigationType:i=vo.Pop,navigator:s,static:a=!1,future:o}=e;vh()&&Tn(!1);let l=t.replace(/^\/*/,"/"),u=Y.useMemo(()=>({basename:l,navigator:s,static:a,future:Df({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Pc(r));let{pathname:c="/",search:d="",hash:p="",state:h=null,key:w="default"}=r,y=Y.useMemo(()=>{let _=E3(c,l);return _==null?null:{location:{pathname:_,search:d,hash:p,state:h,key:w},navigationType:i}},[l,c,d,p,h,w,i]);return y==null?null:Y.createElement(Ol.Provider,{value:u},Y.createElement(t0.Provider,{children:n,value:y}))}function CD(e){let{children:t,location:n}=e;return hD(j_(t),n)}new Promise(()=>{});function j_(e,t){t===void 0&&(t=[]);let n=[];return Y.Children.forEach(e,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...t,i];if(r.type===Y.Fragment){n.push.apply(n,j_(r.props.children,s));return}r.type!==la&&Tn(!1),!r.props.index||!r.props.children||Tn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=j_(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(this,arguments)}function jD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function LD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PD(e,t){return e.button===0&&(!t||t==="_self")&&!LD(e)}const RD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ID="6";try{window.__reactRouterVersion=ID}catch{}const TD="startTransition",FS=E9[TD];function OD(e){let{basename:t,children:n,future:r,window:i}=e,s=Y.useRef();s.current==null&&(s.current=qq({window:i,v5Compat:!0}));let a=s.current,[o,l]=Y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=Y.useCallback(d=>{u&&FS?FS(()=>l(d)):l(d)},[l,u]);return Y.useLayoutEffect(()=>a.listen(c),[a,c]),Y.useEffect(()=>ED(r),[r]),Y.createElement(AD,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const MD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fP=Y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,p=jD(t,RD),{basename:h}=Y.useContext(Ol),w,y=!1;if(typeof u=="string"&&FD.test(u)&&(w=u,MD))try{let S=new URL(window.location.href),k=u.startsWith("//")?new URL(S.protocol+u):new URL(u),P=E3(k.pathname,h);k.origin===S.origin&&P!=null?u=P+k.search+k.hash:y=!0}catch{}let _=cD(u,{relative:i}),m=qD(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(S){r&&r(S),S.defaultPrevented||m(S)}return Y.createElement("a",L_({},p,{href:w||_,onClick:y||s?r:b,ref:n,target:l}))});var qS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qS||(qS={}));var DS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DS||(DS={}));function qD(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=dD(),u=yh(),c=uP(e,{relative:a});return Y.useCallback(d=>{if(PD(d,n)){d.preventDefault();let p=r!==void 0?r:og(u)===og(c);l(e,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,r,i,n,e,s,a,o])}function DD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const BD=Y.forwardRef(DD);function zD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const $D=Y.forwardRef(zD);function UD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"}))}const VD=Y.forwardRef(UD);function HD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const WD=Y.forwardRef(HD);function GD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const KD=Y.forwardRef(GD);function ZD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const YD=Y.forwardRef(ZD);function XD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const JD=Y.forwardRef(XD);function QD({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const eB=Y.forwardRef(QD);function tB({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const nB=Y.forwardRef(tB);function rB({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const iB=Y.forwardRef(rB);function sB({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"}))}const aB=Y.forwardRef(sB);function oB({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const lB=Y.forwardRef(oB);function uB({title:e,titleId:t,...n},r){return Y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?Y.createElement("title",{id:t},e):null,Y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const cB=Y.forwardRef(uB),dB=[{path:"/",label:"Start",icon:iB},{path:"/general-settings",label:"Allgemeines",icon:KD},{path:"/pattern-elements",label:"Didaktische Grundlagen",icon:aB},{path:"/actors",label:"Akteure",icon:cB},{path:"/environments",label:"Lernumgebungen",icon:VD},{path:"/course-flow",label:"Unterrichtsablauf",icon:BD},{path:"/preview",label:"Vorschau",icon:WD},{path:"/ai-flow-agent",label:"KI Ablauf",icon:$D}];function fB(){const e=yh();return g.jsx("nav",{className:"bg-white shadow-md",children:g.jsx("div",{className:"container mx-auto px-4",children:g.jsx("div",{className:"flex space-x-4 overflow-x-auto",children:dB.map(({path:t,label:n,icon:r})=>g.jsxs(fP,{to:t,className:`px-4 py-3 text-sm font-medium whitespace-nowrap flex items-center gap-2 ${e.pathname===t?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[g.jsx(r,{className:"w-4 h-4"}),n]},t))})})})}const hB={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},BS=e=>{let t;const n=new Set,r=(c,d)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const h=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(w=>w(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(hB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},hP=e=>e?BS(e):BS;var pP={exports:{}},mP={},gP={exports:{}},vP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Y;function pB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mB=typeof Object.is=="function"?Object.is:pB,gB=wc.useState,vB=wc.useEffect,yB=wc.useLayoutEffect,bB=wc.useDebugValue;function wB(e,t){var n=t(),r=gB({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return yB(function(){i.value=n,i.getSnapshot=t,J1(i)&&s({inst:i})},[e,n,t]),vB(function(){return J1(i)&&s({inst:i}),e(function(){J1(i)&&s({inst:i})})},[e]),bB(n),n}function J1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mB(e,n)}catch{return!0}}function _B(e,t){return t()}var xB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_B:wB;vP.useSyncExternalStore=wc.useSyncExternalStore!==void 0?wc.useSyncExternalStore:xB;gP.exports=vP;var NB=gP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Y,SB=NB;function kB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EB=typeof Object.is=="function"?Object.is:kB,AB=SB.useSyncExternalStore,CB=n0.useRef,jB=n0.useEffect,LB=n0.useMemo,PB=n0.useDebugValue;mP.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=CB(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=LB(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&a.hasValue){var w=a.value;if(i(w,h))return d=w}return d=h}if(w=d,EB(c,h))return w;var y=r(h);return i!==void 0&&i(w,y)?w:(c=h,d=y)}var u=!1,c,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var o=AB(e,s[0],s[1]);return jB(function(){a.hasValue=!0,a.value=o},[o]),PB(o),o};pP.exports=mP;var RB=pP.exports;const yP=Px(RB),bP={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:IB}=ve,{useSyncExternalStoreWithSelector:TB}=yP;let zS=!1;const OB=e=>e;function MB(e,t=OB,n){(bP?"production":void 0)!=="production"&&n&&!zS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zS=!0);const r=TB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return IB(r),r}const $S=e=>{(bP?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?hP(e):e,n=(r,i)=>MB(t,r,i);return Object.assign(n,t),n},FB=e=>e?$S(e):$S,qB={metadata:{title:"",description:"",keywords:[],author:"",version:"1.0"},problem:{problem_description:"",learning_goals:[],didactic_keywords:[]},context:{target_group:"",subject:"",educational_level:"",prerequisites:"",time_frame:""},influence_factors:[],solution:{solution_description:"",didactic_approach:"",didactic_template:{learning_sequences:[]}},consequences:{advantages:[],disadvantages:[]},implementation_notes:[],related_patterns:[],feedback:{comments:[]},sources:[],actors:[],environments:[]},$s=FB(e=>({...qB,setMetadata:t=>e({metadata:t}),setProblem:t=>e({problem:t}),setContext:t=>e({context:t}),setInfluenceFactors:t=>e({influence_factors:t}),setSolution:t=>e({solution:t}),setConsequences:t=>e({consequences:t}),setImplementationNotes:t=>e({implementation_notes:t}),setRelatedPatterns:t=>e({related_patterns:t}),setFeedback:t=>e({feedback:t}),setSources:t=>e({sources:t}),addActor:t=>e(n=>({actors:[...n.actors,t]})),updateActor:(t,n)=>e(r=>({actors:r.actors.map(i=>i.id===t?{...i,...n}:i)})),removeActor:t=>e(n=>({actors:n.actors.filter(r=>r.id!==t)})),setActors:t=>e({actors:t}),addEnvironment:t=>e(n=>({environments:[...n.environments,t]})),updateEnvironment:(t,n)=>e(r=>({environments:r.environments.map(i=>i.id===t?{...i,...n}:i)})),removeEnvironment:t=>e(n=>({environments:n.environments.filter(r=>r.id!==t)})),setEnvironments:t=>e({environments:t})})),DB=[{id:"A1",name:"Lehrender",type:"Einzelperson",demographic_data:{age:35,gender:"männlich",ethnic_background:"deutsch"},education:{education_level:"Master of Education",class_level:"Sekundarstufe I",subject_focus:"Mathematik, Informatik"},competencies:{subject_competencies:["Mathematik","Informatik"],cognitive_competencies:["Analytisches Denken","Problemlösung"],methodical_competencies:["Differenzierte Unterrichtsgestaltung","Digitale Mediennutzung"],affective_competencies:["Empathie","Geduld"],digital_competencies:["Lernplattformen","Digitale Werkzeuge"],language_skills:{languages:["Deutsch","Englisch"],proficiency_levels:{Deutsch:"C2",Englisch:"B2"}}},social_form:"Lehrkraft",learning_requirements:{learning_preferences:["Praxisorientiert","Digital"],special_needs:[],technical_requirements:["Computer","Präsentationssystem"]},interests_and_goals:{interests:["Digitale Bildung","Inklusive Pädagogik"],goals:["Förderung individueller Lernwege","Integration digitaler Medien"],motivation:{type:"intrinsic",level:"high"}},social_structure:{group_size:1,heterogeneity:"n/a"}},{id:"A2",name:"Hauptlerngruppe",type:"Gruppe",demographic_data:{age_range:"14-15",gender_distribution:"gemischt",ethnic_background:"diverse"},education:{education_level:"Sekundarstufe I",class_level:"9. Klasse",subject_focus:"Mathematik"},competencies:{subject_competencies:["Grundrechenarten","Algebra Grundlagen"],cognitive_competencies:["Logisches Denken","Abstraktion"],methodical_competencies:["Gruppenarbeit","Selbstorganisation"],affective_competencies:["Teamfähigkeit"],digital_competencies:["Grundlegende PC-Kenntnisse"],language_skills:{languages:["Deutsch"],proficiency_levels:{Deutsch:"C1"}}},social_form:"Klassenverband",learning_requirements:{learning_preferences:["Praktische Übungen","Visuelle Darstellungen"],special_needs:[],technical_requirements:["Taschenrechner"]},interests_and_goals:{interests:["Mathematik","Digitale Medien"],goals:["Verständnis der Addition","Problemlösekompetenz"],motivation:{type:"mixed",level:"medium"}},social_structure:{group_size:20,heterogeneity:"mittel"}},{id:"A3",name:"Sprachfördergruppe",type:"Gruppe",demographic_data:{age_range:"14-15",gender_distribution:"gemischt",ethnic_background:"diverse"},education:{education_level:"Sekundarstufe I",class_level:"9. Klasse",subject_focus:"Mathematik"},competencies:{subject_competencies:["Grundrechenarten"],cognitive_competencies:["Logisches Denken"],methodical_competencies:["Visualisierung"],affective_competencies:["Teamfähigkeit"],digital_competencies:["Grundlegende PC-Kenntnisse"],language_skills:{languages:["Deutsch"],proficiency_levels:{Deutsch:"B1"}}},social_form:"Fördergruppe",learning_requirements:{learning_preferences:["Visuelle Unterstützung","Sprachliche Hilfen"],special_needs:["Sprachförderung"],technical_requirements:["Taschenrechner"]},interests_and_goals:{interests:["Mathematik"],goals:["Sprachkompetenz","Mathematisches Verständnis"],motivation:{type:"mixed",level:"medium"}},social_structure:{group_size:8,heterogeneity:"hoch"}}],BB=[{id:"ENV1",name:"Mathematik-Klassenraum",description:"Klassenraum mit digitaler und analoger Ausstattung für Mathematikunterricht",materials:[{id:"ENV1-M1",name:"Arbeitsblätter Addition",material_type:"Arbeitsblatt",source:"manual",access_link:"materials/addition_standard.pdf"},{id:"ENV1-M2",name:"Visualisierungskarten",material_type:"Bildkarten",source:"manual",access_link:"materials/visual_cards.pdf"},{id:"ENV1-M3",name:"Mehrsprachiges Mathe-Glossar",material_type:"Glossar",source:"manual",access_link:"materials/math_glossary.pdf"},{id:"ENV1-M4",name:"Interaktive Übungen",material_type:"Digitales Lernmaterial",source:"manual",access_link:"https://example.com/math-exercises"}],tools:[{id:"ENV1-T1",name:"Dokumentenkamera",tool_type:"Hardware",source:"manual",access_link:""},{id:"ENV1-T2",name:"Taschenrechner",tool_type:"Hardware",source:"manual",access_link:""},{id:"ENV1-T3",name:"Mathematik-App",tool_type:"Software",source:"manual",access_link:"apps/math_trainer"},{id:"ENV1-T4",name:"Digitales Whiteboard",tool_type:"Hardware",source:"manual",access_link:""}],services:[{id:"ENV1-S1",name:"Sprachunterstützung",service_type:"Förderung",source:"manual",access_link:""},{id:"ENV1-S2",name:"Mathematische Förderung",service_type:"Förderung",source:"manual",access_link:""},{id:"ENV1-S3",name:"Online-Lernplattform",service_type:"Digital",source:"manual",access_link:"https://example.com/platform"}]}],ri={metadata:{title:"Addition für alle – inklusive Mathematik",description:"Ein inklusives Lernobjekt zur Förderung der Additionsfähigkeiten und Sprachkompetenzen bei Schülern der 9. Klasse",keywords:["Addition","Mathematik","Inklusion","Sprachförderung","Differenzierung"],author:"Jan Schachtschabel",version:"1.0"},problem:{problem_description:"Schüler mit unterschiedlichen sprachlichen Voraussetzungen sollen die Bedeutung und Anwendung der Addition verstehen und ihre mathematischen sowie sprachlichen Kompetenzen entwickeln.",learning_goals:["Verständnis der Grundlagen der Addition","Anwendung der Addition in verschiedenen Kontexten","Förderung der sprachlichen Kompetenzen","Entwicklung von Problemlösefähigkeiten"],didactic_keywords:["Differenzierung","Inklusion","Sprachsensibler Fachunterricht","Digitale Medien"]},context:{target_group:"Schüler der 9. Klasse mit heterogenen Sprachkenntnissen",subject:"Mathematik",educational_level:"Sekundarstufe I",prerequisites:"Grundlegende Deutschkenntnisse, Zahlenverständnis",time_frame:"45 Minuten"},influence_factors:[{factor:"Sprachliche Heterogenität",description:"Unterschiedliche Deutschkenntnisse erfordern differenzierte sprachliche Unterstützung"},{factor:"Digitale Kompetenzen",description:"Verschiedene Erfahrungsniveaus mit digitalen Werkzeugen"},{factor:"Lernmotivation",description:"Unterschiedliche Motivationslagen und Interessensbereiche"}],solution:{solution_description:"Implementierung eines differenzierten, sprachsensiblen Mathematikunterrichts mit digitaler Unterstützung",didactic_approach:"Handlungsorientiertes und entdeckendes Lernen mit digitaler und sprachlicher Unterstützung",didactic_template:{learning_sequences:[{sequence_id:"LS1",sequence_name:"Einführung in die Addition",time_frame:"45 Minuten",learning_goal:"Grundlegendes Verständnis der Addition und ihrer sprachlichen Darstellung",phases:[{phase_id:"LS1-P1",phase_name:"Aktivierung",time_frame:"10 Minuten",learning_goal:"Vorwissen aktivieren und Interesse wecken",activities:[{activity_id:"LS1-P1-A1",name:"Zahlenspiel",description:"Spielerische Einführung mit visuellen Elementen",duration:10,goal:"Spielerisches Aufwärmen und Aktivierung des Vorwissens",prerequisite_activity:null,transition_type:"sequential",condition_description:null,next_activity:["LS1-P2-A1"],assessment:{type:"formative",methods:["Beobachtung"],criteria:["Aktive Teilnahme","Grundverständnis"]},roles:[{role_id:"LS1-P1-A1-R1",role_name:"Moderator",actor_id:"A1",task_description:"Leitet das Zahlenspiel und stellt gezielte Fragen",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M2"],selected_tools:["ENV1-T1","ENV1-T4"],selected_services:[]}},{role_id:"LS1-P1-A1-R2",role_name:"Teilnehmer Hauptgruppe",actor_id:"A2",task_description:"Aktive Teilnahme am Zahlenspiel",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M2"],selected_tools:[],selected_services:[]}},{role_id:"LS1-P1-A1-R3",role_name:"Teilnehmer Sprachförderung",actor_id:"A3",task_description:"Teilnahme am Zahlenspiel mit sprachlicher Unterstützung",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M2","ENV1-M3"],selected_tools:[],selected_services:["ENV1-S1"]}}]}],prerequisite_phase:null,transition_type:"sequential",condition_description:null,next_phase:"LS1-P2"},{phase_id:"LS1-P2",phase_name:"Erarbeitung",time_frame:"20 Minuten",learning_goal:"Selbstständige Erarbeitung der Additionsregeln",activities:[{activity_id:"LS1-P2-A1",name:"Regelentdeckung",description:"Entdeckung der Additionsregeln anhand von Beispielen",duration:10,goal:"Selbstständige Erarbeitung der Additionsregeln",prerequisite_activity:"LS1-P1-A1",transition_type:"parallel",condition_description:null,next_activity:["LS1-P2-A2"],assessment:{type:"formative",methods:["Peer-Feedback","Selbstreflexion"],criteria:["Regelverständnis","Zusammenarbeit"]},roles:[{role_id:"LS1-P2-A1-R1",role_name:"Lernbegleiter",actor_id:"A1",task_description:"Unterstützt den Entdeckungsprozess und gibt Hilfestellung",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M1","ENV1-M2","ENV1-M3"],selected_tools:["ENV1-T1","ENV1-T4"],selected_services:["ENV1-S1","ENV1-S2"]}},{role_id:"LS1-P2-A1-R2",role_name:"Entdecker Hauptgruppe",actor_id:"A2",task_description:"Erarbeitet die Regeln in Partnerarbeit",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M1","ENV1-M4"],selected_tools:["ENV1-T2","ENV1-T3"],selected_services:["ENV1-S3"]}},{role_id:"LS1-P2-A1-R3",role_name:"Entdecker Sprachförderung",actor_id:"A3",task_description:"Erarbeitet die Regeln mit sprachlicher Unterstützung",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M1","ENV1-M3","ENV1-M4"],selected_tools:["ENV1-T2","ENV1-T3"],selected_services:["ENV1-S1","ENV1-S2","ENV1-S3"]}}]},{activity_id:"LS1-P2-A2",name:"Übungsphase",description:"Anwendung der entdeckten Regeln",duration:10,goal:"Festigung der Additionsregeln durch Übung",prerequisite_activity:"LS1-P2-A1",transition_type:"branching",condition_description:"Basierend auf Lernerfolg: Zusatzaufgaben oder Wiederholung",next_activity:["LS1-P3-A1"],is_optional:!1,repeat_until:"80% der Aufgaben korrekt gelöst",assessment:{type:"formative",methods:["Selbstkontrolle","Automatische Auswertung"],criteria:["Korrektheit","Lösungsweg"]},roles:[{role_id:"LS1-P2-A2-R1",role_name:"Lernbegleiter",actor_id:"A1",task_description:"Beobachtet und unterstützt bei Bedarf",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M1"],selected_tools:["ENV1-T4"],selected_services:["ENV1-S2"]}},{role_id:"LS1-P2-A2-R2",role_name:"Übende Hauptgruppe",actor_id:"A2",task_description:"Bearbeitet Übungsaufgaben selbstständig",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M1","ENV1-M4"],selected_tools:["ENV1-T2","ENV1-T3"],selected_services:["ENV1-S3"]}},{role_id:"LS1-P2-A2-R3",role_name:"Übende Sprachförderung",actor_id:"A3",task_description:"Bearbeitet sprachsensible Übungsaufgaben",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M1","ENV1-M3","ENV1-M4"],selected_tools:["ENV1-T2","ENV1-T3"],selected_services:["ENV1-S1","ENV1-S2","ENV1-S3"]}}]}],prerequisite_phase:"LS1-P1",transition_type:"sequential",condition_description:null,next_phase:"LS1-P3"},{phase_id:"LS1-P3",phase_name:"Sicherung",time_frame:"15 Minuten",learning_goal:"Gemeinsame Reflexion und Sicherung der Erkenntnisse",activities:[{activity_id:"LS1-P3-A1",name:"Präsentation und Diskussion",description:"Vorstellen der Erkenntnisse und gemeinsame Diskussion",duration:15,goal:"Gemeinsames Verständnis der Additionsregeln",prerequisite_activity:"LS1-P2-A2",transition_type:"feedback_loops",condition_description:"Bei Bedarf Rückkehr zu einzelnen Konzepten",next_activity:[],assessment:{type:"summative",methods:["Präsentation","Diskussionsbeteiligung"],criteria:["Verständnis","Kommunikationsfähigkeit"]},roles:[{role_id:"LS1-P3-A1-R1",role_name:"Moderator",actor_id:"A1",task_description:"Moderiert die Diskussion und fasst Ergebnisse zusammen",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M2"],selected_tools:["ENV1-T1","ENV1-T4"],selected_services:[]}},{role_id:"LS1-P3-A1-R2",role_name:"Präsentierende Hauptgruppe",actor_id:"A2",task_description:"Stellt Erkenntnisse vor und beteiligt sich an Diskussion",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M1","ENV1-M2"],selected_tools:["ENV1-T4"],selected_services:[]}},{role_id:"LS1-P3-A1-R3",role_name:"Präsentierende Sprachförderung",actor_id:"A3",task_description:"Stellt Erkenntnisse mit Visualisierungen vor",learning_environment:{environment_id:"ENV1",selected_materials:["ENV1-M2","ENV1-M3"],selected_tools:["ENV1-T4"],selected_services:["ENV1-S1"]}}]}],prerequisite_phase:"LS1-P2",transition_type:"sequential",condition_description:null,next_phase:null}],prerequisite_learningsequences:[],transition_type:"sequential",condition_description:null,next_learningsequence:[]}]}},consequences:{advantages:["Individuelle Förderung durch differenzierte Materialien","Integration von Sprach- und Fachlernen","Aktive Beteiligung aller Schüler","Flexible Anpassung an verschiedene Lerngeschwindigkeiten"],disadvantages:["Hoher Vorbereitungsaufwand","Komplexe Materialerstellung","Herausforderung bei der Koordination verschiedener Gruppen"]},implementation_notes:[{note_id:"Note1",description:"Materialien vorab mehrsprachig aufbereiten"},{note_id:"Note2",description:"Technische Ausstattung vor Unterrichtsbeginn prüfen"},{note_id:"Note3",description:"Klare Signale für Phasenwechsel vereinbaren"}],related_patterns:["Sprachsensibler Fachunterricht","Digitale Lernbegleitung","Kooperatives Lernen","Individualisiertes Lernen"],feedback:{comments:[{date:"2024-03-14",name:"Dr. Schmidt",comment:"Sehr gut strukturiertes Konzept mit durchdachter Differenzierung"},{date:"2024-03-15",name:"Prof. Meyer",comment:"Gelungene Integration von Sprach- und Fachlernen"}]},sources:[{source_id:"S1",title:"Sprachsensibler Fachunterricht",author:"Josef Leisen",year:2019,publisher:"Klett-Kallmeyer",url:"https://example.com/sprachsensibler-fachunterricht"},{source_id:"S2",title:"Digitale Medien im inklusiven Mathematikunterricht",author:"Maria Weber",year:2023,publisher:"Bildungsverlag",url:"https://example.com/digitale-medien-mathe"}],actors:DB,environments:BB};function Vt(e){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(e)}var mr=Uint8Array,ui=Uint16Array,C3=Int32Array,r0=new mr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i0=new mr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P_=new mr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wP=function(e,t){for(var n=new ui(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new C3(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},_P=wP(r0,2),xP=_P.b,R_=_P.r;xP[28]=258,R_[258]=28;var NP=wP(i0,0),zB=NP.b,US=NP.r,I_=new ui(32768);for(var rn=0;rn<32768;++rn){var Xa=(rn&43690)>>1|(rn&21845)<<1;Xa=(Xa&52428)>>2|(Xa&13107)<<2,Xa=(Xa&61680)>>4|(Xa&3855)<<4,I_[rn]=((Xa&65280)>>8|(Xa&255)<<8)>>1}var Fs=function(e,t,n){for(var r=e.length,i=0,s=new ui(t);i<r;++i)e[i]&&++s[e[i]-1];var a=new ui(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new ui(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],d=a[e[i]-1]++<<c,p=d|(1<<c)-1;d<=p;++d)o[I_[d]>>l]=u}else for(o=new ui(r),i=0;i<r;++i)e[i]&&(o[i]=I_[a[e[i]-1]++]>>15-e[i]);return o},To=new mr(288);for(var rn=0;rn<144;++rn)To[rn]=8;for(var rn=144;rn<256;++rn)To[rn]=9;for(var rn=256;rn<280;++rn)To[rn]=7;for(var rn=280;rn<288;++rn)To[rn]=8;var Bf=new mr(32);for(var rn=0;rn<32;++rn)Bf[rn]=5;var $B=Fs(To,9,0),UB=Fs(To,9,1),VB=Fs(Bf,5,0),HB=Fs(Bf,5,1),Q1=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Gi=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},ev=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},j3=function(e){return(e+7)/8|0},SP=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new mr(e.subarray(t,n))},WB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xi=function(e,t,n){var r=new Error(t||WB[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Xi),!n)throw r;return r},GB=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new mr(0);var a=!n,o=a||t.i!=2,l=t.i;a&&(n=new mr(i*3));var u=function(Ae){var je=n.length;if(Ae>je){var Fe=new mr(Math.max(je*2,Ae));Fe.set(n),n=Fe}},c=t.f||0,d=t.p||0,p=t.b||0,h=t.l,w=t.d,y=t.m,_=t.n,m=i*8;do{if(!h){c=Gi(e,d,1);var b=Gi(e,d+1,3);if(d+=3,b)if(b==1)h=UB,w=HB,y=9,_=5;else if(b==2){var D=Gi(e,d,31)+257,R=Gi(e,d+10,15)+4,L=D+Gi(e,d+5,31)+1;d+=14;for(var $=new mr(L),V=new mr(19),j=0;j<R;++j)V[P_[j]]=Gi(e,d+j*3,7);d+=R*3;for(var T=Q1(V),Z=(1<<T)-1,A=Fs(V,T,1),j=0;j<L;){var U=A[Gi(e,d,Z)];d+=U&15;var S=U>>4;if(S<16)$[j++]=S;else{var M=0,X=0;for(S==16?(X=3+Gi(e,d,3),d+=2,M=$[j-1]):S==17?(X=3+Gi(e,d,7),d+=3):S==18&&(X=11+Gi(e,d,127),d+=7);X--;)$[j++]=M}}var F=$.subarray(0,D),q=$.subarray(D);y=Q1(F),_=Q1(q),h=Fs(F,y,1),w=Fs(q,_,1)}else Xi(1);else{var S=j3(d)+4,k=e[S-4]|e[S-3]<<8,P=S+k;if(P>i){l&&Xi(0);break}o&&u(p+k),n.set(e.subarray(S,P),p),t.b=p+=k,t.p=d=P*8,t.f=c;continue}if(d>m){l&&Xi(0);break}}o&&u(p+131072);for(var J=(1<<y)-1,ie=(1<<_)-1,C=d;;C=d){var M=h[ev(e,d)&J],H=M>>4;if(d+=M&15,d>m){l&&Xi(0);break}if(M||Xi(2),H<256)n[p++]=H;else if(H==256){C=d,h=null;break}else{var K=H-254;if(H>264){var j=H-257,Q=r0[j];K=Gi(e,d,(1<<Q)-1)+xP[j],d+=Q}var ne=w[ev(e,d)&ie],ae=ne>>4;ne||Xi(3),d+=ne&15;var q=zB[ae];if(ae>3){var Q=i0[ae];q+=ev(e,d)&(1<<Q)-1,d+=Q}if(d>m){l&&Xi(0);break}o&&u(p+131072);var se=p+K;if(p<q){var ce=s-q,ye=Math.min(q,se);for(ce+p<0&&Xi(3);p<ye;++p)n[p]=r[ce+p]}for(;p<se;++p)n[p]=n[p-q]}}t.l=h,t.p=C,t.b=p,t.f=c,h&&(c=1,t.m=y,t.d=w,t.n=_)}while(!c);return p!=n.length&&a?SP(n,0,p):n.subarray(0,p)},ia=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Ld=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},tv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:EP,l:0};if(i==1){var a=new mr(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(P,D){return P.f-D.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var h=new ui(p+1),w=T_(n[c-1],h,0);if(w>t){var r=0,y=0,_=w-t,m=1<<_;for(s.sort(function(D,R){return h[R.s]-h[D.s]||D.f-R.f});r<i;++r){var b=s[r].s;if(h[b]>t)y+=m-(1<<w-h[b]),h[b]=t;else break}for(y>>=_;y>0;){var S=s[r].s;h[S]<t?y-=1<<t-h[S]++-1:++r}for(;r>=0&&y;--r){var k=s[r].s;h[k]==t&&(--h[k],++y)}w=t}return{t:new mr(h),l:w}},T_=function(e,t,n){return e.s==-1?Math.max(T_(e.l,t,n+1),T_(e.r,t,n+1)):t[e.s]=n},VS=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ui(++t),r=0,i=e[0],s=1,a=function(l){n[r++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:n.subarray(0,r),n:t}},Pd=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},kP=function(e,t,n){var r=n.length,i=j3(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},HS=function(e,t,n,r,i,s,a,o,l,u,c){ia(t,c++,n),++i[256];for(var d=tv(i,15),p=d.t,h=d.l,w=tv(s,15),y=w.t,_=w.l,m=VS(p),b=m.c,S=m.n,k=VS(y),P=k.c,D=k.n,R=new ui(19),L=0;L<b.length;++L)++R[b[L]&31];for(var L=0;L<P.length;++L)++R[P[L]&31];for(var $=tv(R,7),V=$.t,j=$.l,T=19;T>4&&!V[P_[T-1]];--T);var Z=u+5<<3,A=Pd(i,To)+Pd(s,Bf)+a,U=Pd(i,p)+Pd(s,y)+a+14+3*T+Pd(R,V)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&Z<=A&&Z<=U)return kP(t,c,e.subarray(l,l+u));var M,X,F,q;if(ia(t,c,1+(U<A)),c+=2,U<A){M=Fs(p,h,0),X=p,F=Fs(y,_,0),q=y;var J=Fs(V,j,0);ia(t,c,S-257),ia(t,c+5,D-1),ia(t,c+10,T-4),c+=14;for(var L=0;L<T;++L)ia(t,c+3*L,V[P_[L]]);c+=3*T;for(var ie=[b,P],C=0;C<2;++C)for(var H=ie[C],L=0;L<H.length;++L){var K=H[L]&31;ia(t,c,J[K]),c+=V[K],K>15&&(ia(t,c,H[L]>>5&127),c+=H[L]>>12)}}else M=$B,X=To,F=VB,q=Bf;for(var L=0;L<o;++L){var Q=r[L];if(Q>255){var K=Q>>18&31;Ld(t,c,M[K+257]),c+=X[K+257],K>7&&(ia(t,c,Q>>23&31),c+=r0[K]);var ne=Q&31;Ld(t,c,F[ne]),c+=q[ne],ne>3&&(Ld(t,c,Q>>5&8191),c+=i0[ne])}else Ld(t,c,M[Q]),c+=X[Q]}return Ld(t,c,M[256]),c+X[256]},KB=new C3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),EP=new mr(0),ZB=function(e,t,n,r,i,s){var a=s.z||e.length,o=new mr(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),u=s.l,c=(s.r||0)&7;if(t){c&&(l[0]=s.r>>3);for(var d=KB[t-1],p=d>>13,h=d&8191,w=(1<<n)-1,y=s.p||new ui(32768),_=s.h||new ui(w+1),m=Math.ceil(n/3),b=2*m,S=function(Ke){return(e[Ke]^e[Ke+1]<<m^e[Ke+2]<<b)&w},k=new C3(25e3),P=new ui(288),D=new ui(32),R=0,L=0,$=s.i||0,V=0,j=s.w||0,T=0;$+2<a;++$){var Z=S($),A=$&32767,U=_[Z];if(y[A]=U,_[Z]=A,j<=$){var M=a-$;if((R>7e3||V>24576)&&(M>423||!u)){c=HS(e,l,0,k,P,D,L,V,T,$-T,c),V=R=L=0,T=$;for(var X=0;X<286;++X)P[X]=0;for(var X=0;X<30;++X)D[X]=0}var F=2,q=0,J=h,ie=A-U&32767;if(M>2&&Z==S($-ie))for(var C=Math.min(p,M)-1,H=Math.min(32767,$),K=Math.min(258,M);ie<=H&&--J&&A!=U;){if(e[$+F]==e[$+F-ie]){for(var Q=0;Q<K&&e[$+Q]==e[$+Q-ie];++Q);if(Q>F){if(F=Q,q=ie,Q>C)break;for(var ne=Math.min(ie,Q-2),ae=0,X=0;X<ne;++X){var se=$-ie+X&32767,ce=y[se],ye=se-ce&32767;ye>ae&&(ae=ye,U=se)}}}A=U,U=y[A],ie+=A-U&32767}if(q){k[V++]=268435456|R_[F]<<18|US[q];var Ae=R_[F]&31,je=US[q]&31;L+=r0[Ae]+i0[je],++P[257+Ae],++D[je],j=$+F,++R}else k[V++]=e[$],++P[e[$]]}}for($=Math.max($,j);$<a;++$)k[V++]=e[$],++P[e[$]];c=HS(e,l,u,k,P,D,L,V,T,$-T,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=_,s.p=y,s.i=$,s.w=j)}else{for(var $=s.w||0;$<a+u;$+=65535){var Fe=$+65535;Fe>=a&&(l[c/8|0]=u,Fe=a),c=kP(l,c+1,e.subarray($,Fe))}s.i=a}return SP(o,0,r+j3(c)+i)},AP=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},YB=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new mr(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return ZB(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},CP=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},XB=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=AP();i.p(t.dictionary),CP(e,2,i.d())}},JB=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Xi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Xi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function O_(e,t){t||(t={});var n=AP();n.p(e);var r=YB(e,t,t.dictionary?6:2,4);return XB(r,t),CP(r,r.length-4,n.d()),r}function QB(e,t){return GB(e.subarray(JB(e,t),-4),{i:2},t,t)}var ez=typeof TextDecoder<"u"&&new TextDecoder,tz=0;try{ez.decode(EP,{stream:!0}),tz=1}catch{}var ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nv(){ot.console&&typeof ot.console.log=="function"&&ot.console.log.apply(ot.console,arguments)}var Jt={log:nv,warn:function(e){ot.console&&(typeof ot.console.warn=="function"?ot.console.warn.apply(ot.console,arguments):nv.call(null,arguments))},error:function(e){ot.console&&(typeof ot.console.error=="function"?ot.console.error.apply(ot.console,arguments):nv(e))}};function rv(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){sl(r.response,t,n)},r.onerror=function(){Jt.error("could not download file")},r.send()}function WS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function zp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var vf,M_,sl=ot.saveAs||((typeof window>"u"?"undefined":Vt(window))!=="object"||window!==ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ot.URL||ot.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?WS(i.href)?rv(e,t,n):zp(i,i.target="_blank"):zp(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){zp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(WS(e))rv(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){zp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Vt(s)!=="object"&&(Jt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return rv(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(ot.HTMLElement)||ot.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Vt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},o.readAsDataURL(e)}else{var l=ot.URL||ot.webkitURL,u=l.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jP(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iv(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=ur(n,r,i,s,t[0],7,-680876936),s=ur(s,n,r,i,t[1],12,-389564586),i=ur(i,s,n,r,t[2],17,606105819),r=ur(r,i,s,n,t[3],22,-1044525330),n=ur(n,r,i,s,t[4],7,-176418897),s=ur(s,n,r,i,t[5],12,1200080426),i=ur(i,s,n,r,t[6],17,-1473231341),r=ur(r,i,s,n,t[7],22,-45705983),n=ur(n,r,i,s,t[8],7,1770035416),s=ur(s,n,r,i,t[9],12,-1958414417),i=ur(i,s,n,r,t[10],17,-42063),r=ur(r,i,s,n,t[11],22,-1990404162),n=ur(n,r,i,s,t[12],7,1804603682),s=ur(s,n,r,i,t[13],12,-40341101),i=ur(i,s,n,r,t[14],17,-1502002290),n=cr(n,r=ur(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=cr(s,n,r,i,t[6],9,-1069501632),i=cr(i,s,n,r,t[11],14,643717713),r=cr(r,i,s,n,t[0],20,-373897302),n=cr(n,r,i,s,t[5],5,-701558691),s=cr(s,n,r,i,t[10],9,38016083),i=cr(i,s,n,r,t[15],14,-660478335),r=cr(r,i,s,n,t[4],20,-405537848),n=cr(n,r,i,s,t[9],5,568446438),s=cr(s,n,r,i,t[14],9,-1019803690),i=cr(i,s,n,r,t[3],14,-187363961),r=cr(r,i,s,n,t[8],20,1163531501),n=cr(n,r,i,s,t[13],5,-1444681467),s=cr(s,n,r,i,t[2],9,-51403784),i=cr(i,s,n,r,t[7],14,1735328473),n=dr(n,r=cr(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=dr(s,n,r,i,t[8],11,-2022574463),i=dr(i,s,n,r,t[11],16,1839030562),r=dr(r,i,s,n,t[14],23,-35309556),n=dr(n,r,i,s,t[1],4,-1530992060),s=dr(s,n,r,i,t[4],11,1272893353),i=dr(i,s,n,r,t[7],16,-155497632),r=dr(r,i,s,n,t[10],23,-1094730640),n=dr(n,r,i,s,t[13],4,681279174),s=dr(s,n,r,i,t[0],11,-358537222),i=dr(i,s,n,r,t[3],16,-722521979),r=dr(r,i,s,n,t[6],23,76029189),n=dr(n,r,i,s,t[9],4,-640364487),s=dr(s,n,r,i,t[12],11,-421815835),i=dr(i,s,n,r,t[15],16,530742520),n=fr(n,r=dr(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=fr(s,n,r,i,t[7],10,1126891415),i=fr(i,s,n,r,t[14],15,-1416354905),r=fr(r,i,s,n,t[5],21,-57434055),n=fr(n,r,i,s,t[12],6,1700485571),s=fr(s,n,r,i,t[3],10,-1894986606),i=fr(i,s,n,r,t[10],15,-1051523),r=fr(r,i,s,n,t[1],21,-2054922799),n=fr(n,r,i,s,t[8],6,1873313359),s=fr(s,n,r,i,t[15],10,-30611744),i=fr(i,s,n,r,t[6],15,-1560198380),r=fr(r,i,s,n,t[13],21,1309151649),n=fr(n,r,i,s,t[4],6,-145523070),s=fr(s,n,r,i,t[11],10,-1120210379),i=fr(i,s,n,r,t[2],15,718787259),r=fr(r,i,s,n,t[9],21,-343485551),e[0]=yo(n,e[0]),e[1]=yo(r,e[1]),e[2]=yo(i,e[2]),e[3]=yo(s,e[3])}function s0(e,t,n,r,i,s){return t=yo(yo(t,e),yo(r,s)),yo(t<<i|t>>>32-i,n)}function ur(e,t,n,r,i,s,a){return s0(t&n|~t&r,e,t,i,s,a)}function cr(e,t,n,r,i,s,a){return s0(t&r|n&~r,e,t,i,s,a)}function dr(e,t,n,r,i,s,a){return s0(t^n^r,e,t,i,s,a)}function fr(e,t,n,r,i,s,a){return s0(n^(t|~r),e,t,i,s,a)}function LP(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)iv(r,nz(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(iv(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,iv(r,i),r}function nz(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}vf=ot.atob.bind(ot),M_=ot.btoa.bind(ot);var GS="0123456789abcdef".split("");function rz(e){for(var t="",n=0;n<4;n++)t+=GS[e>>8*n+4&15]+GS[e>>8*n&15];return t}function iz(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function F_(e){return LP(e).map(iz).join("")}var sz=function(e){for(var t=0;t<e.length;t++)e[t]=rz(e[t]);return e.join("")}(LP("hello"))!="5d41402abc4b2a76b9719d911017c592";function yo(e,t){if(sz){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q_(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}n=e,r=o}else o=r;var d=t.length,p=0,h=0,w="";for(l=0;l<d;l++)h=(h+(c=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=c,a=o[(o[p]+o[h])%256],w+=String.fromCharCode(t.charCodeAt(l)^a);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var KS={print:4,modify:8,copy:16,"annot-forms":32};function ku(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(KS.perm!==void 0)throw new Error("Invalid permission: "+o);i+=KS[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=F_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=q_(this.encryptionKey,this.padding)}function Eu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function ZS(e){if(Vt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(o){ot.console&&Jt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ug(e){if(!(this instanceof ug))return new ug(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function PP(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ol(e,t,n,r,i){if(!(this instanceof ol))return new ol(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,PP.call(this,r,i)}function Uu(e,t,n,r,i){if(!(this instanceof Uu))return new Uu(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,PP.call(this,r,i)}function at(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;Vt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=ZS;var w="1.3",y=h.__private__.getPdfVersion=function(){return w};h.__private__.setPdfVersion=function(x){w=x};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return _};var m=h.__private__.getPageFormat=function(x){return _[x]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function k(){this.saveGraphicsState(),re(new rt(Me,0,0,-Me,0,qa()*Me).toString()+" cm"),this.setFontSize(this.getFontSize()/Me),u="n",S=b.ADVANCED}function P(){this.restoreGraphicsState(),u="S",S=b.COMPAT}var D=h.__private__.combineFontStyleAndFontWeight=function(x,O){if(x=="bold"&&O=="normal"||x=="bold"&&O==400||x=="normal"&&O=="italic"||x=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(x=O==400||O==="normal"?x==="italic"?"italic":"normal":O!=700&&O!=="bold"||x!=="normal"?(O==700?"bold":O)+""+x:"bold"),x};h.advancedAPI=function(x){var O=S===b.COMPAT;return O&&k.call(this),typeof x!="function"||(x(this),O&&P.call(this)),this},h.compatAPI=function(x){var O=S===b.ADVANCED;return O&&P.call(this),typeof x!="function"||(x(this),O&&k.call(this)),this},h.isAdvancedAPI=function(){return S===b.ADVANCED};var R,L=function(x){if(S!==b.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=h.roundToPrecision=h.__private__.roundToPrecision=function(x,O){var te=t||O;if(isNaN(x)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(te).replace(/0+$/,"")};R=h.hpf=h.__private__.hpf=typeof l=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return $(x,l)}:l==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return $(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return $(x,16)};var V=h.f2=h.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return $(x,2)},j=h.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return $(x,3)},T=h.scale=h.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?x*Me:S===b.ADVANCED?x:void 0},Z=function(x){return S===b.COMPAT?qa()-x:S===b.ADVANCED?x:void 0},A=function(x){return T(Z(x))};h.__private__.setPrecision=h.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10))};var U,M="00000000000000000000000000000000",X=h.__private__.getFileId=function(){return M},F=h.__private__.setFileId=function(x){return M=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():M.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(sr=new ku(c.userPermissions,c.userPassword,c.ownerPassword,M)),M};h.setFileId=function(x){return F(x),this},h.getFileId=function(){return X()};var q=h.__private__.convertDateToPDFDate=function(x){var O=x.getTimezoneOffset(),te=O<0?"+":"-",oe=Math.floor(Math.abs(O/60)),pe=Math.abs(O%60),_e=[te,K(oe),"'",K(pe),"'"].join("");return["D:",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),_e].join("")},J=h.__private__.convertPDFDateToDate=function(x){var O=parseInt(x.substr(2,4),10),te=parseInt(x.substr(6,2),10)-1,oe=parseInt(x.substr(8,2),10),pe=parseInt(x.substr(10,2),10),_e=parseInt(x.substr(12,2),10),Pe=parseInt(x.substr(14,2),10);return new Date(O,te,oe,pe,_e,Pe,0)},ie=h.__private__.setCreationDate=function(x){var O;if(x===void 0&&(x=new Date),x instanceof Date)O=q(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=x}return U=O},C=h.__private__.getCreationDate=function(x){var O=U;return x==="jsDate"&&(O=J(U)),O};h.setCreationDate=function(x){return ie(x),this},h.getCreationDate=function(x){return C(x)};var H,K=h.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},Q=h.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ne=0,ae=[],se=[],ce=0,ye=[],Ae=[],je=!1,Fe=se,Ke=function(){ne=0,ce=0,se=[],ae=[],ye=[],Bi=mn(),Yr=mn()};h.__private__.setCustomOutputDestination=function(x){je=!0,Fe=x};var he=function(x){je||(Fe=x)};h.__private__.resetCustomOutputDestination=function(){je=!1,Fe=se};var re=h.__private__.out=function(x){return x=x.toString(),ce+=x.length+1,Fe.push(x),Fe},Re=h.__private__.write=function(x){return re(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},xe=h.__private__.getArrayBuffer=function(x){for(var O=x.length,te=new ArrayBuffer(O),oe=new Uint8Array(te);O--;)oe[O]=x.charCodeAt(O);return te},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Se};var qe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(x){return qe=S===b.ADVANCED?x/Me:x,this};var De,Oe=h.__private__.getFontSize=h.getFontSize=function(){return S===b.COMPAT?qe:qe*Me},ze=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(x){return ze=x,this},h.__private__.getR2L=h.getR2L=function(){return ze};var Ye,nt=h.__private__.setZoomMode=function(x){var O=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))De=x;else if(isNaN(x)){if(O.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');De=x}else De=parseInt(x,10)};h.__private__.getZoomMode=function(){return De};var ut,pt=h.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Ye=x};h.__private__.getPageMode=function(){return Ye};var bt=h.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');ut=x};h.__private__.getLayoutMode=function(){return ut},h.__private__.setDisplayMode=h.setDisplayMode=function(x,O,te){return nt(x),bt(O),pt(te),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(x){if(Object.keys(Xe).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[x]},h.__private__.getDocumentProperties=function(){return Xe},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(x){for(var O in Xe)Xe.hasOwnProperty(O)&&x[O]&&(Xe[O]=x[O]);return this},h.__private__.setDocumentProperty=function(x,O){if(Object.keys(Xe).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[x]=O};var dt,Me,qt,st,Yt,Lt={},Rt={},_n=[],At={},Di={},Gt={},br={},vi=null,zt=0,ft=[],Ft=new ZS(h),Ws=e.hotfixes||[],Fn={},yi={},bi=[],rt=function x(O,te,oe,pe,_e,Pe){if(!(this instanceof x))return new x(O,te,oe,pe,_e,Pe);isNaN(O)&&(O=1),isNaN(te)&&(te=0),isNaN(oe)&&(oe=0),isNaN(pe)&&(pe=1),isNaN(_e)&&(_e=0),isNaN(Pe)&&(Pe=0),this._matrix=[O,te,oe,pe,_e,Pe]};Object.defineProperty(rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(x)},rt.prototype.multiply=function(x){var O=x.sx*this.sx+x.shy*this.shx,te=x.sx*this.shy+x.shy*this.sy,oe=x.shx*this.sx+x.sy*this.shx,pe=x.shx*this.shy+x.sy*this.sy,_e=x.tx*this.sx+x.ty*this.shx+this.tx,Pe=x.tx*this.shy+x.ty*this.sy+this.ty;return new rt(O,te,oe,pe,_e,Pe)},rt.prototype.decompose=function(){var x=this.sx,O=this.shy,te=this.shx,oe=this.sy,pe=this.tx,_e=this.ty,Pe=Math.sqrt(x*x+O*O),Ve=(x/=Pe)*te+(O/=Pe)*oe;te-=x*Ve,oe-=O*Ve;var et=Math.sqrt(te*te+oe*oe);return Ve/=et,x*(oe/=et)<O*(te/=et)&&(x=-x,O=-O,Ve=-Ve,Pe=-Pe),{scale:new rt(Pe,0,0,et,0,0),translate:new rt(1,0,0,1,pe,_e),rotate:new rt(x,O,-O,x,0,0),skew:new rt(1,0,Ve,1,0,0)}},rt.prototype.toString=function(x){return this.join(" ")},rt.prototype.inversed=function(){var x=this.sx,O=this.shy,te=this.shx,oe=this.sy,pe=this.tx,_e=this.ty,Pe=1/(x*oe-O*te),Ve=oe*Pe,et=-O*Pe,yt=-te*Pe,mt=x*Pe;return new rt(Ve,et,yt,mt,-Ve*pe-yt*_e,-et*pe-mt*_e)},rt.prototype.applyToPoint=function(x){var O=x.x*this.sx+x.y*this.shx+this.tx,te=x.x*this.shy+x.y*this.sy+this.ty;return new Ql(O,te)},rt.prototype.applyToRectangle=function(x){var O=this.applyToPoint(x),te=this.applyToPoint(new Ql(x.x+x.w,x.y+x.h));return new nd(O.x,O.y,te.x-O.x,te.y-O.y)},rt.prototype.clone=function(){var x=this.sx,O=this.shy,te=this.shx,oe=this.sy,pe=this.tx,_e=this.ty;return new rt(x,O,te,oe,pe,_e)},h.Matrix=rt;var Zr=h.matrixMult=function(x,O){return O.multiply(x)},wi=new rt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=wi;var ir=function(x,O){if(!Di[x]){var te=(O instanceof ol?"Sh":"P")+(Object.keys(At).length+1).toString(10);O.id=te,Di[x]=te,At[te]=O,Ft.publish("addPattern",O)}};h.ShadingPattern=ol,h.TilingPattern=Uu,h.addShadingPattern=function(x,O){return L("addShadingPattern()"),ir(x,O),this},h.beginTilingPattern=function(x){L("beginTilingPattern()"),Xh(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},h.endTilingPattern=function(x,O){L("endTilingPattern()"),O.stream=Ae[H].join(`
`),ir(x,O),Ft.publish("endTilingPattern",O),bi.pop().restore()};var xn=h.__private__.newObject=function(){var x=mn();return wr(x,!0),x},mn=h.__private__.newObjectDeferred=function(){return ne++,ae[ne]=function(){return ce},ne},wr=function(x,O){return O=typeof O=="boolean"&&O,ae[x]=ce,O&&re(x+" 0 obj"),x},La=h.__private__.newAdditionalObject=function(){var x={objId:mn(),content:""};return ye.push(x),x},Bi=mn(),Yr=mn(),Lr=h.__private__.decodeColorString=function(x){var O=x.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length===5&&(O[4]==="k"||O[4]==="K")&&(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var te=parseFloat(O[0]);O=[te,te,te,"r"]}for(var oe="#",pe=0;pe<3;pe++)oe+=("0"+Math.floor(255*parseFloat(O[pe])).toString(16)).slice(-2);return oe},Xr=h.__private__.encodeColorString=function(x){var O;typeof x=="string"&&(x={ch1:x});var te=x.ch1,oe=x.ch2,pe=x.ch3,_e=x.ch4,Pe=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Ve=new jP(te);if(Ve.ok)te=Ve.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var et=parseInt(te.substr(1),16);te=et>>16&255,oe=et>>8&255,pe=255&et}if(oe===void 0||_e===void 0&&te===oe&&oe===pe)if(typeof te=="string")O=te+" "+Pe[0];else switch(x.precision){case 2:O=V(te/255)+" "+Pe[0];break;case 3:default:O=j(te/255)+" "+Pe[0]}else if(_e===void 0||Vt(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return O=["1.","1.","1.",Pe[1]].join(" ");if(typeof te=="string")O=[te,oe,pe,Pe[1]].join(" ");else switch(x.precision){case 2:O=[V(te/255),V(oe/255),V(pe/255),Pe[1]].join(" ");break;default:case 3:O=[j(te/255),j(oe/255),j(pe/255),Pe[1]].join(" ")}}else if(typeof te=="string")O=[te,oe,pe,_e,Pe[2]].join(" ");else switch(x.precision){case 2:O=[V(te),V(oe),V(pe),V(_e),Pe[2]].join(" ");break;case 3:default:O=[j(te),j(oe),j(pe),j(_e),Pe[2]].join(" ")}return O},_i=h.__private__.getFilters=function(){return a},Pr=h.__private__.putStream=function(x){var O=(x=x||{}).data||"",te=x.filters||_i(),oe=x.alreadyAppliedFilters||[],pe=x.addLength1||!1,_e=O.length,Pe=x.objectId,Ve=function(ar){return ar};if(c!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ve=sr.encryptor(Pe,0));var et={};te===!0&&(te=["FlateEncode"]);var yt=x.additionalKeyValues||[],mt=(et=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(O,te):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(et.data.length!==0&&(yt.push({key:"Length",value:et.data.length}),pe===!0&&yt.push({key:"Length1",value:_e})),mt.length!=0)if(mt.split("/").length-1==1)yt.push({key:"Filter",value:mt});else{yt.push({key:"Filter",value:"["+mt+"]"});for(var It=0;It<yt.length;It+=1)if(yt[It].key==="DecodeParms"){for(var ln=[],gn=0;gn<et.reverseChain.split("/").length-1;gn+=1)ln.push("null");ln.push(yt[It].value),yt[It].value="["+ln.join(" ")+"]"}}re("<<");for(var Ln=0;Ln<yt.length;Ln++)re("/"+yt[Ln].key+" "+yt[Ln].value);re(">>"),et.data.length!==0&&(re("stream"),re(Ve(et.data)),re("endstream"))},xi=h.__private__.putPage=function(x){var O=x.number,te=x.data,oe=x.objId,pe=x.contentsObjId;wr(oe,!0),re("<</Type /Page"),re("/Parent "+x.rootDictionaryObjId+" 0 R"),re("/Resources "+x.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(R(x.mediaBox.bottomLeftX))+" "+parseFloat(R(x.mediaBox.bottomLeftY))+" "+R(x.mediaBox.topRightX)+" "+R(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&re("/CropBox ["+R(x.cropBox.bottomLeftX)+" "+R(x.cropBox.bottomLeftY)+" "+R(x.cropBox.topRightX)+" "+R(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&re("/BleedBox ["+R(x.bleedBox.bottomLeftX)+" "+R(x.bleedBox.bottomLeftY)+" "+R(x.bleedBox.topRightX)+" "+R(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&re("/TrimBox ["+R(x.trimBox.bottomLeftX)+" "+R(x.trimBox.bottomLeftY)+" "+R(x.trimBox.topRightX)+" "+R(x.trimBox.topRightY)+"]"),x.artBox!==null&&re("/ArtBox ["+R(x.artBox.bottomLeftX)+" "+R(x.artBox.bottomLeftY)+" "+R(x.artBox.topRightX)+" "+R(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&re("/UserUnit "+x.userUnit),Ft.publish("putPage",{objId:oe,pageContext:ft[O],pageNumber:O,page:te}),re("/Contents "+pe+" 0 R"),re(">>"),re("endobj");var _e=te.join(`
`);return S===b.ADVANCED&&(_e+=`
Q`),wr(pe,!0),Pr({data:_e,filters:_i(),objectId:pe}),re("endobj"),oe},Gs=h.__private__.putPages=function(){var x,O,te=[];for(x=1;x<=zt;x++)ft[x].objId=mn(),ft[x].contentsObjId=mn();for(x=1;x<=zt;x++)te.push(xi({number:x,data:Ae[x],objId:ft[x].objId,contentsObjId:ft[x].contentsObjId,mediaBox:ft[x].mediaBox,cropBox:ft[x].cropBox,bleedBox:ft[x].bleedBox,trimBox:ft[x].trimBox,artBox:ft[x].artBox,userUnit:ft[x].userUnit,rootDictionaryObjId:Bi,resourceDictionaryObjId:Yr}));wr(Bi,!0),re("<</Type /Pages");var oe="/Kids [";for(O=0;O<zt;O++)oe+=te[O]+" 0 R ";re(oe+"]"),re("/Count "+zt),re(">>"),re("endobj"),Ft.publish("postPutPages")},Pa=function(x){Ft.publish("putFont",{font:x,out:re,newObject:xn,putStream:Pr}),x.isAlreadyPutted!==!0&&(x.objectNumber=xn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Eu(x.postScriptName)),re("/Subtype /Type1"),typeof x.encoding=="string"&&re("/Encoding /"+x.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ra=function(){for(var x in Lt)Lt.hasOwnProperty(x)&&(d===!1||d===!0&&p.hasOwnProperty(x))&&Pa(Lt[x])},Ia=function(x){x.objectNumber=xn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[R(x.x),R(x.y),R(x.x+x.width),R(x.y+x.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var te=x.pages[1].join(`
`);Pr({data:te,additionalKeyValues:O,objectId:x.objectNumber}),re("endobj")},Ks=function(){for(var x in Fn)Fn.hasOwnProperty(x)&&Ia(Fn[x])},Vl=function(x,O){var te,oe=[],pe=1/(O-1);for(te=0;te<1;te+=pe)oe.push(te);if(oe.push(1),x[0].offset!=0){var _e={offset:0,color:x[0].color};x.unshift(_e)}if(x[x.length-1].offset!=1){var Pe={offset:1,color:x[x.length-1].color};x.push(Pe)}for(var Ve="",et=0,yt=0;yt<oe.length;yt++){for(te=oe[yt];te>x[et+1].offset;)et++;var mt=x[et].offset,It=(te-mt)/(x[et+1].offset-mt),ln=x[et].color,gn=x[et+1].color;Ve+=Q(Math.round((1-It)*ln[0]+It*gn[0]).toString(16))+Q(Math.round((1-It)*ln[1]+It*gn[1]).toString(16))+Q(Math.round((1-It)*ln[2]+It*gn[2]).toString(16))}return Ve.trim()},$c=function(x,O){O||(O=21);var te=xn(),oe=Vl(x.colors,O),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+O+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pr({data:oe,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),re("endobj"),x.objectNumber=xn(),re("<< /ShadingType "+x.type),re("/ColorSpace /DeviceRGB");var _e="/Coords ["+R(parseFloat(x.coords[0]))+" "+R(parseFloat(x.coords[1]))+" ";x.type===2?_e+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3])):_e+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3]))+" "+R(parseFloat(x.coords[4]))+" "+R(parseFloat(x.coords[5])),re(_e+="]"),x.matrix&&re("/Matrix ["+x.matrix.toString()+"]"),re("/Function "+te+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Uc=function(x,O){var te=mn(),oe=xn();O.push({resourcesOid:te,objectOid:oe}),x.objectNumber=oe;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+x.boundingBox.map(R).join(" ")+"]"}),pe.push({key:"XStep",value:R(x.xStep)}),pe.push({key:"YStep",value:R(x.yStep)}),pe.push({key:"Resources",value:te+" 0 R"}),x.matrix&&pe.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Pr({data:x.stream,additionalKeyValues:pe,objectId:x.objectNumber}),re("endobj")},Ta=function(x){var O;for(O in At)At.hasOwnProperty(O)&&(At[O]instanceof ol?$c(At[O]):At[O]instanceof Uu&&Uc(At[O],x))},Hl=function(x){for(var O in x.objectNumber=xn(),re("<<"),x)switch(O){case"opacity":re("/ca "+V(x[O]));break;case"stroke-opacity":re("/CA "+V(x[O]))}re(">>"),re("endobj")},Vc=function(){var x;for(x in Gt)Gt.hasOwnProperty(x)&&Hl(Gt[x])},Oa=function(){for(var x in re("/XObject <<"),Fn)Fn.hasOwnProperty(x)&&Fn[x].objectNumber>=0&&re("/"+x+" "+Fn[x].objectNumber+" 0 R");Ft.publish("putXobjectDict"),re(">>")},Hc=function(){sr.oid=xn(),re("<<"),re("/Filter /Standard"),re("/V "+sr.v),re("/R "+sr.r),re("/U <"+sr.toHexString(sr.U)+">"),re("/O <"+sr.toHexString(sr.O)+">"),re("/P "+sr.P),re(">>"),re("endobj")},Wl=function(){for(var x in re("/Font <<"),Lt)Lt.hasOwnProperty(x)&&(d===!1||d===!0&&p.hasOwnProperty(x))&&re("/"+x+" "+Lt[x].objectNumber+" 0 R");re(">>")},Wc=function(){if(Object.keys(At).length>0){for(var x in re("/Shading <<"),At)At.hasOwnProperty(x)&&At[x]instanceof ol&&At[x].objectNumber>=0&&re("/"+x+" "+At[x].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),re(">>")}},bs=function(x){if(Object.keys(At).length>0){for(var O in re("/Pattern <<"),At)At.hasOwnProperty(O)&&At[O]instanceof h.TilingPattern&&At[O].objectNumber>=0&&At[O].objectNumber<x&&re("/"+O+" "+At[O].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),re(">>")}},$0=function(){if(Object.keys(Gt).length>0){var x;for(x in re("/ExtGState <<"),Gt)Gt.hasOwnProperty(x)&&Gt[x].objectNumber>=0&&re("/"+x+" "+Gt[x].objectNumber+" 0 R");Ft.publish("putGStateDict"),re(">>")}},Nn=function(x){wr(x.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wl(),Wc(),bs(x.objectOid),$0(),Oa(),re(">>"),re("endobj")},Mh=function(){var x=[];Ra(),Vc(),Ks(),Ta(x),Ft.publish("putResources"),x.forEach(Nn),Nn({resourcesOid:Yr,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources")},Fh=function(){Ft.publish("putAdditionalObjects");for(var x=0;x<ye.length;x++){var O=ye[x];wr(O.objId,!0),re(O.content),re("endobj")}Ft.publish("postPutAdditionalObjects")},qh=function(x){Rt[x.fontName]=Rt[x.fontName]||{},Rt[x.fontName][x.fontStyle]=x.id},Gc=function(x,O,te,oe,pe){var _e={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:x,fontName:O,fontStyle:te,encoding:oe,isStandardFont:pe||!1,metadata:{}};return Ft.publish("addFont",{font:_e,instance:this}),Lt[_e.id]=_e,qh(_e),_e.id},U0=function(x){for(var O=0,te=Se.length;O<te;O++){var oe=Gc.call(this,x[O][0],x[O][1],x[O][2],Se[O][3],!0);d===!1&&(p[oe]=!0);var pe=x[O][0].split("-");qh({id:oe,fontName:pe[0],fontStyle:pe[1]||""})}Ft.publish("addFonts",{fonts:Lt,dictionary:Rt})},zi=function(x){return x.foo=function(){try{return x.apply(this,arguments)}catch(oe){var O=oe.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var te="Error in function "+O.split(`
`)[0].split("<")[0]+": "+oe.message;if(!ot.console)throw new Error(te);ot.console.error(te,oe),ot.alert&&alert(te)}},x.foo.bar=x,x.foo},Gl=function(x,O){var te,oe,pe,_e,Pe,Ve,et,yt,mt;if(pe=(O=O||{}).sourceEncoding||"Unicode",Pe=O.outputEncoding,(O.autoencode||Pe)&&Lt[dt].metadata&&Lt[dt].metadata[pe]&&Lt[dt].metadata[pe].encoding&&(_e=Lt[dt].metadata[pe].encoding,!Pe&&Lt[dt].encoding&&(Pe=Lt[dt].encoding),!Pe&&_e.codePages&&(Pe=_e.codePages[0]),typeof Pe=="string"&&(Pe=_e[Pe]),Pe)){for(et=!1,Ve=[],te=0,oe=x.length;te<oe;te++)(yt=Pe[x.charCodeAt(te)])?Ve.push(String.fromCharCode(yt)):Ve.push(x[te]),Ve[te].charCodeAt(0)>>8&&(et=!0);x=Ve.join("")}for(te=x.length;et===void 0&&te!==0;)x.charCodeAt(te-1)>>8&&(et=!0),te--;if(!et)return x;for(Ve=O.noBOM?[]:[254,255],te=0,oe=x.length;te<oe;te++){if((mt=(yt=x.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ve.push(mt),Ve.push(yt-(mt<<8))}return String.fromCharCode.apply(void 0,Ve)},Rr=h.__private__.pdfEscape=h.pdfEscape=function(x,O){return Gl(x,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kc=h.__private__.beginPage=function(x){Ae[++zt]=[],ft[zt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Bh(zt),he(Ae[H])},Dh=function(x,O){var te,oe,pe;switch(n=O||n,typeof x=="string"&&(te=m(x.toLowerCase()),Array.isArray(te)&&(oe=te[0],pe=te[1])),Array.isArray(x)&&(oe=x[0]*Me,pe=x[1]*Me),isNaN(oe)&&(oe=i[0],pe=i[1]),(oe>14400||pe>14400)&&(Jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),pe=Math.min(14400,pe)),i=[oe,pe],n.substr(0,1)){case"l":pe>oe&&(i=[pe,oe]);break;case"p":oe>pe&&(i=[pe,oe])}Kc(i),Wh(Jc),re($i),ed!==0&&re(ed+" J"),td!==0&&re(td+" j"),Ft.publish("addPage",{pageNumber:zt})},V0=function(x){x>0&&x<=zt&&(Ae.splice(x,1),ft.splice(x,1),zt--,H>zt&&(H=zt),this.setPage(H))},Bh=function(x){x>0&&x<=zt&&(H=x)},H0=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ae.length-1},zh=function(x,O,te){var oe,pe=void 0;return te=te||{},x=x!==void 0?x:Lt[dt].fontName,O=O!==void 0?O:Lt[dt].fontStyle,oe=x.toLowerCase(),Rt[oe]!==void 0&&Rt[oe][O]!==void 0?pe=Rt[oe][O]:Rt[x]!==void 0&&Rt[x][O]!==void 0?pe=Rt[x][O]:te.disableWarning===!1&&Jt.warn("Unable to look up font label for font '"+x+"', '"+O+"'. Refer to getFontList() for available fonts."),pe||te.noFallback||(pe=Rt.times[O])==null&&(pe=Rt.times.normal),pe},W0=h.__private__.putInfo=function(){var x=xn(),O=function(oe){return oe};for(var te in c!==null&&(O=sr.encryptor(x,0)),re("<<"),re("/Producer ("+Rr(O("jsPDF "+at.version))+")"),Xe)Xe.hasOwnProperty(te)&&Xe[te]&&re("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Rr(O(Xe[te]))+")");re("/CreationDate ("+Rr(O(U))+")"),re(">>"),re("endobj")},Zc=h.__private__.putCatalog=function(x){var O=(x=x||{}).rootDictionaryObjId||Bi;switch(xn(),re("<<"),re("/Type /Catalog"),re("/Pages "+O+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+De;te.substr(te.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&re("/OpenAction [3 0 R /XYZ null null "+V(De)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ye&&re("/PageMode /"+Ye),Ft.publish("putCatalog"),re(">>"),re("endobj")},G0=h.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ne+1)),re("/Root "+ne+" 0 R"),re("/Info "+(ne-1)+" 0 R"),c!==null&&re("/Encrypt "+sr.oid+" 0 R"),re("/ID [ <"+M+"> <"+M+"> ]"),re(">>")},K0=h.__private__.putHeader=function(){re("%PDF-"+w),re("%ºß¬à")},Z0=h.__private__.putXRef=function(){var x="0000000000";re("xref"),re("0 "+(ne+1)),re("0000000000 65535 f ");for(var O=1;O<=ne;O++)typeof ae[O]=="function"?re((x+ae[O]()).slice(-10)+" 00000 n "):ae[O]!==void 0?re((x+ae[O]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Zs=h.__private__.buildDocument=function(){Ke(),he(se),Ft.publish("buildDocument"),K0(),Gs(),Fh(),Mh(),c!==null&&Hc(),W0(),Zc();var x=ce;return Z0(),G0(),re("startxref"),re(""+x),re("%%EOF"),he(Ae[H]),se.join(`
`)},Kl=h.__private__.getBlob=function(x){return new Blob([xe(x)],{type:"application/pdf"})},Zl=h.output=h.__private__.output=zi(function(x,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",x){case void 0:return Zs();case"save":h.save(O.filename);break;case"arraybuffer":return xe(Zs());case"blob":return Kl(Zs());case"bloburi":case"bloburl":if(ot.URL!==void 0&&typeof ot.URL.createObjectURL=="function")return ot.URL&&ot.URL.createObjectURL(Kl(Zs()))||void 0;Jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",oe=Zs();try{te=M_(oe)}catch{te=M_(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+O.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(pe=O.pdfObjectUrl,_e="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",Ve=ot.open();return Ve!==null&&Ve.document.write(Pe),Ve}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ot)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',yt=ot.open();if(yt!==null){yt.document.write(et);var mt=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=O.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',ln=ot.open();if(ln!==null&&(ln.document.write(It),ln.document.title=O.filename),ln||typeof safari>"u")return ln;break;case"datauri":case"dataurl":return ot.document.location.href=this.output("datauristring",O);default:return null}}),$h=function(x){return Array.isArray(Ws)===!0&&Ws.indexOf(x)>-1};switch(r){case"pt":Me=1;break;case"mm":Me=72/25.4;break;case"cm":Me=72/2.54;break;case"in":Me=72;break;case"px":Me=$h("px_scaling")==1?.75:96/72;break;case"pc":case"em":Me=12;break;case"ex":Me=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Me=r}var sr=null;ie(),F();var Y0=function(x){return c!==null?sr.encryptor(x,0):function(O){return O}},Uh=h.__private__.getPageInfo=h.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[x].objId,pageNumber:x,pageContext:ft[x]}},ht=h.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in ft)if(ft[O].objId===x)break;return Uh(O)},X0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ft[H].objId,pageNumber:H,pageContext:ft[H]}};h.addPage=function(){return Dh.apply(this,arguments),this},h.setPage=function(){return Bh.apply(this,arguments),he.call(this,Ae[H]),this},h.insertPage=function(x){return this.addPage(),this.movePage(H,x),this},h.movePage=function(x,O){var te,oe;if(x>O){te=Ae[x],oe=ft[x];for(var pe=x;pe>O;pe--)Ae[pe]=Ae[pe-1],ft[pe]=ft[pe-1];Ae[O]=te,ft[O]=oe,this.setPage(O)}else if(x<O){te=Ae[x],oe=ft[x];for(var _e=x;_e<O;_e++)Ae[_e]=Ae[_e+1],ft[_e]=ft[_e+1];Ae[O]=te,ft[O]=oe,this.setPage(O)}return this},h.deletePage=function(){return V0.apply(this,arguments),this},h.__private__.text=h.text=function(x,O,te,oe,pe){var _e,Pe,Ve,et,yt,mt,It,ln,gn,Ln=(oe=oe||{}).scope||this;if(typeof x=="number"&&typeof O=="number"&&(typeof te=="string"||Array.isArray(te))){var ar=te;te=O,O=x,x=ar}if(arguments[3]instanceof rt?(L("The transform parameter of text() with a Matrix value"),gn=pe):(Ve=arguments[4],et=arguments[5],Vt(It=arguments[3])==="object"&&It!==null||(typeof Ve=="string"&&(et=Ve,Ve=null),typeof It=="string"&&(et=It,It=null),typeof It=="number"&&(Ve=It,It=null),oe={flags:It,angle:Ve,align:et})),isNaN(O)||isNaN(te)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Ln;var Un="",Ui=!1,Jr=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:Ko,xs=Ln.internal.scaleFactor;function Jh(Qt){return Qt=Qt.split("	").join(Array(oe.TabLen||9).join(" ")),Rr(Qt,It)}function ad(Qt){for(var en,kn=Qt.concat(),qn=[],ea=kn.length;ea--;)typeof(en=kn.shift())=="string"?qn.push(en):Array.isArray(Qt)&&(en.length===1||en[1]===void 0&&en[2]===void 0)?qn.push(en[0]):qn.push([en[0],en[1],en[2]]);return qn}function od(Qt,en){var kn;if(typeof Qt=="string")kn=en(Qt)[0];else if(Array.isArray(Qt)){for(var qn,ea,md=Qt.concat(),cu=[],rp=md.length;rp--;)typeof(qn=md.shift())=="string"?cu.push(en(qn)[0]):Array.isArray(qn)&&typeof qn[0]=="string"&&(ea=en(qn[0],qn[1],qn[2]),cu.push([ea[0],ea[1],ea[2]]));kn=cu}return kn}var tu=!1,ld=!0;if(typeof x=="string")tu=!0;else if(Array.isArray(x)){var ud=x.concat();Pe=[];for(var nu,Xn=ud.length;Xn--;)(typeof(nu=ud.shift())!="string"||Array.isArray(nu)&&typeof nu[0]!="string")&&(ld=!1);tu=ld}if(tu===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ru=qe/Ln.internal.scaleFactor,iu=ru*(Jr-1);switch(oe.baseline){case"bottom":te-=iu;break;case"top":te+=ru-iu;break;case"hanging":te+=ru-2*iu;break;case"middle":te+=ru/2-iu}if((mt=oe.maxWidth||0)>0&&(typeof x=="string"?x=Ln.splitTextToSize(x,mt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Qt,en){return Qt.concat(Ln.splitTextToSize(en,mt))},[]))),_e={text:x,x:O,y:te,options:oe,mutex:{pdfEscape:Rr,activeFontKey:dt,fonts:Lt,activeFontSize:qe}},Ft.publish("preProcessText",_e),x=_e.text,Ve=(oe=_e.options).angle,!(gn instanceof rt)&&Ve&&typeof Ve=="number"){Ve*=Math.PI/180,oe.rotationDirection===0&&(Ve=-Ve),S===b.ADVANCED&&(Ve=-Ve);var su=Math.cos(Ve),cd=Math.sin(Ve);gn=new rt(su,cd,-cd,su,0,0)}else Ve&&Ve instanceof rt&&(gn=Ve);S!==b.ADVANCED||gn||(gn=wi),(yt=oe.charSpace||Jl)!==void 0&&(Un+=R(T(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ln=oe.horizontalScale)!==void 0&&(Un+=R(100*ln)+` Tz
`),oe.lang;var Ir=-1,o1=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,dd=Ln.internal.getCurrentPageInfo().pageContext;switch(o1){case 0:case!1:case"fill":Ir=0;break;case 1:case!0:case"stroke":Ir=1;break;case 2:case"fillThenStroke":Ir=2;break;case 3:case"invisible":Ir=3;break;case 4:case"fillAndAddForClipping":Ir=4;break;case 5:case"strokeAndAddPathForClipping":Ir=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ir=6;break;case 7:case"addToPathForClipping":Ir=7}var Qh=dd.usedRenderingMode!==void 0?dd.usedRenderingMode:-1;Ir!==-1?Un+=Ir+` Tr
`:Qh!==-1&&(Un+=`0 Tr
`),Ir!==-1&&(dd.usedRenderingMode=Ir),et=oe.align||"left";var Ni,au=qe*Jr,ep=Ln.internal.pageSize.getWidth(),tp=Lt[dt];yt=oe.charSpace||Jl,mt=oe.maxWidth||0,It=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Da=[],Xo=function(Qt){return Ln.getStringUnitWidth(Qt,{font:tp,charSpace:yt,fontSize:qe,doKerning:!1})*qe/xs};if(Object.prototype.toString.call(x)==="[object Array]"){var Tr;Pe=ad(x),et!=="left"&&(Ni=Pe.map(Xo));var _r,Ba=0;if(et==="right"){O-=Ni[0],x=[],Xn=Pe.length;for(var Xs=0;Xs<Xn;Xs++)Xs===0?(_r=_s(O),Tr=Ys(te)):(_r=T(Ba-Ni[Xs]),Tr=-au),x.push([Pe[Xs],_r,Tr]),Ba=Ni[Xs]}else if(et==="center"){O-=Ni[0]/2,x=[],Xn=Pe.length;for(var Js=0;Js<Xn;Js++)Js===0?(_r=_s(O),Tr=Ys(te)):(_r=T((Ba-Ni[Js])/2),Tr=-au),x.push([Pe[Js],_r,Tr]),Ba=Ni[Js]}else if(et==="left"){x=[],Xn=Pe.length;for(var ou=0;ou<Xn;ou++)x.push(Pe[ou])}else if(et==="justify"&&tp.encoding==="Identity-H"){x=[],Xn=Pe.length,mt=mt!==0?mt:ep;for(var Qs=0,Sn=0;Sn<Xn;Sn++)if(Tr=Sn===0?Ys(te):-au,_r=Sn===0?_s(O):Qs,Sn<Xn-1){var fd=T((mt-Ni[Sn])/(Pe[Sn].split(" ").length-1)),xr=Pe[Sn].split(" ");x.push([xr[0]+" ",_r,Tr]),Qs=0;for(var Si=1;Si<xr.length;Si++){var lu=(Xo(xr[Si-1]+" "+xr[Si])-Xo(xr[Si]))*xs+fd;Si==xr.length-1?x.push([xr[Si],lu,0]):x.push([xr[Si]+" ",lu,0]),Qs-=lu}}else x.push([Pe[Sn],_r,Tr]);x.push(["",Qs,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Xn=Pe.length,mt=mt!==0?mt:ep,Sn=0;Sn<Xn;Sn++)Tr=Sn===0?Ys(te):-au,_r=Sn===0?_s(O):0,Sn<Xn-1?Da.push(R(T((mt-Ni[Sn])/(Pe[Sn].split(" ").length-1)))):Da.push(0),x.push([Pe[Sn],_r,Tr])}}var np=typeof oe.R2L=="boolean"?oe.R2L:ze;np===!0&&(x=od(x,function(Qt,en,kn){return[Qt.split("").reverse().join(""),en,kn]})),_e={text:x,x:O,y:te,options:oe,mutex:{pdfEscape:Rr,activeFontKey:dt,fonts:Lt,activeFontSize:qe}},Ft.publish("postProcessText",_e),x=_e.text,Ui=_e.mutex.isHex||!1;var hd=Lt[dt].encoding;hd!=="WinAnsiEncoding"&&hd!=="StandardEncoding"||(x=od(x,function(Qt,en,kn){return[Jh(Qt),en,kn]})),Pe=ad(x),x=[];for(var Jo,Qo,za,el=0,uu=1,tl=Array.isArray(Pe[0])?uu:el,$a="",pd=function(Qt,en,kn){var qn="";return kn instanceof rt?(kn=typeof oe.angle=="number"?Zr(kn,new rt(1,0,0,1,Qt,en)):Zr(new rt(1,0,0,1,Qt,en),kn),S===b.ADVANCED&&(kn=Zr(new rt(1,0,0,-1,0,0),kn)),qn=kn.join(" ")+` Tm
`):qn=R(Qt)+" "+R(en)+` Td
`,qn},ki=0;ki<Pe.length;ki++){switch($a="",tl){case uu:za=(Ui?"<":"(")+Pe[ki][0]+(Ui?">":")"),Jo=parseFloat(Pe[ki][1]),Qo=parseFloat(Pe[ki][2]);break;case el:za=(Ui?"<":"(")+Pe[ki]+(Ui?">":")"),Jo=_s(O),Qo=Ys(te)}Da!==void 0&&Da[ki]!==void 0&&($a=Da[ki]+` Tw
`),ki===0?x.push($a+pd(Jo,Qo,gn)+za):tl===el?x.push($a+za):tl===uu&&x.push($a+pd(Jo,Qo,gn)+za)}x=tl===el?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ei=`BT
/`;return Ei+=dt+" "+qe+` Tf
`,Ei+=R(qe*Jr)+` TL
`,Ei+=Zo+`
`,Ei+=Un,Ei+=x,re(Ei+="ET"),p[dt]=!0,Ln};var J0=h.__private__.clip=h.clip=function(x){return re(x==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return J0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return re("n"),this};var ws=h.__private__.isValidStyle=function(x){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(O=!0),O};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(x){return ws(x)&&(u=x),this};var Vh=h.__private__.getStyle=h.getStyle=function(x){var O=u;switch(x){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=x}return O},Hh=h.close=function(){return re("h"),this};h.stroke=function(){return re("S"),this},h.fill=function(x){return Yl("f",x),this},h.fillEvenOdd=function(x){return Yl("f*",x),this},h.fillStroke=function(x){return Yl("B",x),this},h.fillStrokeEvenOdd=function(x){return Yl("B*",x),this};var Yl=function(x,O){Vt(O)==="object"?e1(O,x):re(x)},Yc=function(x){x===null||S===b.ADVANCED&&x===void 0||(x=Vh(x),re(x))};function Q0(x,O,te,oe,pe){var _e=new Uu(O||this.boundingBox,te||this.xStep,oe||this.yStep,this.gState,pe||this.matrix);_e.stream=this.stream;var Pe=x+"$$"+this.cloneIndex+++"$$";return ir(Pe,_e),_e}var e1=function(x,O){var te=Di[x.key],oe=At[te];if(oe instanceof ol)re("q"),re(t1(O)),oe.gState&&h.setGState(oe.gState),re(x.matrix.toString()+" cm"),re("/"+te+" sh"),re("Q");else if(oe instanceof Uu){var pe=new rt(1,0,0,-1,0,qa());x.matrix&&(pe=pe.multiply(x.matrix||wi),te=Q0.call(oe,x.key,x.boundingBox,x.xStep,x.yStep,pe).id),re("q"),re("/Pattern cs"),re("/"+te+" scn"),oe.gState&&h.setGState(oe.gState),re(O),re("Q")}},t1=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xc=h.moveTo=function(x,O){return re(R(T(x))+" "+R(A(O))+" m"),this},Go=h.lineTo=function(x,O){return re(R(T(x))+" "+R(A(O))+" l"),this},Ma=h.curveTo=function(x,O,te,oe,pe,_e){return re([R(T(x)),R(A(O)),R(T(te)),R(A(oe)),R(T(pe)),R(A(_e)),"c"].join(" ")),this};h.__private__.line=h.line=function(x,O,te,oe,pe){if(isNaN(x)||isNaN(O)||isNaN(te)||isNaN(oe)||!ws(pe))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[te-x,oe-O]],x,O,[1,1],pe||"S"):this.lines([[te-x,oe-O]],x,O,[1,1]).stroke()},h.__private__.lines=h.lines=function(x,O,te,oe,pe,_e){var Pe,Ve,et,yt,mt,It,ln,gn,Ln,ar,Un,Ui;if(typeof x=="number"&&(Ui=te,te=O,O=x,x=Ui),oe=oe||[1,1],_e=_e||!1,isNaN(O)||isNaN(te)||!Array.isArray(x)||!Array.isArray(oe)||!ws(pe)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xc(O,te),Pe=oe[0],Ve=oe[1],yt=x.length,ar=O,Un=te,et=0;et<yt;et++)(mt=x[et]).length===2?(ar=mt[0]*Pe+ar,Un=mt[1]*Ve+Un,Go(ar,Un)):(It=mt[0]*Pe+ar,ln=mt[1]*Ve+Un,gn=mt[2]*Pe+ar,Ln=mt[3]*Ve+Un,ar=mt[4]*Pe+ar,Un=mt[5]*Ve+Un,Ma(It,ln,gn,Ln,ar,Un));return _e&&Hh(),Yc(pe),this},h.path=function(x){for(var O=0;O<x.length;O++){var te=x[O],oe=te.c;switch(te.op){case"m":Xc(oe[0],oe[1]);break;case"l":Go(oe[0],oe[1]);break;case"c":Ma.apply(this,oe);break;case"h":Hh()}}return this},h.__private__.rect=h.rect=function(x,O,te,oe,pe){if(isNaN(x)||isNaN(O)||isNaN(te)||isNaN(oe)||!ws(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(oe=-oe),re([R(T(x)),R(A(O)),R(T(te)),R(T(oe)),"re"].join(" ")),Yc(pe),this},h.__private__.triangle=h.triangle=function(x,O,te,oe,pe,_e,Pe){if(isNaN(x)||isNaN(O)||isNaN(te)||isNaN(oe)||isNaN(pe)||isNaN(_e)||!ws(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-x,oe-O],[pe-te,_e-oe],[x-pe,O-_e]],x,O,[1,1],Pe,!0),this},h.__private__.roundedRect=h.roundedRect=function(x,O,te,oe,pe,_e,Pe){if(isNaN(x)||isNaN(O)||isNaN(te)||isNaN(oe)||isNaN(pe)||isNaN(_e)||!ws(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ve=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*te),_e=Math.min(_e,.5*oe),this.lines([[te-2*pe,0],[pe*Ve,0,pe,_e-_e*Ve,pe,_e],[0,oe-2*_e],[0,_e*Ve,-pe*Ve,_e,-pe,_e],[2*pe-te,0],[-pe*Ve,0,-pe,-_e*Ve,-pe,-_e],[0,2*_e-oe],[0,-_e*Ve,pe*Ve,-_e,pe,-_e]],x+pe,O,[1,1],Pe,!0),this},h.__private__.ellipse=h.ellipse=function(x,O,te,oe,pe){if(isNaN(x)||isNaN(O)||isNaN(te)||isNaN(oe)||!ws(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*te,Pe=4/3*(Math.SQRT2-1)*oe;return Xc(x+te,O),Ma(x+te,O-Pe,x+_e,O-oe,x,O-oe),Ma(x-_e,O-oe,x-te,O-Pe,x-te,O),Ma(x-te,O+Pe,x-_e,O+oe,x,O+oe),Ma(x+_e,O+oe,x+te,O+Pe,x+te,O),Yc(pe),this},h.__private__.circle=h.circle=function(x,O,te,oe){if(isNaN(x)||isNaN(O)||isNaN(te)||!ws(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,O,te,te,oe)},h.setFont=function(x,O,te){return te&&(O=D(O,te)),dt=zh(x,O,{disableWarning:!1}),this};var n1=h.__private__.getFont=h.getFont=function(){return Lt[zh.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var x,O,te={};for(x in Rt)if(Rt.hasOwnProperty(x))for(O in te[x]=[],Rt[x])Rt[x].hasOwnProperty(O)&&te[x].push(O);return te},h.addFont=function(x,O,te,oe,pe){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&(te=D(te,oe)),pe=pe||"Identity-H",Gc.call(this,x,O,te,pe)};var Ko,Jc=e.lineWidth||.200025,Xl=h.__private__.getLineWidth=h.getLineWidth=function(){return Jc},Wh=h.__private__.setLineWidth=h.setLineWidth=function(x){return Jc=x,re(R(T(x))+" w"),this};h.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(x,O){if(x=x||[],O=O||0,isNaN(O)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(te){return R(T(te))}).join(" "),O=R(T(O)),re("["+x+"] "+O+" d"),this};var Gh=h.__private__.getLineHeight=h.getLineHeight=function(){return qe*Ko};h.__private__.getLineHeight=h.getLineHeight=function(){return qe*Ko};var Kh=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ko=x),this},Zh=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Ko};Kh(e.lineHeight);var _s=h.__private__.getHorizontalCoordinate=function(x){return T(x)},Ys=h.__private__.getVerticalCoordinate=function(x){return S===b.ADVANCED?x:ft[H].mediaBox.topRightY-ft[H].mediaBox.bottomLeftY-T(x)},r1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(x){return R(_s(x))},Fa=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(x){return R(Ys(x))},$i=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Lr($i)},h.__private__.setStrokeColor=h.setDrawColor=function(x,O,te,oe){return $i=Xr({ch1:x,ch2:O,ch3:te,ch4:oe,pdfColorType:"draw",precision:2}),re($i),this};var Qc=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Lr(Qc)},h.__private__.setFillColor=h.setFillColor=function(x,O,te,oe){return Qc=Xr({ch1:x,ch2:O,ch3:te,ch4:oe,pdfColorType:"fill",precision:2}),re(Qc),this};var Zo=e.textColor||"0 g",i1=h.__private__.getTextColor=h.getTextColor=function(){return Lr(Zo)};h.__private__.setTextColor=h.setTextColor=function(x,O,te,oe){return Zo=Xr({ch1:x,ch2:O,ch3:te,ch4:oe,pdfColorType:"text",precision:3}),this};var Jl=e.charSpace,s1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Jl||0)};h.__private__.setCharSpace=h.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jl=x,this};var ed=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(x){var O=h.CapJoinStyles[x];if(O===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ed=O,re(O+" J"),this};var td=0;h.__private__.setLineJoin=h.setLineJoin=function(x){var O=h.CapJoinStyles[x];if(O===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return td=O,re(O+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(R(T(x))+" M"),this},h.GState=ug,h.setGState=function(x){(x=typeof x=="string"?Gt[br[x]]:Yh(null,x)).equals(vi)||(re("/"+x.id+" gs"),vi=x)};var Yh=function(x,O){if(!x||!br[x]){var te=!1;for(var oe in Gt)if(Gt.hasOwnProperty(oe)&&Gt[oe].equals(O)){te=!0;break}if(te)O=Gt[oe];else{var pe="GS"+(Object.keys(Gt).length+1).toString(10);Gt[pe]=O,O.id=pe}return x&&(br[x]=O.id),Ft.publish("addGState",O),O}};h.addGState=function(x,O){return Yh(x,O),this},h.saveGraphicsState=function(){return re("q"),_n.push({key:dt,size:qe,color:Zo}),this},h.restoreGraphicsState=function(){re("Q");var x=_n.pop();return dt=x.key,qe=x.size,Zo=x.color,vi=null,this},h.setCurrentTransformationMatrix=function(x){return re(x.toString()+" cm"),this},h.comment=function(x){return re("#"+x),this};var Ql=function(x,O){var te=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(_e){isNaN(_e)||(te=parseFloat(_e))}});var oe=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(_e){isNaN(_e)||(oe=parseFloat(_e))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(_e){pe=_e.toString()}}),this},nd=function(x,O,te,oe){Ql.call(this,x,O),this.type="rect";var pe=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Pe){isNaN(Pe)||(pe=parseFloat(Pe))}});var _e=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(Pe){isNaN(Pe)||(_e=parseFloat(Pe))}}),this},rd=function(){this.page=zt,this.currentPage=H,this.pages=Ae.slice(0),this.pagesContext=ft.slice(0),this.x=qt,this.y=st,this.matrix=Yt,this.width=Yo(H),this.height=qa(H),this.outputDestination=Fe,this.id="",this.objectNumber=-1};rd.prototype.restore=function(){zt=this.page,H=this.currentPage,ft=this.pagesContext,Ae=this.pages,qt=this.x,st=this.y,Yt=this.matrix,id(H,this.width),sd(H,this.height),Fe=this.outputDestination};var Xh=function(x,O,te,oe,pe){bi.push(new rd),zt=H=0,Ae=[],qt=x,st=O,Yt=pe,Kc([te,oe])},a1=function(x){if(yi[x])bi.pop().restore();else{var O=new rd,te="Xo"+(Object.keys(Fn).length+1).toString(10);O.id=te,yi[x]=te,Fn[te]=O,Ft.publish("addFormObject",O),bi.pop().restore()}};for(var eu in h.beginFormObject=function(x,O,te,oe,pe){return Xh(x,O,te,oe,pe),this},h.endFormObject=function(x){return a1(x),this},h.doFormObject=function(x,O){var te=Fn[yi[x]];return re("q"),re(O.toString()+" cm"),re("/"+te.id+" Do"),re("Q"),this},h.getFormObject=function(x){var O=Fn[yi[x]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},h.save=function(x,O){return x=x||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(sl(Kl(Zs()),x),typeof sl.unload=="function"&&ot.setTimeout&&setTimeout(sl.unload,911),this):new Promise(function(te,oe){try{var pe=sl(Kl(Zs()),x);typeof sl.unload=="function"&&ot.setTimeout&&setTimeout(sl.unload,911),te(pe)}catch(_e){oe(_e.message)}})},at.API)at.API.hasOwnProperty(eu)&&(eu==="events"&&at.API.events.length?function(x,O){var te,oe,pe;for(pe=O.length-1;pe!==-1;pe--)te=O[pe][0],oe=O[pe][1],x.subscribe.apply(x,[te].concat(typeof oe=="function"?[oe]:oe))}(Ft,at.API.events):h[eu]=at.API[eu]);var Yo=h.getPageWidth=function(x){return(ft[x=x||H].mediaBox.topRightX-ft[x].mediaBox.bottomLeftX)/Me},id=h.setPageWidth=function(x,O){ft[x].mediaBox.topRightX=O*Me+ft[x].mediaBox.bottomLeftX},qa=h.getPageHeight=function(x){return(ft[x=x||H].mediaBox.topRightY-ft[x].mediaBox.bottomLeftY)/Me},sd=h.setPageHeight=function(x,O){ft[x].mediaBox.topRightY=O*Me+ft[x].mediaBox.bottomLeftY};return h.internal={pdfEscape:Rr,getStyle:Vh,getFont:n1,getFontSize:Oe,getCharSpace:s1,getTextColor:i1,getLineHeight:Gh,getLineHeightFactor:Zh,getLineWidth:Xl,write:Re,getHorizontalCoordinate:_s,getVerticalCoordinate:Ys,getCoordinateString:r1,getVerticalCoordinateString:Fa,collections:{},newObject:xn,newAdditionalObject:La,newObjectDeferred:mn,newObjectDeferredBegin:wr,getFilters:_i,putStream:Pr,events:Ft,scaleFactor:Me,pageSize:{getWidth:function(){return Yo(H)},setWidth:function(x){id(H,x)},getHeight:function(){return qa(H)},setHeight:function(x){sd(H,x)}},encryptionOptions:c,encryption:sr,getEncryptor:Y0,output:Zl,getNumberOfPages:H0,pages:Ae,out:re,f2:V,f3:j,getPageInfo:Uh,getPageInfoByObjId:ht,getCurrentPageInfo:X0,getPDFVersion:y,Point:Ql,Rectangle:nd,Matrix:rt,hasHotfix:$h},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Yo(H)},set:function(x){id(H,x)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return qa(H)},set:function(x){sd(H,x)},enumerable:!0,configurable:!0}),U0.call(h,Se),dt="F1",Dh(i,n),Ft.publish("initialized"),h}ku.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ku.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ku.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ku.prototype.processOwnerPassword=function(e,t){return q_(F_(t).substr(0,5),e)},ku.prototype.encryptor=function(e,t){var n=F_(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return q_(n,r)}},ug.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Vt(e)!==Vt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},at.API={events:[]},at.version="2.5.2";var yn=at.API,L3=1,Fl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gt=function(e){return e.toFixed(2)},Ja=function(e){return e.toFixed(5)};yn.__acroform__={};var Kr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},YS=function(e){return e*L3},Es=function(e){var t=new IP,n=Ze.internal.getHeight(e)||0,r=Ze.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gt(r)),Number(gt(n))],t},az=yn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},oz=yn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},lz=yn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},An=yn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lz(e,t-1)},Cn=yn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return az(e,t-1)},jn=yn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oz(e,t-1)},uz=yn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(gt(l.lowerLeft_X)),Number(gt(l.lowerLeft_Y)),Number(gt(l.upperRight_X)),Number(gt(l.upperRight_Y))]},cz=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=D_(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+gt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Es(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},D_=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=n,a=Ze.internal.getHeight(e)||0;a=a<0?-a:a;var o=Ze.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(j,T,Z){if(j+1<i.length){var A=T+" "+i[j+1][0];return $p(A,e,Z).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,c,d=$p("3",e,s).height,p=e.multiline?a-s:(a-d)/2,h=p+=2,w=0,y=0,_=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+$p(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",b=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var k=!1;if(i[S].length!==1&&_!==i[S].length-1){if((d+2)*(b+2)+2>a)continue e;m+=i[S][_],k=!0,y=S,S--}else{m=(m+=i[S][_]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var P=parseInt(S),D=l(P,m,s),R=S>=i.length-1;if(D&&!R){m+=" ",_=0;continue}if(D||R){if(R)y=P;else if(e.multiline&&(d+2)*(b+2)+2>a)continue e}else{if(!e.multiline||(d+2)*(b+2)+2>a)continue e;y=P}}for(var L="",$=w;$<=y;$++){var V=i[$];if(e.multiline){if($===y){L+=V[_]+" ",_=(_+1)%V.length;continue}if($===w){L+=V[V.length-1]+" ";continue}}L+=V[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,c=$p(L,e,s).width,e.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;case"left":default:u=2}t+=gt(u)+" "+gt(h)+` Td
`,t+="("+Fl(L)+`) Tj
`,t+=-gt(u)+` 0 Td
`,h=-(s+2),c=0,w=k?y:y+1,b++,m=""}break}return r.text=t,r.fontSize=s,r},$p=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},dz={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fz=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},hz=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Vt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},pz=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(fs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(dz)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new TP,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&fz(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=uz(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ze.createDefaultAppearanceStream(o),Vt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=cz(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var w=h[a];typeof w=="function"&&(w=w.call(i,o)),d+="/"+a+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=h)=="function"&&(w=w.call(i,o)),d+="/"+a+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&hz(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},RP=yn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Vt(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Fl(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sv=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Fl(r(e))+")"},Rs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rs.prototype.toString=function(){return this.objId+" 0 R"},Rs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Rs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:RP(i,this.objId,this.scope)}):i instanceof Rs?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var IP=function(){Rs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Kr(IP,Rs);var TP=function(){Rs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Fl(n(e))+")"}},set:function(n){e=n}})};Kr(TP,Rs);var fs=function e(){Rs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!An(t,3)},set:function(m){m?this.F=Cn(t,3):this.F=jn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof cg)return;s="FieldObject"+e.FieldNum++}var m=function(b){return b};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Fl(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/L3:u},set:function(m){u=m}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof cg||this instanceof bl))return sv(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=m}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Kn?p:sv(p,this.objId,this.scope)},set:function(m){m=m.toString(),p=this instanceof Kn?m:m.substr(0,1)==="("?gu(m.substr(1,m.length-2)):gu(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kn?gu(p.substr(1,p.length-1)):p},set:function(m){m=m.toString(),p=this instanceof Kn?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Kn?h:sv(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=this instanceof Kn?m:m.substr(0,1)==="("?gu(m.substr(1,m.length-2)):gu(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kn?gu(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Kn?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(m){m=!!m,y=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(m){w=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,1)},set:function(m){m?this.Ff=Cn(this.Ff,1):this.Ff=jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,2)},set:function(m){m?this.Ff=Cn(this.Ff,2):this.Ff=jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,3)},set:function(m){m?this.Ff=Cn(this.Ff,3):this.Ff=jn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');_=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(_){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Kr(fs,Rs);var ec=function(){fs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RP(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,18)},set:function(n){n?this.Ff=Cn(this.Ff,18):this.Ff=jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Cn(this.Ff,19):this.Ff=jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,20)},set:function(n){n?(this.Ff=Cn(this.Ff,20),t.sort()):this.Ff=jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,22)},set:function(n){n?this.Ff=Cn(this.Ff,22):this.Ff=jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,23)},set:function(n){n?this.Ff=Cn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,27)},set:function(n){n?this.Ff=Cn(this.Ff,27):this.Ff=jn(this.Ff,27)}}),this.hasAppearanceStream=!1};Kr(ec,fs);var tc=function(){ec.call(this),this.fontName="helvetica",this.combo=!1};Kr(tc,ec);var nc=function(){tc.call(this),this.combo=!0};Kr(nc,tc);var _m=function(){nc.call(this),this.edit=!0};Kr(_m,nc);var Kn=function(){fs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,15)},set:function(n){n?this.Ff=Cn(this.Ff,15):this.Ff=jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,16)},set:function(n){n?this.Ff=Cn(this.Ff,16):this.Ff=jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,17)},set:function(n){n?this.Ff=Cn(this.Ff,17):this.Ff=jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,26)},set:function(n){n?this.Ff=Cn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Fl(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Vt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Kr(Kn,fs);var xm=function(){Kn.call(this),this.pushButton=!0};Kr(xm,Kn);var rc=function(){Kn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Kr(rc,Kn);var cg=function(){var e,t;fs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Fl(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Vt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kr(cg,fs),rc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},rc.prototype.createOption=function(e){var t=new cg;return t.Parent=this,t.optionName=e,this.Kids.push(t),mz.call(this.scope,t),t};var Nm=function(){Kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};Kr(Nm,Kn);var bl=function(){fs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,13)},set:function(t){t?this.Ff=Cn(this.Ff,13):this.Ff=jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,21)},set:function(t){t?this.Ff=Cn(this.Ff,21):this.Ff=jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,23)},set:function(t){t?this.Ff=Cn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,24)},set:function(t){t?this.Ff=Cn(this.Ff,24):this.Ff=jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,25)},set:function(t){t?this.Ff=Cn(this.Ff,25):this.Ff=jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,26)},set:function(t){t?this.Ff=Cn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kr(bl,fs);var Sm=function(){bl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,14)},set:function(e){e?this.Ff=Cn(this.Ff,14):this.Ff=jn(this.Ff,14)}}),this.password=!0};Kr(Sm,bl);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Es(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=D_(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+gt(Ze.internal.getWidth(e))+" "+gt(Ze.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Es(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ze.internal.getHeight(e),a=Ze.internal.getWidth(e),o=D_(e,e.caption);return i.push("1 g"),i.push("0 0 "+gt(a)+" "+gt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+gt(a-1)+" "+gt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+gt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Es(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ze.internal.getWidth(e))+" "+gt(Ze.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Circle.YesNormal,t.D[e]=Ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Es(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(e)/2)+" "+Ja(Ze.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Es(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5)),a=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(e)/2)+" "+Ja(Ze.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(e)/2)+" "+Ja(Ze.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Es(e);t.scope=e.scope;var n=[],r=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ja(Ze.internal.getWidth(e)/2)+" "+Ja(Ze.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Cross.YesNormal,t.D[e]=Ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Es(e);t.scope=e.scope;var n=[],r=Ze.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+gt(Ze.internal.getWidth(e)-2)+" "+gt(Ze.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gt(r.x1.x)+" "+gt(r.x1.y)+" m"),n.push(gt(r.x2.x)+" "+gt(r.x2.y)+" l"),n.push(gt(r.x4.x)+" "+gt(r.x4.y)+" m"),n.push(gt(r.x3.x)+" "+gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Es(e);t.scope=e.scope;var n=Ze.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+gt(Ze.internal.getWidth(e))+" "+gt(Ze.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gt(Ze.internal.getWidth(e)-2)+" "+gt(Ze.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(gt(n.x1.x)+" "+gt(n.x1.y)+" m"),r.push(gt(n.x2.x)+" "+gt(n.x2.y)+" l"),r.push(gt(n.x4.x)+" "+gt(n.x4.y)+" m"),r.push(gt(n.x3.x)+" "+gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Es(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Ze.internal.getWidth(e))+" "+gt(Ze.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ze.internal.getWidth(e),n=Ze.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(e){var t=0;return Vt(e)==="object"&&(t=YS(e.Rect[2])),t},Ze.internal.getHeight=function(e){var t=0;return Vt(e)==="object"&&(t=YS(e.Rect[3])),t};var mz=yn.addField=function(e){if(pz(this,e),!(e instanceof fs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};yn.AcroFormChoiceField=ec,yn.AcroFormListBox=tc,yn.AcroFormComboBox=nc,yn.AcroFormEditBox=_m,yn.AcroFormButton=Kn,yn.AcroFormPushButton=xm,yn.AcroFormRadioButton=rc,yn.AcroFormCheckBox=Nm,yn.AcroFormTextField=bl,yn.AcroFormPasswordField=Sm,yn.AcroFormAppearance=Ze,yn.AcroForm={ChoiceField:ec,ListBox:tc,ComboBox:nc,EditBox:_m,Button:Kn,PushButton:xm,RadioButton:rc,CheckBox:Nm,TextField:bl,PasswordField:Sm,Appearance:Ze},at.AcroForm={ChoiceField:ec,ListBox:tc,ComboBox:nc,EditBox:_m,Button:Kn,PushButton:xm,RadioButton:rc,CheckBox:Nm,TextField:bl,PasswordField:Sm,Appearance:Ze};function OP(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(j,T){var Z,A,U,M,X,F=t;if((T=T||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(D(j))for(X in n)for(U=n[X],Z=0;Z<U.length;Z+=1){for(M=!0,A=0;A<U[Z].length;A+=1)if(U[Z][A]!==void 0&&U[Z][A]!==j[A]){M=!1;break}if(M===!0){F=X;break}}else for(X in n)for(U=n[X],Z=0;Z<U.length;Z+=1){for(M=!0,A=0;A<U[Z].length;A+=1)if(U[Z][A]!==void 0&&U[Z][A]!==j.charCodeAt(A)){M=!1;break}if(M===!0){F=X;break}}return F===t&&T!==t&&(F=T),F},i=function j(T){for(var Z=this.internal.write,A=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var M=[];if(M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Image"}),M.push({key:"Width",value:T.width}),M.push({key:"Height",value:T.height}),T.colorSpace===_.INDEXED?M.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(M.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===_.DEVICE_CMYK&&M.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),M.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&M.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var X="",F=0,q=T.transparency.length;F<q;F++)X+=T.transparency[F]+" "+T.transparency[F]+" ";M.push({key:"Mask",value:"["+X+"]"})}T.sMask!==void 0&&M.push({key:"SMask",value:T.objectId+1+" 0 R"});var J=T.filter!==void 0?["/"+T.filter]:void 0;if(A({data:T.data,additionalKeyValues:M,alreadyAppliedFilters:J,objectId:T.objectId}),Z("endobj"),"sMask"in T&&T.sMask!==void 0){var ie="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,C={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ie,data:T.sMask};"filter"in T&&(C.filter=T.filter),j.call(this,C)}if(T.colorSpace===_.INDEXED){var H=this.internal.newObject();A({data:L(new Uint8Array(T.palette)),objectId:H}),Z("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var T in j)i.call(this,j[T])},a=function(){var j,T=this.internal.collections.addImage_images,Z=this.internal.write;for(var A in T)Z("/I"+(j=T[A]).index,j.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var j=this.internal.collections.addImage_images;return o.call(this),j},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(j){return typeof e["process"+j.toUpperCase()]=="function"},d=function(j){return Vt(j)==="object"&&j.nodeType===1},p=function(j,T){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var Z=""+j.getAttribute("src");if(Z.indexOf("data:image/")===0)return vf(unescape(Z).split("base64,").pop());var A=e.loadFile(Z,!0);if(A!==void 0)return A}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var U;switch(T){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return vf(j.toDataURL(U,1).split("base64,").pop())}},h=function(j){var T=this.internal.collections.addImage_images;if(T){for(var Z in T)if(j===T[Z].alias)return T[Z]}},w=function(j,T,Z){return j||T||(j=-96,T=-96),j<0&&(j=-1*Z.width*72/j/this.internal.scaleFactor),T<0&&(T=-1*Z.height*72/T/this.internal.scaleFactor),j===0&&(j=T*Z.width/Z.height),T===0&&(T=j*Z.height/Z.width),[j,T]},y=function(j,T,Z,A,U,M){var X=w.call(this,Z,A,U),F=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,J=l.call(this);if(Z=X[0],A=X[1],J[U.index]=U,M){M*=Math.PI/180;var ie=Math.cos(M),C=Math.sin(M),H=function(Q){return Q.toFixed(4)},K=[H(ie),H(C),H(-1*C),H(ie),0,0,"cm"]}this.internal.write("q"),M?(this.internal.write([1,"0","0",1,F(j),q(T+A),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([F(Z),"0","0",F(A),"0","0","cm"].join(" "))):this.internal.write([F(Z),"0","0",F(A),F(j),q(T+A),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},_=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(j){var T,Z,A=0;if(typeof j=="string")for(Z=j.length,T=0;T<Z;T++)A=(A<<5)-A+j.charCodeAt(T),A|=0;else if(D(j))for(Z=j.byteLength/2,T=0;T<Z;T++)A=(A<<5)-A+j[T],A|=0;return A},S=e.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var T=!0;return j.length===0&&(T=!1),j.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(T=!1),T},k=e.__addimage__.extractImageFromDataUrl=function(j){var T=(j=j||"").split("base64,"),Z=null;if(T.length===2){var A=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(A)&&(Z={mimeType:A[1],charset:A[2],data:T[1]})}return Z},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(j){return P()&&j instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(j){return P()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},R=e.__addimage__.binaryStringToUint8Array=function(j){for(var T=j.length,Z=new Uint8Array(T),A=0;A<T;A++)Z[A]=j.charCodeAt(A);return Z},L=e.__addimage__.arrayBufferToBinaryString=function(j){for(var T="",Z=D(j)?j:new Uint8Array(j),A=0;A<Z.length;A+=8192)T+=String.fromCharCode.apply(null,Z.subarray(A,A+8192));return T};e.addImage=function(){var j,T,Z,A,U,M,X,F,q;if(typeof arguments[1]=="number"?(T=t,Z=arguments[1],A=arguments[2],U=arguments[3],M=arguments[4],X=arguments[5],F=arguments[6],q=arguments[7]):(T=arguments[1],Z=arguments[2],A=arguments[3],U=arguments[4],M=arguments[5],X=arguments[6],F=arguments[7],q=arguments[8]),Vt(j=arguments[0])==="object"&&!d(j)&&"imageData"in j){var J=j;j=J.imageData,T=J.format||T||t,Z=J.x||Z||0,A=J.y||A||0,U=J.w||J.width||U,M=J.h||J.height||M,X=J.alias||X,F=J.compression||F,q=J.rotation||J.angle||q}var ie=this.internal.getFilters();if(F===void 0&&ie.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(Z)||isNaN(A))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=$.call(this,j,T,X,F);return y.call(this,Z,A,U,M,C,q),this};var $=function(j,T,Z,A){var U,M,X;if(typeof j=="string"&&r(j)===t){j=unescape(j);var F=V(j,!1);(F!==""||(F=e.loadFile(j,!0))!==void 0)&&(j=F)}if(d(j)&&(j=p(j,T)),T=r(j,T),!c(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((X=Z)==null||X.length===0)&&(Z=function(q){return typeof q=="string"||D(q)?b(q):D(q.data)?b(q.data):null}(j)),(U=h.call(this,Z))||(P()&&(j instanceof Uint8Array||T==="RGBA"||(M=j,j=R(j))),U=this["process"+T.toUpperCase()](j,u.call(this),Z,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:m.NONE}(A),M)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},V=e.__addimage__.convertBase64ToBinaryString=function(j,T){var Z;T=typeof T!="boolean"||T;var A,U="";if(typeof j=="string"){A=(Z=k(j))!==null?Z.data:j;try{U=vf(A)}catch(M){if(T)throw S(A)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+M.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(j){var T,Z,A="";if(d(j)&&(j=p(j)),typeof j=="string"&&r(j)===t&&((A=V(j,!1))===""&&(A=e.loadFile(j)||""),j=A),Z=r(j),!c(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(!P()||j instanceof Uint8Array||(j=R(j)),!(T=this["process"+Z.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=Z,T}})(at.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var h=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(y.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(m(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(m(b))+") >>",y.content=s;var S=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(y.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(w(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:a,type:"link"})},e.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(n,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&t[y.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(y){var _=0,m=n,b="",S=0;for(_=0;_<y.length;_+=1)m[y.charCodeAt(_)]!==void 0?(S++,typeof(m=m[y.charCodeAt(_)])=="number"&&(b+=String.fromCharCode(m),m=n,S=0),_===y.length-1&&(m=n,b+=y.charAt(_-(S-1)),_-=S-1,S=0)):(m=n,b+=y.charAt(_-S),_-=S,S=0);return b};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,_,m){return a(y)?s(y)===!1?-1:!u(y)||!a(_)&&!a(m)||!a(m)&&o(_)||o(y)&&!a(_)||o(y)&&l(_)||o(y)&&o(_)?0:c(y)&&a(_)&&!o(_)&&a(m)&&u(m)?3:o(y)||!a(m)?1:2:-1},h=function(y){var _=0,m=0,b=0,S="",k="",P="",D=(y=y||"").split("\\s+"),R=[];for(_=0;_<D.length;_+=1){for(R.push(""),m=0;m<D[_].length;m+=1)S=D[_][m],k=D[_][m-1],P=D[_][m+1],a(S)?(b=p(S,k,P),R[_]+=b!==-1?String.fromCharCode(t[S.charCodeAt(0)][b]):S):R[_]+=S;R[_]=d(R[_])}return R.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var y,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(_)){var b=0;for(m=[],b=0;b<_.length;b+=1)Array.isArray(_[b])?m.push([h(_[b][0]),_[b][1],_[b][2]]):m.push([h(_[b])]);y=m}else y=h(_);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",w])}(at.API),at.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(at.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,w=0,y=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=u.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,k){return S.concat(_.splitTextToSize(k,m))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(y=this.getStringUnitWidth(l[b],{font:d})*c)&&(h=y);return h!==0&&(w=l.length),{w:h/=p,h:Math.max((w*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,d,p){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,w,y,_,m=[],b=[],S=[],k={},P={},D=[],R=[],L=(p=p||{}).autoSize||!1,$=p.printHeaders!==!1,V=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,j=p.margins||Object.assign({width:this.getPageWidth()},t),T=typeof p.padding=="number"?p.padding:3,Z=p.headerBackgroundColor||"#c8c8c8",A=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=A,this.setFontSize(V),d==null)b=m=Object.keys(c[0]),S=m.map(function(){return"left"});else if(Array.isArray(d)&&Vt(d[0])==="object")for(m=d.map(function(J){return J.name}),b=d.map(function(J){return J.prompt||J.name||""}),S=d.map(function(J){return J.align||"left"}),h=0;h<d.length;h+=1)P[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=m=d,S=m.map(function(){return"left"}));if(L||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<m.length;h+=1){for(k[_=m[h]]=c.map(function(J){return J[_]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=k[_],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)D.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[_]=Math.max.apply(null,D)+T+T,D=[]}if($){var U={};for(h=0;h<m.length;h+=1)U[m[h]]={},U[m[h]].text=b[h],U[m[h]].align=S[h];var M=o.call(this,U,P);R=m.map(function(J){return new s(l,u,P[J],M,U[J].text,void 0,U[J].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var X=d.reduce(function(J,ie){return J[ie.name]=ie.align,J},{});for(h=0;h<c.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:c[h]},this);var F=o.call(this,c[h],P);for(y=0;y<m.length;y+=1){var q=c[h][m[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:y,data:q},this),a.call(this,new s(l,u,P[m[y]],F,q,h+2,X[m[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var w=l[h];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/p+c+c},this).reduce(function(h,w){return Math.max(h,w)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(at.API);var MP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],B_=OP(FP),qP=[100,200,300,400,500,600,700,800,900],gz=OP(qP);function z_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return MP[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof B_[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function XS(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var vz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},JS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yz(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},vz,n.genericFontFamilies||{}),s=null,a=null,o=0;o<t.length;++o)if(i[(s=z_(t[o])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+QS(s)+"' and default family '"+r+"'.");if(a=function(l,u){if(u[l])return u[l];var c=B_[l],d=c<=B_.normal?-1:1,p=XS(u,FP,c,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var c=MP[l],d=0;d<c.length;++d)if(u[c[d]])return u[c[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=gz[l],d=XS(u,qP,c,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+QS(s)+"'.");return a}function ek(e){return e.trimLeft()}function bz(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function wz(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Up,tk,nk,av=["times"];(function(e){var t,n,r,i,s,a,o,l,u,c=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=C;Object.defineProperty(this,"pdf",{get:function(){return H}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(he){K=!!he}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(he){Q=!!he}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(he){isNaN(he)||(ne=he)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(he){isNaN(he)||(ae=he)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(he){var re;typeof he=="number"?re=[he,he,he,he]:((re=new Array(4))[0]=he[0],re[1]=he.length>=2?he[1]:re[0],re[2]=he.length>=3?he[2]:re[0],re[3]=he.length>=4?he[3]:re[1]),u.margin=re}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(he){se=he}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(he){ce=he}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(he){ye=he}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(he){he instanceof c&&(u=he)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(he){u.path=he}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(he){Ae=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var re;re=p(he),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var re=p(he);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var je=null;function Fe(he,re){if(je===null){var Re=function(xe){var Se=[];return Object.keys(xe).forEach(function(qe){xe[qe].forEach(function(De){var Oe=null;switch(De){case"bold":Oe={family:qe,weight:"bold"};break;case"italic":Oe={family:qe,style:"italic"};break;case"bolditalic":Oe={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:qe}}Oe!==null&&(Oe.ref={name:qe,style:De},Se.push(Oe))})}),Se}(he.getFontList());je=function(xe){for(var Se={},qe=0;qe<xe.length;++qe){var De=z_(xe[qe]),Oe=De.family,ze=De.stretch,Ye=De.style,nt=De.weight;Se[Oe]=Se[Oe]||{},Se[Oe][ze]=Se[Oe][ze]||{},Se[Oe][ze][Ye]=Se[Oe][ze][Ye]||{},Se[Oe][ze][Ye][nt]=De}return Se}(Re.concat(re))}return je}var Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(he){je=null,Ke=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var re;if(this.ctx.font=he,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Re=re[1],xe=(re[2],re[3]),Se=re[4],qe=(re[5],re[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(De==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Oe=function(Xe){var dt,Me,qt=[],st=Xe.trim();if(st==="")return av;if(st in JS)return[JS[st]];for(;st!=="";){switch(Me=null,dt=(st=ek(st)).charAt(0)){case'"':case"'":Me=bz(st.substring(1),dt);break;default:Me=wz(st)}if(Me===null||(qt.push(Me[0]),(st=ek(Me[1]))!==""&&st.charAt(0)!==","))return av;st=st.replace(/^,/,"")}return qt}(qe);if(this.fontFaces){var ze=yz(Fe(this.pdf,this.fontFaces),Oe.map(function(Xe){return{family:Xe,stretch:"normal",weight:xe,style:Re}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var Ye="";(xe==="bold"||parseInt(xe,10)>=700||Re==="bold")&&(Ye="bold"),Re==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var nt="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Oe.length;pt++){if(this.pdf.internal.getFont(Oe[pt],Ye,{noFallback:!0,disableWarning:!0})!==void 0){nt=Oe[pt];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(Oe[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Oe[pt],Ye="bold";else if(this.pdf.internal.getFont(Oe[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Oe[pt],Ye="normal";break}}if(nt===""){for(var bt=0;bt<Oe.length;bt++)if(ut[Oe[bt]]){nt=ut[Oe[bt]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};d.prototype.setLineDash=function(C){this.lineDash=C},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){k.call(this,"fill",!1)},d.prototype.stroke=function(){k.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(C,H){if(isNaN(C)||isNaN(H))throw Jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new a(C,H));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(C,H)},d.prototype.closePath=function(){var C=new a(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Vt(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){C=new a(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},d.prototype.lineTo=function(C,H){if(isNaN(C)||isNaN(H))throw Jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new a(C,H));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(K.x,K.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},d.prototype.quadraticCurveTo=function(C,H,K,Q){if(isNaN(K)||isNaN(Q)||isNaN(C)||isNaN(H))throw Jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(K,Q)),ae=this.ctx.transform.applyToPoint(new a(C,H));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},d.prototype.bezierCurveTo=function(C,H,K,Q,ne,ae){if(isNaN(ne)||isNaN(ae)||isNaN(C)||isNaN(H)||isNaN(K)||isNaN(Q))throw Jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new a(ne,ae)),ce=this.ctx.transform.applyToPoint(new a(C,H)),ye=this.ctx.transform.applyToPoint(new a(K,Q));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:ye.x,y2:ye.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},d.prototype.arc=function(C,H,K,Q,ne,ae){if(isNaN(C)||isNaN(H)||isNaN(K)||isNaN(Q)||isNaN(ne))throw Jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new a(C,H));C=se.x,H=se.y;var ce=this.ctx.transform.applyToPoint(new a(0,K)),ye=this.ctx.transform.applyToPoint(new a(0,0));K=Math.sqrt(Math.pow(ce.x-ye.x,2)+Math.pow(ce.y-ye.y,2))}Math.abs(ne-Q)>=2*Math.PI&&(Q=0,ne=2*Math.PI),this.path.push({type:"arc",x:C,y:H,radius:K,startAngle:Q,endAngle:ne,counterclockwise:ae})},d.prototype.arcTo=function(C,H,K,Q,ne){throw new Error("arcTo not implemented.")},d.prototype.rect=function(C,H,K,Q){if(isNaN(C)||isNaN(H)||isNaN(K)||isNaN(Q))throw Jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,H),this.lineTo(C+K,H),this.lineTo(C+K,H+Q),this.lineTo(C,H+Q),this.lineTo(C,H),this.lineTo(C+K,H),this.lineTo(C,H)},d.prototype.fillRect=function(C,H,K,Q){if(isNaN(C)||isNaN(H)||isNaN(K)||isNaN(Q))throw Jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,H,K,Q),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},d.prototype.strokeRect=function(C,H,K,Q){if(isNaN(C)||isNaN(H)||isNaN(K)||isNaN(Q))throw Jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(C,H,K,Q),this.stroke())},d.prototype.clearRect=function(C,H,K,Q){if(isNaN(C)||isNaN(H)||isNaN(K)||isNaN(Q))throw Jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,H,K,Q))},d.prototype.save=function(C){C=typeof C!="boolean"||C;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},d.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(H),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(C){var H,K,Q,ne;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))H=0,K=0,Q=0,ne=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ae!==null)H=parseInt(ae[1]),K=parseInt(ae[2]),Q=parseInt(ae[3]),ne=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)H=parseInt(ae[1]),K=parseInt(ae[2]),Q=parseInt(ae[3]),ne=parseFloat(ae[4]);else{if(ne=1,typeof C=="string"&&C.charAt(0)!=="#"){var se=new jP(C);C=se.ok?se.toHex():"#000000"}C.length===4?(H=C.substring(1,2),H+=H,K=C.substring(2,3),K+=K,Q=C.substring(3,4),Q+=Q):(H=C.substring(1,3),K=C.substring(3,5),Q=C.substring(5,7)),H=parseInt(H,16),K=parseInt(K,16),Q=parseInt(Q,16)}}return{r:H,g:K,b:Q,a:ne,style:C}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(C,H,K,Q){if(isNaN(H)||isNaN(K)||typeof C!="string")throw Jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!h.call(this)){var ne=F(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:C,x:H,y:K,scale:ae,angle:ne,align:this.textAlign,maxWidth:Q})}},d.prototype.strokeText=function(C,H,K,Q){if(isNaN(H)||isNaN(K)||typeof C!="string")throw Jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){Q=isNaN(Q)?void 0:Q;var ne=F(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;T.call(this,{text:C,x:H,y:K,scale:ae,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Q})}},d.prototype.measureText=function(C){if(typeof C!="string")throw Jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,K=this.pdf.internal.scaleFactor,Q=H.internal.getFontSize(),ne=H.getStringUnitWidth(C)*Q/H.internal.scaleFactor,ae=function(se){var ce=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new ae({width:ne*=Math.round(96*K/72*1e4)/1e4})},d.prototype.scale=function(C,H){if(isNaN(C)||isNaN(H))throw Jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(C,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.rotate=function(C){if(isNaN(C))throw Jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.translate=function(C,H){if(isNaN(C)||isNaN(H))throw Jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,C,H);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.transform=function(C,H,K,Q,ne,ae){if(isNaN(C)||isNaN(H)||isNaN(K)||isNaN(Q)||isNaN(ne)||isNaN(ae))throw Jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new l(C,H,K,Q,ne,ae);this.ctx.transform=this.ctx.transform.multiply(se)},d.prototype.setTransform=function(C,H,K,Q,ne,ae){C=isNaN(C)?1:C,H=isNaN(H)?0:H,K=isNaN(K)?0:K,Q=isNaN(Q)?1:Q,ne=isNaN(ne)?0:ne,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(C,H,K,Q,ne,ae)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(C,H,K,Q,ne,ae,se,ce,ye){var Ae=this.pdf.getImageProperties(C),je=1,Fe=1,Ke=1,he=1;Q!==void 0&&ce!==void 0&&(Ke=ce/Q,he=ye/ne,je=Ae.width/Q*ce/Q,Fe=Ae.height/ne*ye/ne),ae===void 0&&(ae=H,se=K,H=0,K=0),Q!==void 0&&ce===void 0&&(ce=Q,ye=ne),Q===void 0&&ce===void 0&&(ce=Ae.width,ye=Ae.height);for(var re,Re=this.ctx.transform.decompose(),xe=F(Re.rotate.shx),Se=new l,qe=(Se=(Se=(Se=Se.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new o(ae-H*Ke,se-K*he,Q*je,ne*Fe)),De=_.call(this,qe),Oe=[],ze=0;ze<De.length;ze+=1)Oe.indexOf(De[ze])===-1&&Oe.push(De[ze]);if(S(Oe),this.autoPaging)for(var Ye=Oe[0],nt=Oe[Oe.length-1],ut=Ye;ut<nt+1;ut++){this.pdf.setPage(ut);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=ut===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=ut===1?0:Xe+(ut-2)*dt;if(this.ctx.clip_path.length!==0){var qt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(re,this.posX+this.margin[3],-Me+bt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=qt}var st=JSON.parse(JSON.stringify(qe));st=b([st],this.posX+this.margin[3],-Me+bt+this.ctx.prevPageLastElemOffset)[0];var Yt=(ut>Ye||ut<nt)&&y.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,dt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",st.x,st.y,st.w,st.h,null,null,xe),Yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,xe)};var _=function(C,H,K){var Q=[];H=H||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Q.push(Math.floor((C.y+ne)/K)+1);break;case"arc":Q.push(Math.floor((C.y+ne-C.radius)/K)+1),Q.push(Math.floor((C.y+ne+C.radius)/K)+1);break;case"qct":var ae=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Q.push(Math.floor((ae.y+ne)/K)+1),Q.push(Math.floor((ae.y+ae.h+ne)/K)+1);break;case"bct":var se=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Q.push(Math.floor((se.y+ne)/K)+1),Q.push(Math.floor((se.y+se.h+ne)/K)+1);break;case"rect":Q.push(Math.floor((C.y+ne)/K)+1),Q.push(Math.floor((C.y+C.h+ne)/K)+1)}for(var ce=0;ce<Q.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ce];)m.call(this);return Q},m=function(){var C=this.fillStyle,H=this.strokeStyle,K=this.font,Q=this.lineCap,ne=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=H,this.font=K,this.lineCap=Q,this.lineWidth=ne,this.lineJoin=ae},b=function(C,H,K){for(var Q=0;Q<C.length;Q++)switch(C[Q].type){case"bct":C[Q].x2+=H,C[Q].y2+=K;case"qct":C[Q].x1+=H,C[Q].y1+=K;case"mt":case"lt":case"arc":default:C[Q].x+=H,C[Q].y+=K}return C},S=function(C){return C.sort(function(H,K){return H-K})},k=function(C,H){for(var K,Q,ne=this.fillStyle,ae=this.strokeStyle,se=this.lineCap,ce=this.lineWidth,ye=Math.abs(ce*this.ctx.transform.scaleX),Ae=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Ke=[],he=0;he<Fe.length;he++)if(Fe[he].x!==void 0)for(var re=_.call(this,Fe[he]),Re=0;Re<re.length;Re+=1)Ke.indexOf(re[Re])===-1&&Ke.push(re[Re]);for(var xe=0;xe<Ke.length;xe++)for(;this.pdf.internal.getNumberOfPages()<Ke[xe];)m.call(this);if(S(Ke),this.autoPaging)for(var Se=Ke[0],qe=Ke[Ke.length-1],De=Se;De<qe+1;De++){this.pdf.setPage(De),this.fillStyle=ne,this.strokeStyle=ae,this.lineCap=se,this.lineWidth=ye,this.lineJoin=Ae;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=De===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=De===1?0:Ye+(De-2)*nt;if(this.ctx.clip_path.length!==0){var pt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(K,this.posX+this.margin[3],-ut+ze+this.ctx.prevPageLastElemOffset),P.call(this,C,!0),this.path=pt}if(Q=JSON.parse(JSON.stringify(je)),this.path=b(Q,this.posX+this.margin[3],-ut+ze+this.ctx.prevPageLastElemOffset),H===!1||De===0){var bt=(De>Se||De<qe)&&y.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,nt,null).clip().discardPath()),P.call(this,C,H),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=ye,P.call(this,C,H),this.lineWidth=ce;this.path=je},P=function(C,H){if((C!=="stroke"||H||!w.call(this))&&(C==="stroke"||H||!h.call(this))){for(var K,Q,ne=[],ae=this.path,se=0;se<ae.length;se++){var ce=ae[se];switch(ce.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ce,deltas:[],abs:[]});break;case"lt":var ye=ne.length;if(ae[se-1]&&!isNaN(ae[se-1].x)&&(K=[ce.x-ae[se-1].x,ce.y-ae[se-1].y],ye>0)){for(;ye>=0;ye--)if(ne[ye-1].close!==!0&&ne[ye-1].begin!==!0){ne[ye-1].deltas.push(K),ne[ye-1].abs.push(ce);break}}break;case"bct":K=[ce.x1-ae[se-1].x,ce.y1-ae[se-1].y,ce.x2-ae[se-1].x,ce.y2-ae[se-1].y,ce.x-ae[se-1].x,ce.y-ae[se-1].y],ne[ne.length-1].deltas.push(K);break;case"qct":var Ae=ae[se-1].x+2/3*(ce.x1-ae[se-1].x),je=ae[se-1].y+2/3*(ce.y1-ae[se-1].y),Fe=ce.x+2/3*(ce.x1-ce.x),Ke=ce.y+2/3*(ce.y1-ce.y),he=ce.x,re=ce.y;K=[Ae-ae[se-1].x,je-ae[se-1].y,Fe-ae[se-1].x,Ke-ae[se-1].y,he-ae[se-1].x,re-ae[se-1].y],ne[ne.length-1].deltas.push(K);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ce)}}Q=H?null:C==="stroke"?"stroke":"fill";for(var Re=!1,xe=0;xe<ne.length;xe++)if(ne[xe].arc)for(var Se=ne[xe].abs,qe=0;qe<Se.length;qe++){var De=Se[qe];De.type==="arc"?L.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,H,!Re):Z.call(this,De.x,De.y),Re=!0}else if(ne[xe].close===!0)this.pdf.internal.out("h"),Re=!1;else if(ne[xe].begin!==!0){var Oe=ne[xe].start.x,ze=ne[xe].start.y;A.call(this,ne[xe].deltas,Oe,ze),Re=!0}Q&&$.call(this,Q),H&&V.call(this)}},D=function(C){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-K;case"top":return C+H-K;case"hanging":return C+H-2*K;case"middle":return C+H/2-K;case"ideographic":return C;case"alphabetic":default:return C}},R=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(H,K){this.colorStops.push([H,K])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(C,H,K,Q,ne,ae,se,ce,ye){for(var Ae=M.call(this,K,Q,ne,ae),je=0;je<Ae.length;je++){var Fe=Ae[je];je===0&&(ye?j.call(this,Fe.x1+C,Fe.y1+H):Z.call(this,Fe.x1+C,Fe.y1+H)),U.call(this,C,H,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ce?V.call(this):$.call(this,se)},$=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(C,H){this.pdf.internal.out(n(C)+" "+r(H)+" m")},T=function(C){var H;switch(C.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var K=this.pdf.getTextDimensions(C.text),Q=D.call(this,C.y),ne=R.call(this,Q)-K.h,ae=this.ctx.transform.applyToPoint(new a(C.x,Q)),se=this.ctx.transform.decompose(),ce=new l;ce=(ce=(ce=ce.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var ye,Ae,je,Fe=this.ctx.transform.applyToRectangle(new o(C.x,Q,K.w,K.h)),Ke=ce.applyToRectangle(new o(C.x,ne,K.w,K.h)),he=_.call(this,Ke),re=[],Re=0;Re<he.length;Re+=1)re.indexOf(he[Re])===-1&&re.push(he[Re]);if(S(re),this.autoPaging)for(var xe=re[0],Se=re[re.length-1],qe=xe;qe<Se+1;qe++){this.pdf.setPage(qe);var De=qe===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Ye=ze-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],ut=nt-this.margin[3],pt=qe===1?0:Oe+(qe-2)*Ye;if(this.ctx.clip_path.length!==0){var bt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ye,this.posX+this.margin[3],-1*pt+De),P.call(this,"fill",!0),this.path=bt}var Xe=b([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-pt+De+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*C.scale),je=this.lineWidth,this.lineWidth=je*C.scale);var dt=this.autoPaging!=="text";if(dt||Xe.y+Xe.h<=ze){if(dt||Xe.y>=De&&Xe.x<=nt){var Me=dt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||nt-Xe.x)[0],qt=b([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-pt+De+this.ctx.prevPageLastElemOffset)[0],st=dt&&(qe>xe||qe<Se)&&y.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Ye,null).clip().discardPath()),this.pdf.text(Me,qt.x,qt.y,{angle:C.angle,align:H,renderingMode:C.renderingMode}),st&&this.pdf.restoreGraphicsState()}}else Xe.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-Xe.y);C.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=je)}else C.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*C.scale),je=this.lineWidth,this.lineWidth=je*C.scale),this.pdf.text(C.text,ae.x+this.posX,ae.y+this.posY,{angle:C.angle,align:H,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=je)},Z=function(C,H,K,Q){K=K||0,Q=Q||0,this.pdf.internal.out(n(C+K)+" "+r(H+Q)+" l")},A=function(C,H,K){return this.pdf.lines(C,H,K,null,null)},U=function(C,H,K,Q,ne,ae,se,ce){this.pdf.internal.out([t(i(K+C)),t(s(Q+H)),t(i(ne+C)),t(s(ae+H)),t(i(se+C)),t(s(ce+H)),"c"].join(" "))},M=function(C,H,K,Q){for(var ne=2*Math.PI,ae=Math.PI/2;H>K;)H-=ne;var se=Math.abs(K-H);se<ne&&Q&&(se=ne-se);for(var ce=[],ye=Q?-1:1,Ae=H;se>1e-5;){var je=Ae+ye*Math.min(se,ae);ce.push(X.call(this,C,Ae,je)),se-=Math.abs(je-Ae),Ae=je}return ce},X=function(C,H,K){var Q=(K-H)/2,ne=C*Math.cos(Q),ae=C*Math.sin(Q),se=ne,ce=-ae,ye=se*se+ce*ce,Ae=ye+se*ne+ce*ae,je=4/3*(Math.sqrt(2*ye*Ae)-Ae)/(se*ae-ce*ne),Fe=se-je*ce,Ke=ce+je*se,he=Fe,re=-Ke,Re=Q+H,xe=Math.cos(Re),Se=Math.sin(Re);return{x1:C*Math.cos(H),y1:C*Math.sin(H),x2:Fe*xe-Ke*Se,y2:Fe*Se+Ke*xe,x3:he*xe-re*Se,y3:he*Se+re*xe,x4:C*Math.cos(K),y4:C*Math.sin(K)}},F=function(C){return 180*C/Math.PI},q=function(C,H,K,Q,ne,ae){var se=C+.5*(K-C),ce=H+.5*(Q-H),ye=ne+.5*(K-ne),Ae=ae+.5*(Q-ae),je=Math.min(C,ne,se,ye),Fe=Math.max(C,ne,se,ye),Ke=Math.min(H,ae,ce,Ae),he=Math.max(H,ae,ce,Ae);return new o(je,Ke,Fe-je,he-Ke)},J=function(C,H,K,Q,ne,ae,se,ce){var ye,Ae,je,Fe,Ke,he,re,Re,xe,Se,qe,De,Oe,ze,Ye=K-C,nt=Q-H,ut=ne-K,pt=ae-Q,bt=se-ne,Xe=ce-ae;for(Ae=0;Ae<41;Ae++)xe=(re=(je=C+(ye=Ae/40)*Ye)+ye*((Ke=K+ye*ut)-je))+ye*(Ke+ye*(ne+ye*bt-Ke)-re),Se=(Re=(Fe=H+ye*nt)+ye*((he=Q+ye*pt)-Fe))+ye*(he+ye*(ae+ye*Xe-he)-Re),Ae==0?(qe=xe,De=Se,Oe=xe,ze=Se):(qe=Math.min(qe,xe),De=Math.min(De,Se),Oe=Math.max(Oe,xe),ze=Math.max(ze,Se));return new o(Math.round(qe),Math.round(De),Math.round(Oe-qe),Math.round(ze-De))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,H,K=(C=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:H}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(at.API),function(e){var t=function(s){var a,o,l,u,c,d,p,h,w,y;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(c=((c=((c=((c=(c-(y=c%85))/85)-(w=c%85))/85)-(h=c%85))/85)-(p=c%85))/85)%85,o.push(d+33,p+33,h+33,w+33,y+33)):o.push(122);return function(_,m){for(var b=m;b>0;b--)_.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,u,c,d=String,p="length",h=255,w="charCodeAt",y="slice",_="replace";for(s[y](-2),s=s[y](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),l=[],u=0,c=(s+=a="uuuuu"[y](s[p]%5||5))[p];c>u;u+=5)o=52200625*(s[w](u)-33)+614125*(s[w](u+1)-33)+7225*(s[w](u+2)-33)+85*(s[w](u+3)-33)+(s[w](u+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(m,b){for(var S=b;S>0;S--)m.pop()}(l,a[p]),d.fromCharCode.apply(d,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=O_(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(at.API),function(e){e.loadFile=function(t,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var d=new XMLHttpRequest,p=0,h=function(w){var y=w.length,_=[],m=String.fromCharCode;for(p=0;p<y;p+=1)_.push(m(255&w.charCodeAt(p)));return _.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(h(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(i,s,a)}catch{}return o}(t,n,r)},e.loadImageFile=e.loadFile}(at.API),function(e){function t(){return(ot.html2canvas?Promise.resolve(ot.html2canvas):Tw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(ot.DOMPurify?Promise.resolve(ot.DOMPurify):Tw(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Vt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,c){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var h=u[p],w=h.src.find(function(y){return y.format==="truetype"});w&&l.addFont(w.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,c).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,a,o);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,at.getPageSize=function(a,o,l){if(Vt(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var c,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var h,w=0,y=0;if(p.hasOwnProperty(d))w=p[d][1]/c,y=p[d][0]/c;else try{w=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",y>w&&(h=y,y=w,w=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",w>y&&(h=y,y=w,w=h)}return{width:y,height:w,unit:o,k:c,orientation:a}},e.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(z_):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(at.API),at.API.addJS=function(e){return nk=e,this.internal.events.subscribe("postPutResources",function(){Up=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Up+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Up!==void 0&&tk!==void 0&&this.internal.out("/Names <</JavaScript "+Up+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var p,h=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,y={width:0,height:0,numcomponents:1},_=4;_<w;_+=2){if(_+=h,t.indexOf(d.charCodeAt(_+1))!==-1){p=256*d.charCodeAt(_+5)+d.charCodeAt(_+6),y={width:256*d.charCodeAt(_+7)+d.charCodeAt(_+8),height:p,numcomponents:d.charCodeAt(_+9)};break}h=256*d.charCodeAt(_+2)+d.charCodeAt(_+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(at.API);var vu,Vp,rk,ik,sk,_z=function(){var e,t,n;function r(s){var a,o,l,u,c,d,p,h,w,y,_,m,b,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),w=(function(){var k,P;for(P=[],k=0;k<4;++k)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*c/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,m=0;0<=a?m<a:m>a;0<=a?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(b=0;0<=y?b<y:b>y;0<=y?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(_=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,_.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,_.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(d,p,h,w){var y,_,m,b,S,k,P,D,R,L,$,V,j,T,Z,A,U,M,X,F,q,J=Math.ceil((u.width-d)/h),ie=Math.ceil((u.height-p)/w),C=u.width==J&&u.height==ie;for(T=a*J,V=C?o:new Uint8Array(T*ie),k=s.length,j=0,_=0;j<ie&&l<k;){switch(s[l++]){case 0:for(b=U=0;U<T;b=U+=1)V[_++]=s[l++];break;case 1:for(b=M=0;M<T;b=M+=1)y=s[l++],S=b<a?0:V[_-a],V[_++]=(y+S)%256;break;case 2:for(b=X=0;X<T;b=X+=1)y=s[l++],m=(b-b%a)/a,Z=j&&V[(j-1)*T+m*a+b%a],V[_++]=(Z+y)%256;break;case 3:for(b=F=0;F<T;b=F+=1)y=s[l++],m=(b-b%a)/a,S=b<a?0:V[_-a],Z=j&&V[(j-1)*T+m*a+b%a],V[_++]=(y+Math.floor((S+Z)/2))%256;break;case 4:for(b=q=0;q<T;b=q+=1)y=s[l++],m=(b-b%a)/a,S=b<a?0:V[_-a],j===0?Z=A=0:(Z=V[(j-1)*T+m*a+b%a],A=m&&V[(j-1)*T+(m-1)*a+b%a]),P=S+Z-A,D=Math.abs(P-S),L=Math.abs(P-Z),$=Math.abs(P-A),R=D<=L&&D<=$?S:L<=$?Z:A,V[_++]=(y+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var H=((p+j*w)*u.width+d)*a,K=j*T;for(b=0;b<J;b+=1){for(var Q=0;Q<a;Q+=1)o[H++]=V[K++];H+=(h-1)*a}}j++}}return s=QB(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,u,c,d,p,h;for(o=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+o.length),l=0,s=0,a=d=0,p=o.length;d<p;a=d+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(h=c[s++])!=null?h:255;return u},r.prototype.copyToImageData=function(s,a){var o,l,u,c,d,p,h,w,y,_,m;if(l=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),w=(u=s.data||s).length,d=y||a,c=p=0,l===1)for(;c<w;)h=y?4*a[c/4]:p,_=d[h++],u[c++]=_,u[c++]=_,u[c++]=_,u[c++]=o?d[h++]:255,p=h;else for(;c<w;)h=y?4*a[c/4]:p,u[c++]=d[h++],u[c++]=d[h++],u[c++]=d[h++],u[c++]=o?d[h++]:255,p=h},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ot)==="[object Window]"){try{t=ot.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,u,c,d,p,h;if(this.animation){for(h=[],o=c=0,d=(p=this.animation.frames).length;c<d;o=++c)a=p[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,h.push(a.image=e(l));return h}},r.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,u,c,d,p=this;return o=0,d=this.animation,u=d.numFrames,l=d.frames,c=d.numPlays,(a=function(){var h,w;if(h=o++%u,w=l[h],p.renderFrame(s,h),u>1&&o/u<c)return p.animation._timeout=setTimeout(a,w.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function xz(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<(7&i)+1;e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var u=!0,c=[],d=0,p=null,h=0,w=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],!(1&y)&&(p=null),h=y>>2&7,t++;break;case 254:for(;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var _=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],P=k>>6&1,D=1<<(7&k)+1,R=o,L=l,$=!1;k>>7&&($=!0,R=t,L=D,t+=3*D);var V=t;for(t++;;){var j;if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}c.push({x:_,y:m,width:b,height:S,has_local_palette:$,palette_offset:R,palette_size:L,data_offset:V,data_length:t-V,transparent_index:p,interlaced:!!P,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return w},this.frameInfo=function(T){if(T<0||T>=c.length)throw new Error("Frame index out of range.");return c[T]},this.decodeAndBlitFrameBGRA=function(T,Z){var A=this.frameInfo(T),U=A.width*A.height,M=new Uint8Array(U);ak(e,A.data_offset,M,U);var X=A.palette_offset,F=A.transparent_index;F===null&&(F=256);var q=A.width,J=n-q,ie=q,C=4*(A.y*n+A.x),H=4*((A.y+A.height)*n+A.x),K=C,Q=4*J;A.interlaced===!0&&(Q+=4*n*7);for(var ne=8,ae=0,se=M.length;ae<se;++ae){var ce=M[ae];if(ie===0&&(ie=q,(K+=Q)>=H&&(Q=4*J+4*n*(ne-1),K=C+(q+J)*(ne<<1),ne>>=1)),ce===F)K+=4;else{var ye=e[X+3*ce],Ae=e[X+3*ce+1],je=e[X+3*ce+2];Z[K++]=je,Z[K++]=Ae,Z[K++]=ye,Z[K++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(T,Z){var A=this.frameInfo(T),U=A.width*A.height,M=new Uint8Array(U);ak(e,A.data_offset,M,U);var X=A.palette_offset,F=A.transparent_index;F===null&&(F=256);var q=A.width,J=n-q,ie=q,C=4*(A.y*n+A.x),H=4*((A.y+A.height)*n+A.x),K=C,Q=4*J;A.interlaced===!0&&(Q+=4*n*7);for(var ne=8,ae=0,se=M.length;ae<se;++ae){var ce=M[ae];if(ie===0&&(ie=q,(K+=Q)>=H&&(Q=4*J+4*n*(ne-1),K=C+(q+J)*(ne<<1),ne>>=1)),ce===F)K+=4;else{var ye=e[X+3*ce],Ae=e[X+3*ce+1],je=e[X+3*ce+2];Z[K++]=ye,Z[K++]=Ae,Z[K++]=je,Z[K++]=255}--ie}}}function ak(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,c=0,d=0,p=0,h=e[t++],w=new Int32Array(4096),y=null;;){for(;c<16&&h!==0;)d|=e[t++]<<c,c+=8,h===1?h=e[t++]:--h;if(c<l)break;var _=d&u;if(d>>=l,c-=l,_!==s){if(_===a)break;for(var m=_<o?_:y,b=0,S=m;S>s;)S=w[S]>>8,++b;var k=S;if(p+b+(m!==_?1:0)>r)return void Jt.log("Warning, gif stream longer than expected.");n[p++]=k;var P=p+=b;for(m!==_&&(n[p++]=k),S=m;b--;)S=w[S],n[--P]=255&S,S>>=8;y!==null&&o<4096&&(w[o++]=y<<8|k,o>=u+1&&l<12&&(++l,u=u<<1|1)),y=_}else o=a+1,u=(1<<(l=i+1))-1,y=null}return p!==r&&Jt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ov(e){var t,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),p=new Array(65535),h=new Array(64),w=new Array(64),y=[],_=0,m=7,b=new Array(64),S=new Array(64),k=new Array(64),P=new Array(256),D=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(C,H){for(var K=0,Q=0,ne=new Array,ae=1;ae<=16;ae++){for(var se=1;se<=C[ae];se++)ne[H[Q]]=[],ne[H[Q]][0]=K,ne[H[Q]][1]=ae,Q++,K++;K*=2}return ne}function X(C){for(var H=C[0],K=C[1]-1;K>=0;)H&1<<K&&(_|=1<<m),K--,--m<0&&(_==255?(F(255),F(0)):F(_),m=7,_=0)}function F(C){y.push(C)}function q(C){F(C>>8&255),F(255&C)}function J(C,H,K,Q,ne){for(var ae,se=ne[0],ce=ne[240],ye=function(Se,qe){var De,Oe,ze,Ye,nt,ut,pt,bt,Xe,dt,Me=0;for(Xe=0;Xe<8;++Xe){De=Se[Me],Oe=Se[Me+1],ze=Se[Me+2],Ye=Se[Me+3],nt=Se[Me+4],ut=Se[Me+5],pt=Se[Me+6];var qt=De+(bt=Se[Me+7]),st=De-bt,Yt=Oe+pt,Lt=Oe-pt,Rt=ze+ut,_n=ze-ut,At=Ye+nt,Di=Ye-nt,Gt=qt+At,br=qt-At,vi=Yt+Rt,zt=Yt-Rt;Se[Me]=Gt+vi,Se[Me+4]=Gt-vi;var ft=.707106781*(zt+br);Se[Me+2]=br+ft,Se[Me+6]=br-ft;var Ft=.382683433*((Gt=Di+_n)-(zt=Lt+st)),Ws=.5411961*Gt+Ft,Fn=1.306562965*zt+Ft,yi=.707106781*(vi=_n+Lt),bi=st+yi,rt=st-yi;Se[Me+5]=rt+Ws,Se[Me+3]=rt-Ws,Se[Me+1]=bi+Fn,Se[Me+7]=bi-Fn,Me+=8}for(Me=0,Xe=0;Xe<8;++Xe){De=Se[Me],Oe=Se[Me+8],ze=Se[Me+16],Ye=Se[Me+24],nt=Se[Me+32],ut=Se[Me+40],pt=Se[Me+48];var Zr=De+(bt=Se[Me+56]),wi=De-bt,ir=Oe+pt,xn=Oe-pt,mn=ze+ut,wr=ze-ut,La=Ye+nt,Bi=Ye-nt,Yr=Zr+La,Lr=Zr-La,Xr=ir+mn,_i=ir-mn;Se[Me]=Yr+Xr,Se[Me+32]=Yr-Xr;var Pr=.707106781*(_i+Lr);Se[Me+16]=Lr+Pr,Se[Me+48]=Lr-Pr;var xi=.382683433*((Yr=Bi+wr)-(_i=xn+wi)),Gs=.5411961*Yr+xi,Pa=1.306562965*_i+xi,Ra=.707106781*(Xr=wr+xn),Ia=wi+Ra,Ks=wi-Ra;Se[Me+40]=Ks+Gs,Se[Me+24]=Ks-Gs,Se[Me+8]=Ia+Pa,Se[Me+56]=Ia-Pa,Me++}for(Xe=0;Xe<64;++Xe)dt=Se[Xe]*qe[Xe],h[Xe]=dt>0?dt+.5|0:dt-.5|0;return h}(C,H),Ae=0;Ae<64;++Ae)w[R[Ae]]=ye[Ae];var je=w[0]-K;K=w[0],je==0?X(Q[0]):(X(Q[p[ae=32767+je]]),X(d[ae]));for(var Fe=63;Fe>0&&w[Fe]==0;)Fe--;if(Fe==0)return X(se),K;for(var Ke,he=1;he<=Fe;){for(var re=he;w[he]==0&&he<=Fe;)++he;var Re=he-re;if(Re>=16){Ke=Re>>4;for(var xe=1;xe<=Ke;++xe)X(ce);Re&=15}ae=32767+w[he],X(ne[(Re<<4)+p[ae]]),X(d[ae]),he++}return Fe!=63&&X(se),K}function ie(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(H){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ne=a((K[Q]*H+50)/100);ne=Math.min(Math.max(ne,1),255),o[R[Q]]=ne}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var ce=a((ae[se]*H+50)/100);ce=Math.min(Math.max(ce,1),255),l[R[se]]=ce}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,je=0;je<8;je++)for(var Fe=0;Fe<8;Fe++)u[Ae]=1/(o[R[Ae]]*ye[je]*ye[Fe]*8),c[Ae]=1/(l[R[Ae]]*ye[je]*ye[Fe]*8),Ae++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,H){H&&ie(H),y=new Array,_=0,m=7,q(65496),q(65504),q(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),q(1),q(1),F(0),F(0),function(){q(65499),q(132),F(0);for(var Oe=0;Oe<64;Oe++)F(o[Oe]);F(1);for(var ze=0;ze<64;ze++)F(l[ze])}(),function(Oe,ze){q(65472),q(17),F(8),q(ze),q(Oe),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}(C.width,C.height),function(){q(65476),q(418),F(0);for(var Oe=0;Oe<16;Oe++)F(L[Oe+1]);for(var ze=0;ze<=11;ze++)F($[ze]);F(16);for(var Ye=0;Ye<16;Ye++)F(V[Ye+1]);for(var nt=0;nt<=161;nt++)F(j[nt]);F(1);for(var ut=0;ut<16;ut++)F(T[ut+1]);for(var pt=0;pt<=11;pt++)F(Z[pt]);F(17);for(var bt=0;bt<16;bt++)F(A[bt+1]);for(var Xe=0;Xe<=161;Xe++)F(U[Xe])}(),q(65498),q(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var K=0,Q=0,ne=0;_=0,m=7,this.encode.displayName="_encode_";for(var ae,se,ce,ye,Ae,je,Fe,Ke,he,re=C.data,Re=C.width,xe=C.height,Se=4*Re,qe=0;qe<xe;){for(ae=0;ae<Se;){for(Ae=Se*qe+ae,Fe=-1,Ke=0,he=0;he<64;he++)je=Ae+(Ke=he>>3)*Se+(Fe=4*(7&he)),qe+Ke>=xe&&(je-=Se*(qe+1+Ke-xe)),ae+Fe>=Se&&(je-=ae+Fe-Se+4),se=re[je++],ce=re[je++],ye=re[je++],b[he]=(D[se]+D[ce+256>>0]+D[ye+512>>0]>>16)-128,S[he]=(D[se+768>>0]+D[ce+1024>>0]+D[ye+1280>>0]>>16)-128,k[he]=(D[se+1280>>0]+D[ce+1536>>0]+D[ye+1792>>0]>>16)-128;K=J(b,u,K,t,r),Q=J(S,c,Q,n,i),ne=J(k,c,ne,n,i),ae+=32}qe+=8}if(m>=0){var De=[];De[1]=m+1,De[0]=(1<<m+1)-1,X(De)}return q(65497),new Uint8Array(y)},e=e||50,function(){for(var C=String.fromCharCode,H=0;H<256;H++)P[H]=C(H)}(),t=M(L,$),n=M(T,Z),r=M(V,j),i=M(A,U),function(){for(var C=1,H=2,K=1;K<=15;K++){for(var Q=C;Q<H;Q++)p[32767+Q]=K,d[32767+Q]=[],d[32767+Q][1]=K,d[32767+Q][0]=Q;for(var ne=-(H-1);ne<=-C;ne++)p[32767+ne]=K,d[32767+ne]=[],d[32767+ne][1]=K,d[32767+ne][0]=H-1+ne;C<<=1,H<<=1}}(),function(){for(var C=0;C<256;C++)D[C]=19595*C,D[C+256>>0]=38470*C,D[C+512>>0]=7471*C+32768,D[C+768>>0]=-11059*C,D[C+1024>>0]=-21709*C,D[C+1280>>0]=32768*C+8421375,D[C+1536>>0]=-27439*C,D[C+1792>>0]=-5329*C}(),ie(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ki(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ok(e){function t(L){if(!L)throw Error("assert :P")}function n(L,$,V){for(var j=0;4>j;j++)if(L[$+j]!=V.charCodeAt(j))return!0;return!1}function r(L,$,V,j,T){for(var Z=0;Z<T;Z++)L[$+Z]=V[j+Z]}function i(L,$,V,j){for(var T=0;T<j;T++)L[$+T]=V}function s(L){return new Int32Array(L)}function a(L,$){for(var V=[],j=0;j<L;j++)V.push(new $);return V}function o(L,$){var V=[];return function j(T,Z,A){for(var U=A[Z],M=0;M<U&&(T.push(A.length>Z+1?[]:new $),!(A.length<Z+1));M++)j(T[M],Z+1,A)}(V,0,L),V}var l=function(){var L=this;function $(f,v){for(var N=1<<v-1>>>0;f&N;)N>>>=1;return N?(f&N-1)+N:f}function V(f,v,N,E,I){t(!(E%N));do f[v+(E-=N)]=I;while(0<E)}function j(f,v,N,E,I){if(t(2328>=I),512>=I)var B=s(512);else if((B=s(I))==null)return 0;return function(z,W,G,ee,le,me){var ge,fe,Ee=W,be=1<<G,ue=s(16),de=s(16);for(t(le!=0),t(ee!=null),t(z!=null),t(0<G),fe=0;fe<le;++fe){if(15<ee[fe])return 0;++ue[ee[fe]]}if(ue[0]==le)return 0;for(de[1]=0,ge=1;15>ge;++ge){if(ue[ge]>1<<ge)return 0;de[ge+1]=de[ge]+ue[ge]}for(fe=0;fe<le;++fe)ge=ee[fe],0<ee[fe]&&(me[de[ge]++]=fe);if(de[15]==1)return(ee=new T).g=0,ee.value=me[0],V(z,Ee,1,be,ee),be;var Ne,Ce=-1,ke=be-1,He=0,Be=1,it=1,$e=1<<G;for(fe=0,ge=1,le=2;ge<=G;++ge,le<<=1){if(Be+=it<<=1,0>(it-=ue[ge]))return 0;for(;0<ue[ge];--ue[ge])(ee=new T).g=ge,ee.value=me[fe++],V(z,Ee+He,le,$e,ee),He=$(He,ge)}for(ge=G+1,le=2;15>=ge;++ge,le<<=1){if(Be+=it<<=1,0>(it-=ue[ge]))return 0;for(;0<ue[ge];--ue[ge]){if(ee=new T,(He&ke)!=Ce){for(Ee+=$e,Ne=1<<(Ce=ge)-G;15>Ce&&!(0>=(Ne-=ue[Ce]));)++Ce,Ne<<=1;be+=$e=1<<(Ne=Ce-G),z[W+(Ce=He&ke)].g=Ne+G,z[W+Ce].value=Ee-W-Ce}ee.g=ge-G,ee.value=me[fe++],V(z,Ee+(He>>G),le,$e,ee),He=$(He,ge)}}return Be!=2*de[15]-1?0:be}(f,v,N,E,I,B)}function T(){this.value=this.g=0}function Z(){this.value=this.g=0}function A(){this.G=a(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Xn,Z)}function U(f,v,N,E){t(f!=null),t(v!=null),t(2147483648>E),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=N,f.Jd=v,f.Yc=N+E,f.Zc=4<=E?N+E-4+1:N,ae(f)}function M(f,v){for(var N=0;0<v--;)N|=ce(f,128)<<v;return N}function X(f,v){var N=M(f,v);return se(f)?-N:N}function F(f,v,N,E){var I,B=0;for(t(f!=null),t(v!=null),t(4294967288>E),f.Sb=E,f.Ra=0,f.u=0,f.h=0,4<E&&(E=4),I=0;I<E;++I)B+=v[N+I]<<8*I;f.Ra=B,f.bb=E,f.oa=v,f.pa=N}function q(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<su-8>>>0,++f.bb,f.u-=8;K(f)&&(f.h=1,f.u=0)}function J(f,v){if(t(0<=v),!f.h&&v<=iu){var N=H(f)&ru[v];return f.u+=v,q(f),N}return f.h=1,f.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(f){return f.Ra>>>(f.u&su-1)>>>0}function K(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>su}function Q(f,v){f.u=v,f.h=K(f)}function ne(f){f.u>=cd&&(t(f.u>=cd),q(f))}function ae(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function se(f){return M(f,1)}function ce(f,v){var N=f.Ca;0>f.b&&ae(f);var E=f.b,I=N*v>>>8,B=(f.I>>>E>I)+0;for(B?(N-=I,f.I-=I+1<<E>>>0):N=I+1,E=N,I=0;256<=E;)I+=8,E>>=8;return E=7^I+Ir[E],f.b-=E,f.Ca=(N<<E)-1,B}function ye(f,v,N){f[v+0]=N>>24&255,f[v+1]=N>>16&255,f[v+2]=N>>8&255,f[v+3]=N>>0&255}function Ae(f,v){return f[v+0]<<0|f[v+1]<<8}function je(f,v){return Ae(f,v)|f[v+2]<<16}function Fe(f,v){return Ae(f,v)|Ae(f,v+2)<<16}function Ke(f,v){var N=1<<v;return t(f!=null),t(0<v),f.X=s(N),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function he(f,v){t(f!=null),t(v!=null),t(f.Xa==v.Xa),r(v.X,0,f.X,0,1<<v.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Re(f,v,N,E){t(N!=null),t(E!=null);var I=N[0],B=E[0];return I==0&&(I=(f*B+v/2)/v),B==0&&(B=(v*I+f/2)/f),0>=I||0>=B?0:(N[0]=I,E[0]=B,1)}function xe(f,v){return f+(1<<v)-1>>>v}function Se(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function qe(f,v){L[v]=function(N,E,I,B,z,W,G){var ee;for(ee=0;ee<z;++ee){var le=L[f](W[G+ee-1],I,B+ee);W[G+ee]=Se(N[E+ee],le)}}}function De(){this.ud=this.hd=this.jd=0}function Oe(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function ze(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Ye(f,v){return ze(f+(f-v+.5>>1))}function nt(f,v,N){return Math.abs(v-N)-Math.abs(f-N)}function ut(f,v,N,E,I,B,z){for(E=B[z-1],N=0;N<I;++N)B[z+N]=E=Se(f[v+N],E)}function pt(f,v,N,E,I){var B;for(B=0;B<N;++B){var z=f[v+B],W=z>>8&255,G=16711935&(G=(G=16711935&z)+((W<<16)+W));E[I+B]=(4278255360&z)+G>>>0}}function bt(f,v){v.jd=f>>0&255,v.hd=f>>8&255,v.ud=f>>16&255}function Xe(f,v,N,E,I,B){var z;for(z=0;z<E;++z){var W=v[N+z],G=W>>>8,ee=W,le=255&(le=(le=W>>>16)+((f.jd<<24>>24)*(G<<24>>24)>>>5));ee=255&(ee=(ee=ee+((f.hd<<24>>24)*(G<<24>>24)>>>5))+((f.ud<<24>>24)*(le<<24>>24)>>>5)),I[B+z]=(4278255360&W)+(le<<16)+ee}}function dt(f,v,N,E,I){L[v]=function(B,z,W,G,ee,le,me,ge,fe){for(G=me;G<ge;++G)for(me=0;me<fe;++me)ee[le++]=I(W[E(B[z++])])},L[f]=function(B,z,W,G,ee,le,me){var ge=8>>B.b,fe=B.Ea,Ee=B.K[0],be=B.w;if(8>ge)for(B=(1<<B.b)-1,be=(1<<ge)-1;z<W;++z){var ue,de=0;for(ue=0;ue<fe;++ue)ue&B||(de=E(G[ee++])),le[me++]=I(Ee[de&be]),de>>=ge}else L["VP8LMapColor"+N](G,ee,Ee,be,le,me,z,W,fe)}}function Me(f,v,N,E,I){for(N=v+N;v<N;){var B=f[v++];E[I++]=B>>16&255,E[I++]=B>>8&255,E[I++]=B>>0&255}}function qt(f,v,N,E,I){for(N=v+N;v<N;){var B=f[v++];E[I++]=B>>16&255,E[I++]=B>>8&255,E[I++]=B>>0&255,E[I++]=B>>24&255}}function st(f,v,N,E,I){for(N=v+N;v<N;){var B=(z=f[v++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;E[I++]=B,E[I++]=z}}function Yt(f,v,N,E,I){for(N=v+N;v<N;){var B=(z=f[v++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;E[I++]=B,E[I++]=z}}function Lt(f,v,N,E,I){for(N=v+N;v<N;){var B=f[v++];E[I++]=B>>0&255,E[I++]=B>>8&255,E[I++]=B>>16&255}}function Rt(f,v,N,E,I,B){if(B==0)for(N=v+N;v<N;)ye(E,((B=f[v++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),I+=32;else r(E,I,f,v,N)}function _n(f,v){L[v][0]=L[f+"0"],L[v][1]=L[f+"1"],L[v][2]=L[f+"2"],L[v][3]=L[f+"3"],L[v][4]=L[f+"4"],L[v][5]=L[f+"5"],L[v][6]=L[f+"6"],L[v][7]=L[f+"7"],L[v][8]=L[f+"8"],L[v][9]=L[f+"9"],L[v][10]=L[f+"10"],L[v][11]=L[f+"11"],L[v][12]=L[f+"12"],L[v][13]=L[f+"13"],L[v][14]=L[f+"0"],L[v][15]=L[f+"0"]}function At(f){return f==c1||f==d1||f==up||f==f1}function Di(){this.eb=[],this.size=this.A=this.fb=0}function Gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function br(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Di,this.f.kb=new Gt,this.sd=null}function vi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Ft(f,v){var N=f.T,E=v.ba.f.RGBA,I=E.eb,B=E.fb+f.ka*E.A,z=Ci[v.ba.S],W=f.y,G=f.O,ee=f.f,le=f.N,me=f.ea,ge=f.W,fe=v.cc,Ee=v.dc,be=v.Mc,ue=v.Nc,de=f.ka,Ne=f.ka+f.T,Ce=f.U,ke=Ce+1>>1;for(de==0?z(W,G,null,null,ee,le,me,ge,ee,le,me,ge,I,B,null,null,Ce):(z(v.ec,v.fc,W,G,fe,Ee,be,ue,ee,le,me,ge,I,B-E.A,I,B,Ce),++N);de+2<Ne;de+=2)fe=ee,Ee=le,be=me,ue=ge,le+=f.Rc,ge+=f.Rc,B+=2*E.A,z(W,(G+=2*f.fa)-f.fa,W,G,fe,Ee,be,ue,ee,le,me,ge,I,B-E.A,I,B,Ce);return G+=f.fa,f.j+Ne<f.o?(r(v.ec,v.fc,W,G,Ce),r(v.cc,v.dc,ee,le,ke),r(v.Mc,v.Nc,me,ge,ke),N--):1&Ne||z(W,G,null,null,ee,le,me,ge,ee,le,me,ge,I,B+E.A,null,null,Ce),N}function Ws(f,v,N){var E=f.F,I=[f.J];if(E!=null){var B=f.U,z=v.ba.S,W=z==lp||z==up;v=v.ba.f.RGBA;var G=[0],ee=f.ka;G[0]=f.T,f.Kb&&(ee==0?--G[0]:(--ee,I[0]-=f.width),f.j+f.ka+f.T==f.o&&(G[0]=f.o-f.j-ee));var le=v.eb;ee=v.fb+ee*v.A,f=en(E,I[0],f.width,B,G,le,ee+(W?0:3),v.A),t(N==G),f&&At(z)&&Ei(le,ee,W,B,G,v.A)}return 0}function Fn(f){var v=f.ma,N=v.ba.S,E=11>N,I=N==ap||N==op||N==lp||N==u1||N==12||At(N);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ld(v.Oa,f,I?11:12))return 0;if(I&&At(N)&&Pe(),f.da)alert("todo:use_scaling");else{if(E){if(v.Ib=ft,f.Kb){if(N=f.U+1>>1,v.memory=s(f.U+2*N),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+N,v.Ib=Ft,Pe()}}else alert("todo:EmitYUV");I&&(v.Jb=Ws,E&&pe())}if(E&&!rN){for(f=0;256>f;++f)HM[f]=89858*(f-128)+dp>>cp,KM[f]=-22014*(f-128)+dp,GM[f]=-45773*(f-128),WM[f]=113618*(f-128)+dp>>cp;for(f=vd;f<m1;++f)v=76283*(f-16)+dp>>cp,ZM[f-vd]=Jr(v,255),YM[f-vd]=Jr(v+8>>4,15);rN=1}return 1}function yi(f){var v=f.ma,N=f.U,E=f.T;return t(!(1&f.ka)),0>=N||0>=E?0:(N=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,N),v.Dc+=N,1)}function bi(f){f.ma.memory=null}function rt(f,v,N,E){return J(f,8)!=47?0:(v[0]=J(f,14)+1,N[0]=J(f,14)+1,E[0]=J(f,1),J(f,3)!=0?0:!f.h)}function Zr(f,v){if(4>f)return f+1;var N=f-2>>1;return(2+(1&f)<<N)+J(v,N)+1}function wi(f,v){return 120<v?v-120:1<=(N=((N=PM[v-1])>>4)*f+(8-(15&N)))?N:1;var N}function ir(f,v,N){var E=H(N),I=f[v+=255&E].g-8;return 0<I&&(Q(N,N.u+8),E=H(N),v+=f[v].value,v+=E&(1<<I)-1),Q(N,N.u+f[v].g),f[v].value}function xn(f,v,N){return N.g+=f.g,N.value+=f.value<<v>>>0,t(8>=N.g),f.g}function mn(f,v,N){var E=f.xc;return t((v=E==0?0:f.vc[f.md*(N>>E)+(v>>E)])<f.Wb),f.Ya[v]}function wr(f,v,N,E){var I=f.ab,B=f.c*v,z=f.C;v=z+v;var W=N,G=E;for(E=f.Ta,N=f.Ua;0<I--;){var ee=f.gc[I],le=z,me=v,ge=W,fe=G,Ee=(G=E,W=N,ee.Ea);switch(t(le<me),t(me<=ee.nc),ee.hc){case 2:Qh(ge,fe,(me-le)*Ee,G,W);break;case 0:var be=le,ue=me,de=G,Ne=W,Ce=($e=ee).Ea;be==0&&(o1(ge,fe,null,null,1,de,Ne),ut(ge,fe+1,0,0,Ce-1,de,Ne+1),fe+=Ce,Ne+=Ce,++be);for(var ke=1<<$e.b,He=ke-1,Be=xe(Ce,$e.b),it=$e.K,$e=$e.w+(be>>$e.b)*Be;be<ue;){var Dt=it,$t=$e,Ot=1;for(dd(ge,fe,de,Ne-Ce,1,de,Ne);Ot<Ce;){var Ct=(Ot&~He)+ke;Ct>Ce&&(Ct=Ce),(0,Da[Dt[$t++]>>8&15])(ge,fe+ +Ot,de,Ne+Ot-Ce,Ct-Ot,de,Ne+Ot),Ot=Ct}fe+=Ce,Ne+=Ce,++be&He||($e+=Be)}me!=ee.nc&&r(G,W-Ee,G,W+(me-le-1)*Ee,Ee);break;case 1:for(Ee=ge,ue=fe,Ce=(ge=ee.Ea)-(Ne=ge&~(de=(fe=1<<ee.b)-1)),be=xe(ge,ee.b),ke=ee.K,ee=ee.w+(le>>ee.b)*be;le<me;){for(He=ke,Be=ee,it=new De,$e=ue+Ne,Dt=ue+ge;ue<$e;)bt(He[Be++],it),Xo(it,Ee,ue,fe,G,W),ue+=fe,W+=fe;ue<Dt&&(bt(He[Be++],it),Xo(it,Ee,ue,Ce,G,W),ue+=Ce,W+=Ce),++le&de||(ee+=be)}break;case 3:if(ge==G&&fe==W&&0<ee.b){for(ue=G,ge=Ee=W+(me-le)*Ee-(Ne=(me-le)*xe(ee.Ea,ee.b)),fe=G,de=W,be=[],Ne=(Ce=Ne)-1;0<=Ne;--Ne)be[Ne]=fe[de+Ne];for(Ne=Ce-1;0<=Ne;--Ne)ue[ge+Ne]=be[Ne];Ni(ee,le,me,G,Ee,G,W)}else Ni(ee,le,me,ge,fe,G,W)}W=E,G=N}G!=N&&r(E,N,W,G,B)}function La(f,v){var N=f.V,E=f.Ba+f.c*f.C,I=v-f.C;if(t(v<=f.l.o),t(16>=I),0<I){var B=f.l,z=f.Ta,W=f.Ua,G=B.width;if(wr(f,I,N,E),I=W=[W],t((N=f.C)<(E=v)),t(B.v<B.va),E>B.o&&(E=B.o),N<B.j){var ee=B.j-N;N=B.j,I[0]+=ee*G}if(N>=E?N=0:(I[0]+=4*B.v,B.ka=N-B.j,B.U=B.va-B.v,B.T=E-N,N=1),N){if(W=W[0],11>(N=f.ca).S){var le=N.f.RGBA,me=(E=N.S,I=B.U,B=B.T,ee=le.eb,le.A),ge=B;for(le=le.fb+f.Ma*le.A;0<ge--;){var fe=z,Ee=W,be=I,ue=ee,de=le;switch(E){case sp:Tr(fe,Ee,be,ue,de);break;case ap:_r(fe,Ee,be,ue,de);break;case c1:_r(fe,Ee,be,ue,de),Ei(ue,de,0,be,1,0);break;case G4:Js(fe,Ee,be,ue,de);break;case op:Rt(fe,Ee,be,ue,de,1);break;case d1:Rt(fe,Ee,be,ue,de,1),Ei(ue,de,0,be,1,0);break;case lp:Rt(fe,Ee,be,ue,de,0);break;case up:Rt(fe,Ee,be,ue,de,0),Ei(ue,de,1,be,1,0);break;case u1:Ba(fe,Ee,be,ue,de);break;case f1:Ba(fe,Ee,be,ue,de),Qt(ue,de,be,1,0);break;case K4:Xs(fe,Ee,be,ue,de);break;default:t(0)}W+=G,le+=me}f.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=N.height)}}f.C=v,t(f.C<=f.i)}function Bi(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var N=f.Ya[v].G,E=f.Ya[v].H;if(0<N[1][E[1]+0].g||0<N[2][E[2]+0].g||0<N[3][E[3]+0].g)return 0}return 1}function Yr(f,v,N,E,I,B){if(f.Z!=0){var z=f.qd,W=f.rd;for(t(Va[f.Z]!=null);v<N;++v)Va[f.Z](z,W,E,I,E,I,B),z=E,W=I,I+=B;f.qd=z,f.rd=W}}function Lr(f,v){var N=f.l.ma,E=N.Z==0||N.Z==1?f.l.j:f.C;if(E=f.C<E?E:f.C,t(v<=f.l.o),v>E){var I=f.l.width,B=N.ca,z=N.tb+I*E,W=f.V,G=f.Ba+f.c*E,ee=f.gc;t(f.ab==1),t(ee[0].hc==3),ep(ee[0],E,v,W,G,B,z),Yr(N,E,v,B,z,I)}f.C=f.Ma=v}function Xr(f,v,N,E,I,B,z){var W=f.$/E,G=f.$%E,ee=f.m,le=f.s,me=N+f.$,ge=me;I=N+E*I;var fe=N+E*B,Ee=280+le.ua,be=f.Pb?W:16777216,ue=0<le.ua?le.Wa:null,de=le.wc,Ne=me<fe?mn(le,G,W):null;t(f.C<B),t(fe<=I);var Ce=!1;e:for(;;){for(;Ce||me<fe;){var ke=0;if(W>=be){var He=me-N;t((be=f).Pb),be.wd=be.m,be.xd=He,0<be.s.ua&&he(be.s.Wa,be.s.vb),be=W+IM}if(G&de||(Ne=mn(le,G,W)),t(Ne!=null),Ne.Qb&&(v[me]=Ne.qb,Ce=!0),!Ce)if(ne(ee),Ne.jc){ke=ee,He=v;var Be=me,it=Ne.pd[H(ke)&Xn-1];t(Ne.jc),256>it.g?(Q(ke,ke.u+it.g),He[Be]=it.value,ke=0):(Q(ke,ke.u+it.g-256),t(256<=it.value),ke=it.value),ke==0&&(Ce=!0)}else ke=ir(Ne.G[0],Ne.H[0],ee);if(ee.h)break;if(Ce||256>ke){if(!Ce)if(Ne.nd)v[me]=(Ne.qb|ke<<8)>>>0;else{if(ne(ee),Ce=ir(Ne.G[1],Ne.H[1],ee),ne(ee),He=ir(Ne.G[2],Ne.H[2],ee),Be=ir(Ne.G[3],Ne.H[3],ee),ee.h)break;v[me]=(Be<<24|Ce<<16|ke<<8|He)>>>0}if(Ce=!1,++me,++G>=E&&(G=0,++W,z!=null&&W<=B&&!(W%16)&&z(f,W),ue!=null))for(;ge<me;)ke=v[ge++],ue.X[(506832829*ke&4294967295)>>>ue.Mb]=ke}else if(280>ke){if(ke=Zr(ke-256,ee),He=ir(Ne.G[4],Ne.H[4],ee),ne(ee),He=wi(E,He=Zr(He,ee)),ee.h)break;if(me-N<He||I-me<ke)break e;for(Be=0;Be<ke;++Be)v[me+Be]=v[me+Be-He];for(me+=ke,G+=ke;G>=E;)G-=E,++W,z!=null&&W<=B&&!(W%16)&&z(f,W);if(t(me<=I),G&de&&(Ne=mn(le,G,W)),ue!=null)for(;ge<me;)ke=v[ge++],ue.X[(506832829*ke&4294967295)>>>ue.Mb]=ke}else{if(!(ke<Ee))break e;for(Ce=ke-280,t(ue!=null);ge<me;)ke=v[ge++],ue.X[(506832829*ke&4294967295)>>>ue.Mb]=ke;ke=me,t(!(Ce>>>(He=ue).Xa)),v[ke]=He.X[Ce],Ce=!0}Ce||t(ee.h==K(ee))}if(f.Pb&&ee.h&&me<I)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&he(f.s.vb,f.s.Wa);else{if(ee.h)break e;z!=null&&z(f,W>B?B:W),f.a=0,f.$=me-N}return 1}return f.a=3,0}function _i(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,t(f!=null)}function Pr(){var f=new a1;return f==null?null:(f.a=0,f.xb=X4,_n("Predictor","VP8LPredictors"),_n("Predictor","VP8LPredictors_C"),_n("PredictorAdd","VP8LPredictorsAdd"),_n("PredictorAdd","VP8LPredictorsAdd_C"),Qh=pt,Xo=Xe,Tr=Me,_r=qt,Ba=st,Xs=Yt,Js=Lt,L.VP8LMapColor32b=au,L.VP8LMapColor8b=tp,f)}function xi(f,v,N,E,I){var B=1,z=[f],W=[v],G=E.m,ee=E.s,le=null,me=0;e:for(;;){if(N)for(;B&&J(G,1);){var ge=z,fe=W,Ee=E,be=1,ue=Ee.m,de=Ee.gc[Ee.ab],Ne=J(ue,2);if(Ee.Oc&1<<Ne)B=0;else{switch(Ee.Oc|=1<<Ne,de.hc=Ne,de.Ea=ge[0],de.nc=fe[0],de.K=[null],++Ee.ab,t(4>=Ee.ab),Ne){case 0:case 1:de.b=J(ue,3)+2,be=xi(xe(de.Ea,de.b),xe(de.nc,de.b),0,Ee,de.K),de.K=de.K[0];break;case 3:var Ce,ke=J(ue,8)+1,He=16<ke?0:4<ke?1:2<ke?2:3;if(ge[0]=xe(de.Ea,He),de.b=He,Ce=be=xi(ke,1,0,Ee,de.K)){var Be,it=ke,$e=de,Dt=1<<(8>>$e.b),$t=s(Dt);if($t==null)Ce=0;else{var Ot=$e.K[0],Ct=$e.w;for($t[0]=$e.K[0][0],Be=1;Be<1*it;++Be)$t[Be]=Se(Ot[Ct+Be],$t[Be-1]);for(;Be<4*Dt;++Be)$t[Be]=0;$e.K[0]=null,$e.K[0]=$t,Ce=1}}be=Ce;break;case 2:break;default:t(0)}B=be}}if(z=z[0],W=W[0],B&&J(G,1)&&!(B=1<=(me=J(G,4))&&11>=me)){E.a=3;break e}var Xt;if(Xt=B)t:{var Kt,wt,Pn,Or=E,Rn=z,Mr=W,Ut=me,ei=N,ti=Or.m,Vn=Or.s,Jn=[null],Nr=1,ji=0,Ns=RM[Ut];n:for(;;){if(ei&&J(ti,1)){var Hn=J(ti,3)+2,na=xe(Rn,Hn),nl=xe(Mr,Hn),du=na*nl;if(!xi(na,nl,0,Or,Jn))break n;for(Jn=Jn[0],Vn.xc=Hn,Kt=0;Kt<du;++Kt){var Ha=Jn[Kt]>>8&65535;Jn[Kt]=Ha,Ha>=Nr&&(Nr=Ha+1)}}if(ti.h)break n;for(wt=0;5>wt;++wt){var vn=Z4[wt];!wt&&0<Ut&&(vn+=1<<Ut),ji<vn&&(ji=vn)}var g1=a(Nr*Ns,T),aN=Nr,oN=a(aN,A);if(oN==null)var hp=null;else t(65536>=aN),hp=oN;var yd=s(ji);if(hp==null||yd==null||g1==null){Or.a=1;break n}var pp=g1;for(Kt=Pn=0;Kt<Nr;++Kt){var Hi=hp[Kt],fu=Hi.G,hu=Hi.H,lN=0,mp=1,uN=0;for(wt=0;5>wt;++wt){vn=Z4[wt],fu[wt]=pp,hu[wt]=Pn,!wt&&0<Ut&&(vn+=1<<Ut);i:{var gp,v1=vn,vp=Or,bd=yd,QM=pp,e9=Pn,y1=0,Wa=vp.m,t9=J(Wa,1);if(i(bd,0,0,v1),t9){var n9=J(Wa,1)+1,r9=J(Wa,1),cN=J(Wa,r9==0?1:8);bd[cN]=1,n9==2&&(bd[cN=J(Wa,8)]=1);var yp=1}else{var dN=s(19),fN=J(Wa,4)+4;if(19<fN){vp.a=3;var bp=0;break i}for(gp=0;gp<fN;++gp)dN[LM[gp]]=J(Wa,3);var b1=void 0,wd=void 0,hN=vp,i9=dN,wp=v1,pN=bd,w1=0,Ga=hN.m,mN=8,gN=a(128,T);r:for(;j(gN,0,7,i9,19);){if(J(Ga,1)){var s9=2+2*J(Ga,3);if((b1=2+J(Ga,s9))>wp)break r}else b1=wp;for(wd=0;wd<wp&&b1--;){ne(Ga);var vN=gN[0+(127&H(Ga))];Q(Ga,Ga.u+vN.g);var pu=vN.value;if(16>pu)pN[wd++]=pu,pu!=0&&(mN=pu);else{var a9=pu==16,yN=pu-16,o9=CM[yN],bN=J(Ga,AM[yN])+o9;if(wd+bN>wp)break r;for(var l9=a9?mN:0;0<bN--;)pN[wd++]=l9}}w1=1;break r}w1||(hN.a=3),yp=w1}(yp=yp&&!Wa.h)&&(y1=j(QM,e9,8,bd,v1)),yp&&y1!=0?bp=y1:(vp.a=3,bp=0)}if(bp==0)break n;if(mp&&jM[wt]==1&&(mp=pp[Pn].g==0),lN+=pp[Pn].g,Pn+=bp,3>=wt){var _d,_1=yd[0];for(_d=1;_d<vn;++_d)yd[_d]>_1&&(_1=yd[_d]);uN+=_1}}if(Hi.nd=mp,Hi.Qb=0,mp&&(Hi.qb=(fu[3][hu[3]+0].value<<24|fu[1][hu[1]+0].value<<16|fu[2][hu[2]+0].value)>>>0,lN==0&&256>fu[0][hu[0]+0].value&&(Hi.Qb=1,Hi.qb+=fu[0][hu[0]+0].value<<8)),Hi.jc=!Hi.Qb&&6>uN,Hi.jc){var _p,ra=Hi;for(_p=0;_p<Xn;++_p){var Ka=_p,Za=ra.pd[Ka],xp=ra.G[0][ra.H[0]+Ka];256<=xp.value?(Za.g=xp.g+256,Za.value=xp.value):(Za.g=0,Za.value=0,Ka>>=xn(xp,8,Za),Ka>>=xn(ra.G[1][ra.H[1]+Ka],16,Za),Ka>>=xn(ra.G[2][ra.H[2]+Ka],0,Za),xn(ra.G[3][ra.H[3]+Ka],24,Za))}}}Vn.vc=Jn,Vn.Wb=Nr,Vn.Ya=hp,Vn.yc=g1,Xt=1;break t}Xt=0}if(!(B=Xt)){E.a=3;break e}if(0<me){if(ee.ua=1<<me,!Ke(ee.Wa,me)){E.a=1,B=0;break e}}else ee.ua=0;var x1=E,wN=z,u9=W,N1=x1.s,S1=N1.xc;if(x1.c=wN,x1.i=u9,N1.md=xe(wN,S1),N1.wc=S1==0?-1:(1<<S1)-1,N){E.xb=BM;break e}if((le=s(z*W))==null){E.a=1,B=0;break e}B=(B=Xr(E,le,0,z,W,W,null))&&!G.h;break e}return B?(I!=null?I[0]=le:(t(le==null),t(N)),E.$=0,N||_i(ee)):_i(ee),B}function Gs(f,v){var N=f.c*f.i,E=N+v+16*v;return t(f.c<=v),f.V=s(E),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+N+v,1)}function Pa(f,v){var N=f.C,E=v-N,I=f.V,B=f.Ba+f.c*N;for(t(v<=f.l.o);0<E;){var z=16<E?16:E,W=f.l.ma,G=f.l.width,ee=G*z,le=W.ca,me=W.tb+G*N,ge=f.Ta,fe=f.Ua;wr(f,z,I,B),kn(ge,fe,le,me,ee),Yr(W,N,N+z,le,me,G),E-=z,I+=z*f.c,N+=z}t(N==v),f.C=f.Ma=v}function Ra(){this.ub=this.yd=this.td=this.Rb=0}function Ia(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ks(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Vl(){this.Yb=function(){var f=[];return function v(N,E,I){for(var B=I[E],z=0;z<B&&(N.push(I.length>E+1?[]:0),!(I.length<E+1));z++)v(N[z],E+1,I)}(f,0,[3,11]),f}()}function $c(){this.jb=s(3),this.Wc=o([4,8],Vl),this.Xc=o([4,17],Vl)}function Uc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function Hl(){this.Na=this.la=0}function Vc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new Oa),this.aa=0,this.l=new bs}function Wl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Wc(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new Ra,this.Kc=new Ia,this.ed=new Uc,this.Qa=new Ks,this.Ic=this.$c=this.Aa=0,this.D=new Hc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ie),this.ia=0,this.pb=a(4,Vc),this.Pa=new $c,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wl),this.Hd=0,this.rb=Array(new Hl),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oa),this.L=this.aa=0,this.gd=o([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $0(){var f=new Wc;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,gd||(gd=qh)),f}function Nn(f,v,N){return f.a==0&&(f.a=v,f.sc=N,f.cb=0),0}function Mh(f,v,N){return 3<=N&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function Fh(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return Nn(f,2,"null VP8Io passed to VP8GetHeaders()");var N=v.data,E=v.w,I=v.ha;if(4>I)return Nn(f,7,"Truncated header.");var B=N[E+0]|N[E+1]<<8|N[E+2]<<16,z=f.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return Nn(f,3,"Incorrect keyframe parameters.");if(!z.yd)return Nn(f,4,"Frame not displayable.");E+=3,I-=3;var W=f.Kc;if(z.Rb){if(7>I)return Nn(f,7,"cannot parse picture header");if(!Mh(N,E,I))return Nn(f,3,"Bad code word");W.c=16383&(N[E+4]<<8|N[E+3]),W.Td=N[E+4]>>6,W.i=16383&(N[E+6]<<8|N[E+5]),W.Ud=N[E+6]>>6,E+=7,I-=7,f.za=W.c+15>>4,f.Ub=W.i+15>>4,v.width=W.c,v.height=W.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((B=f.Pa).jb,0,255,B.jb.length),t((B=f.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(z.ub>I)return Nn(f,7,"bad partition length");U(B=f.m,N,E,z.ub),E+=z.ub,I-=z.ub,z.Rb&&(W.Ld=se(B),W.Kd=se(B)),W=f.Qa;var G,ee=f.Pa;if(t(B!=null),t(W!=null),W.Cb=se(B),W.Cb){if(W.Bb=se(B),se(B)){for(W.Fb=se(B),G=0;4>G;++G)W.Zb[G]=se(B)?X(B,7):0;for(G=0;4>G;++G)W.Lb[G]=se(B)?X(B,6):0}if(W.Bb)for(G=0;3>G;++G)ee.jb[G]=se(B)?M(B,8):255}else W.Bb=0;if(B.Ka)return Nn(f,3,"cannot parse segment header");if((W=f.ed).zd=se(B),W.Tb=M(B,6),W.wb=M(B,3),W.Pc=se(B),W.Pc&&se(B)){for(ee=0;4>ee;++ee)se(B)&&(W.vd[ee]=X(B,6));for(ee=0;4>ee;++ee)se(B)&&(W.od[ee]=X(B,6))}if(f.L=W.Tb==0?0:W.zd?1:2,B.Ka)return Nn(f,3,"cannot parse filter header");var le=I;if(I=G=E,E=G+le,W=le,f.Xb=(1<<M(f.m,2))-1,le<3*(ee=f.Xb))N=7;else{for(G+=3*ee,W-=3*ee,le=0;le<ee;++le){var me=N[I+0]|N[I+1]<<8|N[I+2]<<16;me>W&&(me=W),U(f.Jc[+le],N,G,me),G+=me,W-=me,I+=3}U(f.Jc[+ee],N,G,W),N=G<E?0:5}if(N!=0)return Nn(f,N,"cannot parse partitions");for(N=M(G=f.m,7),I=se(G)?X(G,4):0,E=se(G)?X(G,4):0,W=se(G)?X(G,4):0,ee=se(G)?X(G,4):0,G=se(G)?X(G,4):0,le=f.Qa,me=0;4>me;++me){if(le.Cb){var ge=le.Zb[me];le.Fb||(ge+=N)}else{if(0<me){f.pb[me]=f.pb[0];continue}ge=N}var fe=f.pb[me];fe.Sc[0]=h1[Jr(ge+I,127)],fe.Sc[1]=p1[Jr(ge+0,127)],fe.Eb[0]=2*h1[Jr(ge+E,127)],fe.Eb[1]=101581*p1[Jr(ge+W,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=h1[Jr(ge+ee,117)],fe.Qc[1]=p1[Jr(ge+G,127)],fe.lc=ge+G}if(!z.Rb)return Nn(f,4,"Not a key frame.");for(se(B),z=f.Pa,N=0;4>N;++N){for(I=0;8>I;++I)for(E=0;3>E;++E)for(W=0;11>W;++W)ee=ce(B,qM[N][I][E][W])?M(B,8):MM[N][I][E][W],z.Wc[N][I].Yb[E][W]=ee;for(I=0;17>I;++I)z.Xc[N][I]=z.Wc[N][DM[I]]}return f.kc=se(B),f.kc&&(f.Bd=M(B,8)),f.cb=1}function qh(f,v,N,E,I,B,z){var W=v[I].Yb[N];for(N=0;16>I;++I){if(!ce(f,W[N+0]))return I;for(;!ce(f,W[N+1]);)if(W=v[++I].Yb[0],N=0,I==16)return 16;var G=v[I+1].Yb;if(ce(f,W[N+2])){var ee=f,le=0;if(ce(ee,(ge=W)[(me=N)+3]))if(ce(ee,ge[me+6])){for(W=0,me=2*(le=ce(ee,ge[me+8]))+(ge=ce(ee,ge[me+9+le])),le=0,ge=TM[me];ge[W];++W)le+=le+ce(ee,ge[W]);le+=3+(8<<me)}else ce(ee,ge[me+7])?(le=7+2*ce(ee,165),le+=ce(ee,145)):le=5+ce(ee,159);else le=ce(ee,ge[me+4])?3+ce(ee,ge[me+5]):2;W=G[2]}else le=1,W=G[1];G=z+OM[I],0>(ee=f).b&&ae(ee);var me,ge=ee.b,fe=(me=ee.Ca>>1)-(ee.I>>ge)>>31;--ee.b,ee.Ca+=fe,ee.Ca|=1,ee.I-=(me+1&fe)<<ge,B[G]=((le^fe)-fe)*E[(0<I)+0]}return 16}function Gc(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function U0(f,v){if(f==null)return 0;if(v==null)return Nn(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Fh(f,v))return 0;if(t(f.cb),v.ac==null||v.ac(v)){v.ob&&(f.L=0);var N=fp[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=v.v-N>>4,f.zb=v.j-N>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=v.o+15+N>>4,f.Hb=v.va+15+N>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var E=f.ed;for(N=0;4>N;++N){var I;if(f.Qa.Cb){var B=f.Qa.Lb[N];f.Qa.Fb||(B+=E.Tb)}else B=E.Tb;for(I=0;1>=I;++I){var z=f.gd[N][I],W=B;if(E.Pc&&(W+=E.vd[0],I&&(W+=E.od[0])),0<(W=0>W?0:63<W?63:W)){var G=W;0<E.wb&&(G=4<E.wb?G>>2:G>>1)>9-E.wb&&(G=9-E.wb),1>G&&(G=1),z.dd=G,z.tc=2*W+G,z.ld=40<=W?2:15<=W?1:0}else z.tc=0;z.La=I}}}N=0}else Nn(f,6,"Frame setup failed"),N=f.a;if(N=N==0){if(N){f.$c=0,0<f.Aa||(f.Ic=JM);e:{N=f.Ic,E=4*(G=f.za);var ee=32*G,le=G+1,me=0<f.L?G*(0<f.Aa?2:1):0,ge=(f.Aa==2?2:1)*G;if((z=E+832+(I=3*(16*N+fp[f.L])/2*ee)+(B=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=z)N=0;else{if(z>f.Vb){if(f.Vb=0,f.Ec=s(z),f.Fc=0,f.Ec==null){N=Nn(f,1,"no memory during frame initialization.");break e}f.Vb=z}z=f.Ec,W=f.Fc,f.Ac=z,f.Bc=W,W+=E,f.Gd=a(ee,Wl),f.Hd=0,f.rb=a(le+1,Hl),f.sb=1,f.wa=me?a(me,Ta):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=G),t(!0),f.oc=z,f.pc=W,W+=832,f.ya=a(ge,Oa),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=G),f.R=16*G,f.B=8*G,G=(ee=fp[f.L])*f.R,ee=ee/2*f.B,f.sa=z,f.ta=W+G,f.qa=f.sa,f.ra=f.ta+16*N*f.R+ee,f.Ha=f.qa,f.Ia=f.ra+8*N*f.B+ee,f.$c=0,W+=I,f.mb=B?z:null,f.nb=B?W:null,t(W+B<=f.Fc+f.Vb),Gc(f),i(f.Ac,f.Bc,0,E),N=1}}if(N){if(v.ka=0,v.y=f.sa,v.O=f.ta,v.f=f.qa,v.N=f.ra,v.ea=f.Ha,v.Vd=f.Ia,v.fa=f.R,v.Rc=f.B,v.F=null,v.J=0,!rp){for(N=-255;255>=N;++N)qn[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)ea[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)md[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)cu[255+N]=0>N?0:255<N?255:N;rp=1}ou=W0,Qs=V0,fd=Bh,xr=H0,Si=zh,Sn=Dh,lu=Qc,np=Zo,hd=s1,Jo=ed,Qo=i1,za=Jl,el=td,uu=Yh,tl=Zh,$a=_s,pd=Ys,ki=r1,Vi[0]=ws,Vi[1]=G0,Vi[2]=X0,Vi[3]=J0,Vi[4]=Vh,Vi[5]=Yl,Vi[6]=Hh,Vi[7]=Yc,Vi[8]=e1,Vi[9]=Q0,Ua[0]=$h,Ua[1]=Z0,Ua[2]=Zs,Ua[3]=Kl,Ua[4]=sr,Ua[5]=Y0,Ua[6]=Uh,ta[0]=Ma,ta[1]=K0,ta[2]=t1,ta[3]=Xc,ta[4]=Ko,ta[5]=n1,ta[6]=Jc,N=1}else N=0}N&&(N=function(fe,Ee){for(fe.M=0;fe.M<fe.Va;++fe.M){var be,ue=fe.Jc[fe.M&fe.Xb],de=fe.m,Ne=fe;for(be=0;be<Ne.za;++be){var Ce=de,ke=Ne,He=ke.Ac,Be=ke.Bc+4*be,it=ke.zc,$e=ke.ya[ke.aa+be];if(ke.Qa.Bb?$e.$b=ce(Ce,ke.Pa.jb[0])?2+ce(Ce,ke.Pa.jb[2]):ce(Ce,ke.Pa.jb[1]):$e.$b=0,ke.kc&&($e.Ad=ce(Ce,ke.Bd)),$e.Za=!ce(Ce,145)+0,$e.Za){var Dt=$e.Ob,$t=0;for(ke=0;4>ke;++ke){var Ot,Ct=it[0+ke];for(Ot=0;4>Ot;++Ot){Ct=FM[He[Be+Ot]][Ct];for(var Xt=Y4[ce(Ce,Ct[0])];0<Xt;)Xt=Y4[2*Xt+ce(Ce,Ct[Xt])];Ct=-Xt,He[Be+Ot]=Ct}r(Dt,$t,He,Be,4),$t+=4,it[0+ke]=Ct}}else Ct=ce(Ce,156)?ce(Ce,128)?1:3:ce(Ce,163)?2:0,$e.Ob[0]=Ct,i(He,Be,Ct,4),i(it,0,Ct,4);$e.Dd=ce(Ce,142)?ce(Ce,114)?ce(Ce,183)?1:3:2:0}if(Ne.m.Ka)return Nn(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(Ne=ue,Ce=(de=fe).rb[de.sb-1],He=de.rb[de.sb+de.ja],be=de.ya[de.aa+de.ja],Be=de.kc?be.Ad:0)Ce.la=He.la=0,be.Za||(Ce.Na=He.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Kt,wt;if(Ce=He,He=Ne,Be=de.Pa.Xc,it=de.ya[de.aa+de.ja],$e=de.pb[it.$b],ke=it.ad,Dt=0,$t=de.rb[de.sb-1],Ct=Ot=0,i(ke,Dt,0,384),it.Za)var Pn=0,Or=Be[3];else{Xt=s(16);var Rn=Ce.Na+$t.Na;if(Rn=gd(He,Be[1],Rn,$e.Eb,0,Xt,0),Ce.Na=$t.Na=(0<Rn)+0,1<Rn)ou(Xt,0,ke,Dt);else{var Mr=Xt[0]+3>>3;for(Xt=0;256>Xt;Xt+=16)ke[Dt+Xt]=Mr}Pn=1,Or=Be[0]}var Ut=15&Ce.la,ei=15&$t.la;for(Xt=0;4>Xt;++Xt){var ti=1&ei;for(Mr=wt=0;4>Mr;++Mr)Ut=Ut>>1|(ti=(Rn=gd(He,Or,Rn=ti+(1&Ut),$e.Sc,Pn,ke,Dt))>Pn)<<7,wt=wt<<2|(3<Rn?3:1<Rn?2:ke[Dt+0]!=0),Dt+=16;Ut>>=4,ei=ei>>1|ti<<7,Ot=(Ot<<8|wt)>>>0}for(Or=Ut,Pn=ei>>4,Kt=0;4>Kt;Kt+=2){for(wt=0,Ut=Ce.la>>4+Kt,ei=$t.la>>4+Kt,Xt=0;2>Xt;++Xt){for(ti=1&ei,Mr=0;2>Mr;++Mr)Rn=ti+(1&Ut),Ut=Ut>>1|(ti=0<(Rn=gd(He,Be[2],Rn,$e.Qc,0,ke,Dt)))<<3,wt=wt<<2|(3<Rn?3:1<Rn?2:ke[Dt+0]!=0),Dt+=16;Ut>>=2,ei=ei>>1|ti<<5}Ct|=wt<<4*Kt,Or|=Ut<<4<<Kt,Pn|=(240&ei)<<Kt}Ce.la=Or,$t.la=Pn,it.Hc=Ot,it.Gc=Ct,it.ia=43690&Ct?0:$e.ia,Be=!(Ot|Ct)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[be.$b][be.Za],de.wa[de.Y+de.ja].La|=!Be),Ne.Ka)return Nn(fe,7,"Premature end-of-file encountered.")}if(Gc(fe),de=Ee,Ne=1,be=(ue=fe).D,Ce=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(be.M=ue.M,be.uc=Ce,od(ue,be),Ne=1,be=(wt=ue.D).Nb,Ce=(Ct=fp[ue.L])*ue.R,He=Ct/2*ue.B,Xt=16*be*ue.R,Mr=8*be*ue.B,Be=ue.sa,it=ue.ta-Ce+Xt,$e=ue.qa,ke=ue.ra-He+Mr,Dt=ue.Ha,$t=ue.Ia-He+Mr,ei=(Ut=wt.M)==0,Ot=Ut>=ue.Va-1,ue.Aa==2&&od(ue,wt),wt.uc)for(ti=(Rn=ue).D.M,t(Rn.D.uc),wt=Rn.yb;wt<Rn.Hb;++wt){Pn=wt,Or=ti;var Vn=(Jn=(vn=Rn).D).Nb;Kt=vn.R;var Jn=Jn.wa[Jn.Y+Pn],Nr=vn.sa,ji=vn.ta+16*Vn*Kt+16*Pn,Ns=Jn.dd,Hn=Jn.tc;if(Hn!=0)if(t(3<=Hn),vn.L==1)0<Pn&&$a(Nr,ji,Kt,Hn+4),Jn.La&&ki(Nr,ji,Kt,Hn),0<Or&&tl(Nr,ji,Kt,Hn+4),Jn.La&&pd(Nr,ji,Kt,Hn);else{var na=vn.B,nl=vn.qa,du=vn.ra+8*Vn*na+8*Pn,Ha=vn.Ha,vn=vn.Ia+8*Vn*na+8*Pn;Vn=Jn.ld,0<Pn&&(np(Nr,ji,Kt,Hn+4,Ns,Vn),Jo(nl,du,Ha,vn,na,Hn+4,Ns,Vn)),Jn.La&&(za(Nr,ji,Kt,Hn,Ns,Vn),uu(nl,du,Ha,vn,na,Hn,Ns,Vn)),0<Or&&(lu(Nr,ji,Kt,Hn+4,Ns,Vn),hd(nl,du,Ha,vn,na,Hn+4,Ns,Vn)),Jn.La&&(Qo(Nr,ji,Kt,Hn,Ns,Vn),el(nl,du,Ha,vn,na,Hn,Ns,Vn))}}if(ue.ia&&alert("todo:DitherRow"),de.put!=null){if(wt=16*Ut,Ut=16*(Ut+1),ei?(de.y=ue.sa,de.O=ue.ta+Xt,de.f=ue.qa,de.N=ue.ra+Mr,de.ea=ue.Ha,de.W=ue.Ia+Mr):(wt-=Ct,de.y=Be,de.O=it,de.f=$e,de.N=ke,de.ea=Dt,de.W=$t),Ot||(Ut-=Ct),Ut>de.o&&(Ut=de.o),de.F=null,de.J=null,ue.Fa!=null&&0<ue.Fa.length&&wt<Ut&&(de.J=sd(ue,de,wt,Ut-wt),de.F=ue.mb,de.F==null&&de.F.length==0)){Ne=Nn(ue,3,"Could not decode alpha data.");break e}wt<de.j&&(Ct=de.j-wt,wt=de.j,t(!(1&Ct)),de.O+=ue.R*Ct,de.N+=ue.B*(Ct>>1),de.W+=ue.B*(Ct>>1),de.F!=null&&(de.J+=de.width*Ct)),wt<Ut&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=wt-de.j,de.U=de.va-de.v,de.T=Ut-wt,Ne=de.put(de))}be+1!=ue.Ic||Ot||(r(ue.sa,ue.ta-Ce,Be,it+16*ue.R,Ce),r(ue.qa,ue.ra-He,$e,ke+8*ue.B,He),r(ue.Ha,ue.Ia-He,Dt,$t+8*ue.B,He))}if(!Ne)return Nn(fe,6,"Output aborted.")}return 1}(f,v)),v.bc!=null&&v.bc(v),N&=1}return N?(f.cb=0,N):0}function zi(f,v,N,E,I){I=f[v+N+32*E]+(I>>3),f[v+N+32*E]=-256&I?0>I?0:255:I}function Gl(f,v,N,E,I,B){zi(f,v,0,N,E+I),zi(f,v,1,N,E+B),zi(f,v,2,N,E-B),zi(f,v,3,N,E-I)}function Rr(f){return(20091*f>>16)+f}function Kc(f,v,N,E){var I,B=0,z=s(16);for(I=0;4>I;++I){var W=f[v+0]+f[v+8],G=f[v+0]-f[v+8],ee=(35468*f[v+4]>>16)-Rr(f[v+12]),le=Rr(f[v+4])+(35468*f[v+12]>>16);z[B+0]=W+le,z[B+1]=G+ee,z[B+2]=G-ee,z[B+3]=W-le,B+=4,v++}for(I=B=0;4>I;++I)W=(f=z[B+0]+4)+z[B+8],G=f-z[B+8],ee=(35468*z[B+4]>>16)-Rr(z[B+12]),zi(N,E,0,0,W+(le=Rr(z[B+4])+(35468*z[B+12]>>16))),zi(N,E,1,0,G+ee),zi(N,E,2,0,G-ee),zi(N,E,3,0,W-le),B++,E+=32}function Dh(f,v,N,E){var I=f[v+0]+4,B=35468*f[v+4]>>16,z=Rr(f[v+4]),W=35468*f[v+1]>>16;Gl(N,E,0,I+z,f=Rr(f[v+1]),W),Gl(N,E,1,I+B,f,W),Gl(N,E,2,I-B,f,W),Gl(N,E,3,I-z,f,W)}function V0(f,v,N,E,I){Kc(f,v,N,E),I&&Kc(f,v+16,N,E+4)}function Bh(f,v,N,E){Qs(f,v+0,N,E,1),Qs(f,v+32,N,E+128,1)}function H0(f,v,N,E){var I;for(f=f[v+0]+4,I=0;4>I;++I)for(v=0;4>v;++v)zi(N,E,v,I,f)}function zh(f,v,N,E){f[v+0]&&xr(f,v+0,N,E),f[v+16]&&xr(f,v+16,N,E+4),f[v+32]&&xr(f,v+32,N,E+128),f[v+48]&&xr(f,v+48,N,E+128+4)}function W0(f,v,N,E){var I,B=s(16);for(I=0;4>I;++I){var z=f[v+0+I]+f[v+12+I],W=f[v+4+I]+f[v+8+I],G=f[v+4+I]-f[v+8+I],ee=f[v+0+I]-f[v+12+I];B[0+I]=z+W,B[8+I]=z-W,B[4+I]=ee+G,B[12+I]=ee-G}for(I=0;4>I;++I)z=(f=B[0+4*I]+3)+B[3+4*I],W=B[1+4*I]+B[2+4*I],G=B[1+4*I]-B[2+4*I],ee=f-B[3+4*I],N[E+0]=z+W>>3,N[E+16]=ee+G>>3,N[E+32]=z-W>>3,N[E+48]=ee-G>>3,E+=64}function Zc(f,v,N){var E,I=v-32,B=Qr,z=255-f[I-1];for(E=0;E<N;++E){var W,G=B,ee=z+f[v-1];for(W=0;W<N;++W)f[v+W]=G[ee+f[I+W]];v+=32}}function G0(f,v){Zc(f,v,4)}function K0(f,v){Zc(f,v,8)}function Z0(f,v){Zc(f,v,16)}function Zs(f,v){var N;for(N=0;16>N;++N)r(f,v+32*N,f,v-32,16)}function Kl(f,v){var N;for(N=16;0<N;--N)i(f,v,f[v-1],16),v+=32}function Zl(f,v,N){var E;for(E=0;16>E;++E)i(v,N+32*E,f,16)}function $h(f,v){var N,E=16;for(N=0;16>N;++N)E+=f[v-1+32*N]+f[v+N-32];Zl(E>>5,f,v)}function sr(f,v){var N,E=8;for(N=0;16>N;++N)E+=f[v-1+32*N];Zl(E>>4,f,v)}function Y0(f,v){var N,E=8;for(N=0;16>N;++N)E+=f[v+N-32];Zl(E>>4,f,v)}function Uh(f,v){Zl(128,f,v)}function ht(f,v,N){return f+2*v+N+2>>2}function X0(f,v){var N,E=v-32;for(E=new Uint8Array([ht(f[E-1],f[E+0],f[E+1]),ht(f[E+0],f[E+1],f[E+2]),ht(f[E+1],f[E+2],f[E+3]),ht(f[E+2],f[E+3],f[E+4])]),N=0;4>N;++N)r(f,v+32*N,E,0,E.length)}function J0(f,v){var N=f[v-1],E=f[v-1+32],I=f[v-1+64],B=f[v-1+96];ye(f,v+0,16843009*ht(f[v-1-32],N,E)),ye(f,v+32,16843009*ht(N,E,I)),ye(f,v+64,16843009*ht(E,I,B)),ye(f,v+96,16843009*ht(I,B,B))}function ws(f,v){var N,E=4;for(N=0;4>N;++N)E+=f[v+N-32]+f[v-1+32*N];for(E>>=3,N=0;4>N;++N)i(f,v+32*N,E,4)}function Vh(f,v){var N=f[v-1+0],E=f[v-1+32],I=f[v-1+64],B=f[v-1-32],z=f[v+0-32],W=f[v+1-32],G=f[v+2-32],ee=f[v+3-32];f[v+0+96]=ht(E,I,f[v-1+96]),f[v+1+96]=f[v+0+64]=ht(N,E,I),f[v+2+96]=f[v+1+64]=f[v+0+32]=ht(B,N,E),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=ht(z,B,N),f[v+3+64]=f[v+2+32]=f[v+1+0]=ht(W,z,B),f[v+3+32]=f[v+2+0]=ht(G,W,z),f[v+3+0]=ht(ee,G,W)}function Hh(f,v){var N=f[v+1-32],E=f[v+2-32],I=f[v+3-32],B=f[v+4-32],z=f[v+5-32],W=f[v+6-32],G=f[v+7-32];f[v+0+0]=ht(f[v+0-32],N,E),f[v+1+0]=f[v+0+32]=ht(N,E,I),f[v+2+0]=f[v+1+32]=f[v+0+64]=ht(E,I,B),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=ht(I,B,z),f[v+3+32]=f[v+2+64]=f[v+1+96]=ht(B,z,W),f[v+3+64]=f[v+2+96]=ht(z,W,G),f[v+3+96]=ht(W,G,G)}function Yl(f,v){var N=f[v-1+0],E=f[v-1+32],I=f[v-1+64],B=f[v-1-32],z=f[v+0-32],W=f[v+1-32],G=f[v+2-32],ee=f[v+3-32];f[v+0+0]=f[v+1+64]=B+z+1>>1,f[v+1+0]=f[v+2+64]=z+W+1>>1,f[v+2+0]=f[v+3+64]=W+G+1>>1,f[v+3+0]=G+ee+1>>1,f[v+0+96]=ht(I,E,N),f[v+0+64]=ht(E,N,B),f[v+0+32]=f[v+1+96]=ht(N,B,z),f[v+1+32]=f[v+2+96]=ht(B,z,W),f[v+2+32]=f[v+3+96]=ht(z,W,G),f[v+3+32]=ht(W,G,ee)}function Yc(f,v){var N=f[v+0-32],E=f[v+1-32],I=f[v+2-32],B=f[v+3-32],z=f[v+4-32],W=f[v+5-32],G=f[v+6-32],ee=f[v+7-32];f[v+0+0]=N+E+1>>1,f[v+1+0]=f[v+0+64]=E+I+1>>1,f[v+2+0]=f[v+1+64]=I+B+1>>1,f[v+3+0]=f[v+2+64]=B+z+1>>1,f[v+0+32]=ht(N,E,I),f[v+1+32]=f[v+0+96]=ht(E,I,B),f[v+2+32]=f[v+1+96]=ht(I,B,z),f[v+3+32]=f[v+2+96]=ht(B,z,W),f[v+3+64]=ht(z,W,G),f[v+3+96]=ht(W,G,ee)}function Q0(f,v){var N=f[v-1+0],E=f[v-1+32],I=f[v-1+64],B=f[v-1+96];f[v+0+0]=N+E+1>>1,f[v+2+0]=f[v+0+32]=E+I+1>>1,f[v+2+32]=f[v+0+64]=I+B+1>>1,f[v+1+0]=ht(N,E,I),f[v+3+0]=f[v+1+32]=ht(E,I,B),f[v+3+32]=f[v+1+64]=ht(I,B,B),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=B}function e1(f,v){var N=f[v-1+0],E=f[v-1+32],I=f[v-1+64],B=f[v-1+96],z=f[v-1-32],W=f[v+0-32],G=f[v+1-32],ee=f[v+2-32];f[v+0+0]=f[v+2+32]=N+z+1>>1,f[v+0+32]=f[v+2+64]=E+N+1>>1,f[v+0+64]=f[v+2+96]=I+E+1>>1,f[v+0+96]=B+I+1>>1,f[v+3+0]=ht(W,G,ee),f[v+2+0]=ht(z,W,G),f[v+1+0]=f[v+3+32]=ht(N,z,W),f[v+1+32]=f[v+3+64]=ht(E,N,z),f[v+1+64]=f[v+3+96]=ht(I,E,N),f[v+1+96]=ht(B,I,E)}function t1(f,v){var N;for(N=0;8>N;++N)r(f,v+32*N,f,v-32,8)}function Xc(f,v){var N;for(N=0;8>N;++N)i(f,v,f[v-1],8),v+=32}function Go(f,v,N){var E;for(E=0;8>E;++E)i(v,N+32*E,f,8)}function Ma(f,v){var N,E=8;for(N=0;8>N;++N)E+=f[v+N-32]+f[v-1+32*N];Go(E>>4,f,v)}function n1(f,v){var N,E=4;for(N=0;8>N;++N)E+=f[v+N-32];Go(E>>3,f,v)}function Ko(f,v){var N,E=4;for(N=0;8>N;++N)E+=f[v-1+32*N];Go(E>>3,f,v)}function Jc(f,v){Go(128,f,v)}function Xl(f,v,N){var E=f[v-N],I=f[v+0],B=3*(I-E)+l1[1020+f[v-2*N]-f[v+N]],z=ip[112+(B+4>>3)];f[v-N]=Qr[255+E+ip[112+(B+3>>3)]],f[v+0]=Qr[255+I-z]}function Wh(f,v,N,E){var I=f[v+0],B=f[v+N];return Ai[255+f[v-2*N]-f[v-N]]>E||Ai[255+B-I]>E}function Gh(f,v,N,E){return 4*Ai[255+f[v-N]-f[v+0]]+Ai[255+f[v-2*N]-f[v+N]]<=E}function Kh(f,v,N,E,I){var B=f[v-3*N],z=f[v-2*N],W=f[v-N],G=f[v+0],ee=f[v+N],le=f[v+2*N],me=f[v+3*N];return 4*Ai[255+W-G]+Ai[255+z-ee]>E?0:Ai[255+f[v-4*N]-B]<=I&&Ai[255+B-z]<=I&&Ai[255+z-W]<=I&&Ai[255+me-le]<=I&&Ai[255+le-ee]<=I&&Ai[255+ee-G]<=I}function Zh(f,v,N,E){var I=2*E+1;for(E=0;16>E;++E)Gh(f,v+E,N,I)&&Xl(f,v+E,N)}function _s(f,v,N,E){var I=2*E+1;for(E=0;16>E;++E)Gh(f,v+E*N,1,I)&&Xl(f,v+E*N,1)}function Ys(f,v,N,E){var I;for(I=3;0<I;--I)Zh(f,v+=4*N,N,E)}function r1(f,v,N,E){var I;for(I=3;0<I;--I)_s(f,v+=4,N,E)}function Fa(f,v,N,E,I,B,z,W){for(B=2*B+1;0<I--;){if(Kh(f,v,N,B,z))if(Wh(f,v,N,W))Xl(f,v,N);else{var G=f,ee=v,le=N,me=G[ee-2*le],ge=G[ee-le],fe=G[ee+0],Ee=G[ee+le],be=G[ee+2*le],ue=27*(Ne=l1[1020+3*(fe-ge)+l1[1020+me-Ee]])+63>>7,de=18*Ne+63>>7,Ne=9*Ne+63>>7;G[ee-3*le]=Qr[255+G[ee-3*le]+Ne],G[ee-2*le]=Qr[255+me+de],G[ee-le]=Qr[255+ge+ue],G[ee+0]=Qr[255+fe-ue],G[ee+le]=Qr[255+Ee-de],G[ee+2*le]=Qr[255+be-Ne]}v+=E}}function $i(f,v,N,E,I,B,z,W){for(B=2*B+1;0<I--;){if(Kh(f,v,N,B,z))if(Wh(f,v,N,W))Xl(f,v,N);else{var G=f,ee=v,le=N,me=G[ee-le],ge=G[ee+0],fe=G[ee+le],Ee=ip[112+((be=3*(ge-me))+4>>3)],be=ip[112+(be+3>>3)],ue=Ee+1>>1;G[ee-2*le]=Qr[255+G[ee-2*le]+ue],G[ee-le]=Qr[255+me+be],G[ee+0]=Qr[255+ge-Ee],G[ee+le]=Qr[255+fe-ue]}v+=E}}function Qc(f,v,N,E,I,B){Fa(f,v,N,1,16,E,I,B)}function Zo(f,v,N,E,I,B){Fa(f,v,1,N,16,E,I,B)}function i1(f,v,N,E,I,B){var z;for(z=3;0<z;--z)$i(f,v+=4*N,N,1,16,E,I,B)}function Jl(f,v,N,E,I,B){var z;for(z=3;0<z;--z)$i(f,v+=4,1,N,16,E,I,B)}function s1(f,v,N,E,I,B,z,W){Fa(f,v,I,1,8,B,z,W),Fa(N,E,I,1,8,B,z,W)}function ed(f,v,N,E,I,B,z,W){Fa(f,v,1,I,8,B,z,W),Fa(N,E,1,I,8,B,z,W)}function td(f,v,N,E,I,B,z,W){$i(f,v+4*I,I,1,8,B,z,W),$i(N,E+4*I,I,1,8,B,z,W)}function Yh(f,v,N,E,I,B,z,W){$i(f,v+4,1,I,8,B,z,W),$i(N,E+4,1,I,8,B,z,W)}function Ql(){this.ba=new br,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xh(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new A,this.yc=new T}function a1(){this.xb=this.a=0,this.l=new bs,this.ca=new br,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xh,this.ab=0,this.gc=a(4,rd),this.Oc=0}function eu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yo(f,v,N,E,I,B,z){for(f=f==null?0:f[v+0],v=0;v<z;++v)I[B+v]=f+N[E+v]&255,f=I[B+v]}function id(f,v,N,E,I,B,z){var W;if(f==null)Yo(null,null,N,E,I,B,z);else for(W=0;W<z;++W)I[B+W]=f[v+W]+N[E+W]&255}function qa(f,v,N,E,I,B,z){if(f==null)Yo(null,null,N,E,I,B,z);else{var W,G=f[v+0],ee=G,le=G;for(W=0;W<z;++W)ee=le+(G=f[v+W])-ee,le=N[E+W]+(-256&ee?0>ee?0:255:ee)&255,ee=G,I[B+W]=le}}function sd(f,v,N,E){var I=v.width,B=v.o;if(t(f!=null&&v!=null),0>N||0>=E||N+E>B)return null;if(!f.Cc){if(f.ga==null){var z;if(f.ga=new eu,(z=f.ga==null)||(z=v.width*v.o,t(f.Gb.length==0),f.Gb=s(z),f.Uc=0,f.Gb==null?z=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,z=1),z=!z),!z){z=f.ga;var W=f.Fa,G=f.P,ee=f.qc,le=f.mb,me=f.nb,ge=G+1,fe=ee-1,Ee=z.l;if(t(W!=null&&le!=null&&v!=null),Va[0]=null,Va[1]=Yo,Va[2]=id,Va[3]=qa,z.ca=le,z.tb=me,z.c=v.width,z.i=v.height,t(0<z.c&&0<z.i),1>=ee)v=0;else if(z.$a=W[G+0]>>0&3,z.Z=W[G+0]>>2&3,z.Lc=W[G+0]>>4&3,G=W[G+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||G)v=0;else if(Ee.put=yi,Ee.ac=Fn,Ee.bc=bi,Ee.ma=z,Ee.width=v.width,Ee.height=v.height,Ee.Da=v.Da,Ee.v=v.v,Ee.va=v.va,Ee.j=v.j,Ee.o=v.o,z.$a)e:{t(z.$a==1),v=Pr();t:for(;;){if(v==null){v=0;break e}if(t(z!=null),z.mc=v,v.c=z.c,v.i=z.i,v.l=z.l,v.l.ma=z,v.l.width=z.c,v.l.height=z.i,v.a=0,F(v.m,W,ge,fe),!xi(z.c,z.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Bi(v.s)?(z.ic=1,W=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(W),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(z.ic=0,v=Gs(v,z.c)),!v))break t;v=1;break e}z.mc=null,v=0}else v=fe>=z.c*z.i;z=!v}if(z)return null;f.ga.Lc!=1?f.Ga=0:E=B-N}t(f.ga!=null),t(N+E<=B);e:{if(v=(W=f.ga).c,B=W.l.o,W.$a==0){if(ge=f.rc,fe=f.Vc,Ee=f.Fa,G=f.P+1+N*v,ee=f.mb,le=f.nb+N*v,t(G<=f.P+f.qc),W.Z!=0)for(t(Va[W.Z]!=null),z=0;z<E;++z)Va[W.Z](ge,fe,Ee,G,ee,le,v),ge=ee,fe=le,le+=v,G+=v;else for(z=0;z<E;++z)r(ee,le,Ee,G,v),ge=ee,fe=le,le+=v,G+=v;f.rc=ge,f.Vc=fe}else{if(t(W.mc!=null),v=N+E,t((z=W.mc)!=null),t(v<=z.i),z.C>=v)v=1;else if(W.ic||pe(),W.ic){W=z.V,ge=z.Ba,fe=z.c;var be=z.i,ue=(Ee=1,G=z.$/fe,ee=z.$%fe,le=z.m,me=z.s,z.$),de=fe*be,Ne=fe*v,Ce=me.wc,ke=ue<Ne?mn(me,ee,G):null;t(ue<=de),t(v<=be),t(Bi(me));t:for(;;){for(;!le.h&&ue<Ne;){if(ee&Ce||(ke=mn(me,ee,G)),t(ke!=null),ne(le),256>(be=ir(ke.G[0],ke.H[0],le)))W[ge+ue]=be,++ue,++ee>=fe&&(ee=0,++G<=v&&!(G%16)&&Lr(z,G));else{if(!(280>be)){Ee=0;break t}be=Zr(be-256,le);var He,Be=ir(ke.G[4],ke.H[4],le);if(ne(le),!(ue>=(Be=wi(fe,Be=Zr(Be,le)))&&de-ue>=be)){Ee=0;break t}for(He=0;He<be;++He)W[ge+ue+He]=W[ge+ue+He-Be];for(ue+=be,ee+=be;ee>=fe;)ee-=fe,++G<=v&&!(G%16)&&Lr(z,G);ue<Ne&&ee&Ce&&(ke=mn(me,ee,G))}t(le.h==K(le))}Lr(z,G>v?v:G);break t}!Ee||le.h&&ue<de?(Ee=0,z.a=le.h?5:3):z.$=ue,v=Ee}else v=Xr(z,z.V,z.Ba,z.c,z.i,v,Pa);if(!v){E=0;break e}}N+E>=B&&(f.Cc=1),E=1}if(!E)return null;if(f.Cc&&((E=f.ga)!=null&&(E.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+N*I}function x(f,v,N,E,I,B){for(;0<I--;){var z,W=f,G=v+(N?1:0),ee=f,le=v+(N?0:3);for(z=0;z<E;++z){var me=ee[le+4*z];me!=255&&(me*=32897,W[G+4*z+0]=W[G+4*z+0]*me>>23,W[G+4*z+1]=W[G+4*z+1]*me>>23,W[G+4*z+2]=W[G+4*z+2]*me>>23)}v+=B}}function O(f,v,N,E,I){for(;0<E--;){var B;for(B=0;B<N;++B){var z=f[v+2*B+0],W=15&(ee=f[v+2*B+1]),G=4369*W,ee=(240&ee|ee>>4)*G>>16;f[v+2*B+0]=(240&z|z>>4)*G>>16&240|(15&z|z<<4)*G>>16>>4&15,f[v+2*B+1]=240&ee|W}v+=I}}function te(f,v,N,E,I,B,z,W){var G,ee,le=255;for(ee=0;ee<I;++ee){for(G=0;G<E;++G){var me=f[v+G];B[z+4*G]=me,le&=me}v+=N,z+=W}return le!=255}function oe(f,v,N,E,I){var B;for(B=0;B<I;++B)N[E+B]=f[v+B]>>8}function pe(){Ei=x,Qt=O,en=te,kn=oe}function _e(f,v,N){L[f]=function(E,I,B,z,W,G,ee,le,me,ge,fe,Ee,be,ue,de,Ne,Ce){var ke,He=Ce-1>>1,Be=W[G+0]|ee[le+0]<<16,it=me[ge+0]|fe[Ee+0]<<16;t(E!=null);var $e=3*Be+it+131074>>2;for(v(E[I+0],255&$e,$e>>16,be,ue),B!=null&&($e=3*it+Be+131074>>2,v(B[z+0],255&$e,$e>>16,de,Ne)),ke=1;ke<=He;++ke){var Dt=W[G+ke]|ee[le+ke]<<16,$t=me[ge+ke]|fe[Ee+ke]<<16,Ot=Be+Dt+it+$t+524296,Ct=Ot+2*(Dt+it)>>3;$e=Ct+Be>>1,Be=(Ot=Ot+2*(Be+$t)>>3)+Dt>>1,v(E[I+2*ke-1],255&$e,$e>>16,be,ue+(2*ke-1)*N),v(E[I+2*ke-0],255&Be,Be>>16,be,ue+(2*ke-0)*N),B!=null&&($e=Ot+it>>1,Be=Ct+$t>>1,v(B[z+2*ke-1],255&$e,$e>>16,de,Ne+(2*ke-1)*N),v(B[z+2*ke+0],255&Be,Be>>16,de,Ne+(2*ke+0)*N)),Be=Dt,it=$t}1&Ce||($e=3*Be+it+131074>>2,v(E[I+Ce-1],255&$e,$e>>16,be,ue+(Ce-1)*N),B!=null&&($e=3*it+Be+131074>>2,v(B[z+Ce-1],255&$e,$e>>16,de,Ne+(Ce-1)*N)))}}function Pe(){Ci[sp]=zM,Ci[ap]=J4,Ci[G4]=$M,Ci[op]=Q4,Ci[lp]=eN,Ci[u1]=tN,Ci[K4]=UM,Ci[c1]=J4,Ci[d1]=Q4,Ci[up]=eN,Ci[f1]=tN}function Ve(f){return f&~VM?0>f?0:255:f>>nN}function et(f,v){return Ve((19077*f>>8)+(26149*v>>8)-14234)}function yt(f,v,N){return Ve((19077*f>>8)-(6419*v>>8)-(13320*N>>8)+8708)}function mt(f,v){return Ve((19077*f>>8)+(33050*v>>8)-17685)}function It(f,v,N,E,I){E[I+0]=et(f,N),E[I+1]=yt(f,v,N),E[I+2]=mt(f,v)}function ln(f,v,N,E,I){E[I+0]=mt(f,v),E[I+1]=yt(f,v,N),E[I+2]=et(f,N)}function gn(f,v,N,E,I){var B=yt(f,v,N);v=B<<3&224|mt(f,v)>>3,E[I+0]=248&et(f,N)|B>>5,E[I+1]=v}function Ln(f,v,N,E,I){var B=240&mt(f,v)|15;E[I+0]=240&et(f,N)|yt(f,v,N)>>4,E[I+1]=B}function ar(f,v,N,E,I){E[I+0]=255,It(f,v,N,E,I+1)}function Un(f,v,N,E,I){ln(f,v,N,E,I),E[I+3]=255}function Ui(f,v,N,E,I){It(f,v,N,E,I),E[I+3]=255}function Jr(f,v){return 0>f?0:f>v?v:f}function xs(f,v,N){L[f]=function(E,I,B,z,W,G,ee,le,me){for(var ge=le+(-2&me)*N;le!=ge;)v(E[I+0],B[z+0],W[G+0],ee,le),v(E[I+1],B[z+0],W[G+0],ee,le+N),I+=2,++z,++G,le+=2*N;1&me&&v(E[I+0],B[z+0],W[G+0],ee,le)}}function Jh(f,v,N){return N==0?f==0?v==0?6:5:v==0?4:0:N}function ad(f,v,N,E,I){switch(f>>>30){case 3:Qs(v,N,E,I,0);break;case 2:Sn(v,N,E,I);break;case 1:xr(v,N,E,I)}}function od(f,v){var N,E,I=v.M,B=v.Nb,z=f.oc,W=f.pc+40,G=f.oc,ee=f.pc+584,le=f.oc,me=f.pc+600;for(N=0;16>N;++N)z[W+32*N-1]=129;for(N=0;8>N;++N)G[ee+32*N-1]=129,le[me+32*N-1]=129;for(0<I?z[W-1-32]=G[ee-1-32]=le[me-1-32]=129:(i(z,W-32-1,127,21),i(G,ee-32-1,127,9),i(le,me-32-1,127,9)),E=0;E<f.za;++E){var ge=v.ya[v.aa+E];if(0<E){for(N=-1;16>N;++N)r(z,W+32*N-4,z,W+32*N+12,4);for(N=-1;8>N;++N)r(G,ee+32*N-4,G,ee+32*N+4,4),r(le,me+32*N-4,le,me+32*N+4,4)}var fe=f.Gd,Ee=f.Hd+E,be=ge.ad,ue=ge.Hc;if(0<I&&(r(z,W-32,fe[Ee].y,0,16),r(G,ee-32,fe[Ee].f,0,8),r(le,me-32,fe[Ee].ea,0,8)),ge.Za){var de=z,Ne=W-32+16;for(0<I&&(E>=f.za-1?i(de,Ne,fe[Ee].y[15],4):r(de,Ne,fe[Ee+1].y,0,4)),N=0;4>N;N++)de[Ne+128+N]=de[Ne+256+N]=de[Ne+384+N]=de[Ne+0+N];for(N=0;16>N;++N,ue<<=2)de=z,Ne=W+iN[N],Vi[ge.Ob[N]](de,Ne),ad(ue,be,16*+N,de,Ne)}else if(de=Jh(E,I,ge.Ob[0]),Ua[de](z,W),ue!=0)for(N=0;16>N;++N,ue<<=2)ad(ue,be,16*+N,z,W+iN[N]);for(N=ge.Gc,de=Jh(E,I,ge.Dd),ta[de](G,ee),ta[de](le,me),ue=be,de=G,Ne=ee,255&(ge=N>>0)&&(170&ge?fd(ue,256,de,Ne):Si(ue,256,de,Ne)),ge=le,ue=me,255&(N>>=8)&&(170&N?fd(be,320,ge,ue):Si(be,320,ge,ue)),I<f.Ub-1&&(r(fe[Ee].y,0,z,W+480,16),r(fe[Ee].f,0,G,ee+224,8),r(fe[Ee].ea,0,le,me+224,8)),N=8*B*f.B,fe=f.sa,Ee=f.ta+16*E+16*B*f.R,be=f.qa,ge=f.ra+8*E+N,ue=f.Ha,de=f.Ia+8*E+N,N=0;16>N;++N)r(fe,Ee+N*f.R,z,W+32*N,16);for(N=0;8>N;++N)r(be,ge+N*f.B,G,ee+32*N,8),r(ue,de+N*f.B,le,me+32*N,8)}}function tu(f,v,N,E,I,B,z,W,G){var ee=[0],le=[0],me=0,ge=G!=null?G.kd:0,fe=G??new nd;if(f==null||12>N)return 7;fe.data=f,fe.w=v,fe.ha=N,v=[v],N=[N],fe.gb=[fe.gb];e:{var Ee=v,be=N,ue=fe.gb;if(t(f!=null),t(be!=null),t(ue!=null),ue[0]=0,12<=be[0]&&!n(f,Ee[0],"RIFF")){if(n(f,Ee[0]+8,"WEBP")){ue=3;break e}var de=Fe(f,Ee[0]+4);if(12>de||4294967286<de){ue=3;break e}if(ge&&de>be[0]-8){ue=7;break e}ue[0]=de,Ee[0]+=12,be[0]-=12}ue=0}if(ue!=0)return ue;for(de=0<fe.gb[0],N=N[0];;){e:{var Ne=f;be=v,ue=N;var Ce=ee,ke=le,He=Ee=[0];if(($e=me=[me])[0]=0,8>ue[0])ue=7;else{if(!n(Ne,be[0],"VP8X")){if(Fe(Ne,be[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Be=Fe(Ne,be[0]+8),it=1+je(Ne,be[0]+12);if(2147483648<=it*(Ne=1+je(Ne,be[0]+15))){ue=3;break e}He!=null&&(He[0]=Be),Ce!=null&&(Ce[0]=it),ke!=null&&(ke[0]=Ne),be[0]+=18,ue[0]-=18,$e[0]=1}ue=0}}if(me=me[0],Ee=Ee[0],ue!=0)return ue;if(be=!!(2&Ee),!de&&me)return 3;if(B!=null&&(B[0]=!!(16&Ee)),z!=null&&(z[0]=be),W!=null&&(W[0]=0),z=ee[0],Ee=le[0],me&&be&&G==null){ue=0;break}if(4>N){ue=7;break}if(de&&me||!de&&!me&&!n(f,v[0],"ALPH")){N=[N],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{Be=f,ue=v,de=N;var $e=fe.gb;Ce=fe.na,ke=fe.P,He=fe.Sa,it=22,t(Be!=null),t(de!=null),Ne=ue[0];var Dt=de[0];for(t(Ce!=null),t(He!=null),Ce[0]=null,ke[0]=null,He[0]=0;;){if(ue[0]=Ne,de[0]=Dt,8>Dt){ue=7;break e}var $t=Fe(Be,Ne+4);if(4294967286<$t){ue=3;break e}var Ot=8+$t+1&-2;if(it+=Ot,0<$e&&it>$e){ue=3;break e}if(!n(Be,Ne,"VP8 ")||!n(Be,Ne,"VP8L")){ue=0;break e}if(Dt[0]<Ot){ue=7;break e}n(Be,Ne,"ALPH")||(Ce[0]=Be,ke[0]=Ne+8,He[0]=$t),Ne+=Ot,Dt-=Ot}}if(N=N[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ue!=0)break}N=[N],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if($e=f,ue=v,de=N,Ce=fe.gb[0],ke=fe.Ja,He=fe.xa,Be=ue[0],Ne=!n($e,Be,"VP8 "),it=!n($e,Be,"VP8L"),t($e!=null),t(de!=null),t(ke!=null),t(He!=null),8>de[0])ue=7;else{if(Ne||it){if($e=Fe($e,Be+4),12<=Ce&&$e>Ce-12){ue=3;break e}if(ge&&$e>de[0]-8){ue=7;break e}ke[0]=$e,ue[0]+=8,de[0]-=8,He[0]=it}else He[0]=5<=de[0]&&$e[Be+0]==47&&!($e[Be+4]>>5),ke[0]=de[0];ue=0}if(N=N[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],v=v[0],ue!=0)break;if(4294967286<fe.Ja)return 3;if(W==null||be||(W[0]=fe.xa?2:1),z=[z],Ee=[Ee],fe.xa){if(5>N){ue=7;break}W=z,ge=Ee,be=B,f==null||5>N?f=0:5<=N&&f[v+0]==47&&!(f[v+4]>>5)?(de=[0],$e=[0],Ce=[0],F(ke=new C,f,v,N),rt(ke,de,$e,Ce)?(W!=null&&(W[0]=de[0]),ge!=null&&(ge[0]=$e[0]),be!=null&&(be[0]=Ce[0]),f=1):f=0):f=0}else{if(10>N){ue=7;break}W=Ee,f==null||10>N||!Mh(f,v+3,N-3)?f=0:(ge=f[v+0]|f[v+1]<<8|f[v+2]<<16,be=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=fe.Ja||!be||!f?f=0:(z&&(z[0]=be),W&&(W[0]=f),f=1))}if(!f||(z=z[0],Ee=Ee[0],me&&(ee[0]!=z||le[0]!=Ee)))return 3;G!=null&&(G[0]=fe,G.offset=v-G.w,t(4294967286>v-G.w),t(G.offset==G.ha-N));break}return ue==0||ue==7&&me&&G==null?(B!=null&&(B[0]|=fe.na!=null&&0<fe.na.length),E!=null&&(E[0]=z),I!=null&&(I[0]=Ee),0):ue}function ld(f,v,N){var E=v.width,I=v.height,B=0,z=0,W=E,G=I;if(v.Da=f!=null&&0<f.Da,v.Da&&(W=f.cd,G=f.bd,B=f.v,z=f.j,11>N||(B&=-2,z&=-2),0>B||0>z||0>=W||0>=G||B+W>E||z+G>I))return 0;if(v.v=B,v.j=z,v.va=B+W,v.o=z+G,v.U=W,v.T=G,v.da=f!=null&&0<f.da,v.da){if(!Re(W,G,N=[f.ib],B=[f.hb]))return 0;v.ib=N[0],v.hb=B[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*E/4&&v.hb<3*I/4,v.Kb=0),1}function ud(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function nu(f,v,N,E){if(E==null||0>=f||0>=v)return 2;if(N!=null){if(N.Da){var I=N.cd,B=N.bd,z=-2&N.v,W=-2&N.j;if(0>z||0>W||0>=I||0>=B||z+I>f||W+B>v)return 2;f=I,v=B}if(N.da){if(!Re(f,v,I=[N.ib],B=[N.hb]))return 2;f=I[0],v=B[0]}}E.width=f,E.height=v;e:{var G=E.width,ee=E.height;if(f=E.S,0>=G||0>=ee||!(f>=sp&&13>f))f=2;else{if(0>=E.Rd&&E.sd==null){z=B=I=v=0;var le=(W=G*sN[f])*ee;if(11>f||(B=(ee+1)/2*(v=(G+1)/2),f==12&&(z=(I=G)*ee)),(ee=s(le+2*B+z))==null){f=1;break e}E.sd=ee,11>f?((G=E.f.RGBA).eb=ee,G.fb=0,G.A=W,G.size=le):((G=E.f.kb).y=ee,G.O=0,G.fa=W,G.Fd=le,G.f=ee,G.N=0+le,G.Ab=v,G.Cd=B,G.ea=ee,G.W=0+le+B,G.Db=v,G.Ed=B,f==12&&(G.F=ee,G.J=0+le+2*B),G.Tc=z,G.lb=I)}if(v=1,I=E.S,B=E.width,z=E.height,I>=sp&&13>I)if(11>I)f=E.f.RGBA,v&=(W=Math.abs(f.A))*(z-1)+B<=f.size,v&=W>=B*sN[I],v&=f.eb!=null;else{f=E.f.kb,W=(B+1)/2,le=(z+1)/2,G=Math.abs(f.fa),ee=Math.abs(f.Ab);var me=Math.abs(f.Db),ge=Math.abs(f.lb),fe=ge*(z-1)+B;v&=G*(z-1)+B<=f.Fd,v&=ee*(le-1)+W<=f.Cd,v=(v&=me*(le-1)+W<=f.Ed)&G>=B&ee>=W&me>=W,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,I==12&&(v&=ge>=B,v&=fe<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||N!=null&&N.fd&&(f=ud(E)),f}var Xn=64,ru=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],iu=24,su=32,cd=8,Ir=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(f){return f},L.Predictor2=function(f,v,N){return v[N+0]},L.Predictor3=function(f,v,N){return v[N+1]},L.Predictor4=function(f,v,N){return v[N-1]},L.Predictor5=function(f,v,N){return Oe(Oe(f,v[N+1]),v[N+0])},L.Predictor6=function(f,v,N){return Oe(f,v[N-1])},L.Predictor7=function(f,v,N){return Oe(f,v[N+0])},L.Predictor8=function(f,v,N){return Oe(v[N-1],v[N+0])},L.Predictor9=function(f,v,N){return Oe(v[N+0],v[N+1])},L.Predictor10=function(f,v,N){return Oe(Oe(f,v[N-1]),Oe(v[N+0],v[N+1]))},L.Predictor11=function(f,v,N){var E=v[N+0];return 0>=nt(E>>24&255,f>>24&255,(v=v[N-1])>>24&255)+nt(E>>16&255,f>>16&255,v>>16&255)+nt(E>>8&255,f>>8&255,v>>8&255)+nt(255&E,255&f,255&v)?E:f},L.Predictor12=function(f,v,N){var E=v[N+0];return(ze((f>>24&255)+(E>>24&255)-((v=v[N-1])>>24&255))<<24|ze((f>>16&255)+(E>>16&255)-(v>>16&255))<<16|ze((f>>8&255)+(E>>8&255)-(v>>8&255))<<8|ze((255&f)+(255&E)-(255&v)))>>>0},L.Predictor13=function(f,v,N){var E=v[N-1];return(Ye((f=Oe(f,v[N+0]))>>24&255,E>>24&255)<<24|Ye(f>>16&255,E>>16&255)<<16|Ye(f>>8&255,E>>8&255)<<8|Ye(f>>0&255,E>>0&255))>>>0};var o1=L.PredictorAdd0;L.PredictorAdd1=ut,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var dd=L.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Qh,Ni=L.ColorIndexInverseTransform,au=L.MapARGB,ep=L.VP8LColorIndexInverseTransformAlpha,tp=L.MapAlpha,Da=L.VP8LPredictorsAdd=[];Da.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Xo,Tr,_r,Ba,Xs,Js,ou,Qs,Sn,fd,xr,Si,lu,np,hd,Jo,Qo,za,el,uu,tl,$a,pd,ki,Ei,Qt,en,kn,qn=s(511),ea=s(2041),md=s(225),cu=s(767),rp=0,l1=ea,ip=md,Qr=cu,Ai=qn,sp=0,ap=1,G4=2,op=3,lp=4,u1=5,K4=6,c1=7,d1=8,up=9,f1=10,AM=[2,3,7],CM=[3,3,11],Z4=[280,256,256,256,40],jM=[0,1,1,1,0],LM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],PM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],RM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],IM=8,h1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],p1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gd=null,TM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],OM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Y4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],MM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],DM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ua=[],Vi=[],ta=[],BM=1,X4=2,Va=[],Ci=[];_e("UpsampleRgbLinePair",It,3),_e("UpsampleBgrLinePair",ln,3),_e("UpsampleRgbaLinePair",Ui,4),_e("UpsampleBgraLinePair",Un,4),_e("UpsampleArgbLinePair",ar,4),_e("UpsampleRgba4444LinePair",Ln,2),_e("UpsampleRgb565LinePair",gn,2);var zM=L.UpsampleRgbLinePair,$M=L.UpsampleBgrLinePair,J4=L.UpsampleRgbaLinePair,Q4=L.UpsampleBgraLinePair,eN=L.UpsampleArgbLinePair,tN=L.UpsampleRgba4444LinePair,UM=L.UpsampleRgb565LinePair,cp=16,dp=1<<cp-1,vd=-227,m1=482,nN=6,VM=(256<<nN)-1,rN=0,HM=s(256),WM=s(256),GM=s(256),KM=s(256),ZM=s(m1-vd),YM=s(m1-vd);xs("YuvToRgbRow",It,3),xs("YuvToBgrRow",ln,3),xs("YuvToRgbaRow",Ui,4),xs("YuvToBgraRow",Un,4),xs("YuvToArgbRow",ar,4),xs("YuvToRgba4444Row",Ln,2),xs("YuvToRgb565Row",gn,2);var iN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fp=[0,2,8],XM=[8,7,6,4,4,2,2,2,1,1,1,1],JM=1;this.WebPDecodeRGBA=function(f,v,N,E,I){var B=ap,z=new Ql,W=new br;z.ba=W,W.S=B,W.width=[W.width],W.height=[W.height];var G=W.width,ee=W.height,le=new vi;if(le==null||f==null)var me=2;else t(le!=null),me=tu(f,v,N,le.width,le.height,le.Pd,le.Qd,le.format,null);if(me!=0?G=0:(G!=null&&(G[0]=le.width[0]),ee!=null&&(ee[0]=le.height[0]),G=1),G){W.width=W.width[0],W.height=W.height[0],E!=null&&(E[0]=W.width),I!=null&&(I[0]=W.height);e:{if(E=new bs,(I=new nd).data=f,I.w=v,I.ha=N,I.kd=1,v=[0],t(I!=null),((f=tu(I.data,I.w,I.ha,null,null,null,v,null,I))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(t(z!=null),E.data=I.data,E.w=I.w+I.offset,E.ha=I.ha-I.offset,E.put=yi,E.ac=Fn,E.bc=bi,E.ma=z,I.xa){if((f=Pr())==null){z=1;break e}if(function(ge,fe){var Ee=[0],be=[0],ue=[0];t:for(;;){if(ge==null)return 0;if(fe==null)return ge.a=2,0;if(ge.l=fe,ge.a=0,F(ge.m,fe.data,fe.w,fe.ha),!rt(ge.m,Ee,be,ue)){ge.a=3;break t}if(ge.xb=X4,fe.width=Ee[0],fe.height=be[0],!xi(Ee[0],be[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(f,E)){if(E=(v=nu(E.width,E.height,z.Oa,z.ba))==0){t:{E=f;n:for(;;){if(E==null){E=0;break t}if(t(E.s.yc!=null),t(E.s.Ya!=null),t(0<E.s.Wb),t((N=E.l)!=null),t((I=N.ma)!=null),E.xb!=0){if(E.ca=I.ba,E.tb=I.tb,t(E.ca!=null),!ld(I.Oa,N,op)){E.a=2;break n}if(!Gs(E,N.width)||N.da)break n;if((N.da||At(E.ca.S))&&pe(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&pe()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!Ke(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Xr(E,E.V,E.Ba,E.c,E.i,N.o,La))break n;I.Dc=E.Ma,E=1;break t}t(E.a!=0),E=0}E=!E}E&&(v=f.a)}else v=f.a}else{if((f=new $0)==null){z=1;break e}if(f.Fa=I.na,f.P=I.P,f.qc=I.Sa,Fh(f,E)){if((v=nu(E.width,E.height,z.Oa,z.ba))==0){if(f.Aa=0,N=z.Oa,t((I=f)!=null),N!=null){if(0<(G=0>(G=N.Md)?0:100<G?255:255*G/100)){for(ee=le=0;4>ee;++ee)12>(me=I.pb[ee]).lc&&(me.ia=G*XM[0>me.lc?0:me.lc]>>3),le|=me.ia;le&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=N.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}U0(f,E)||(v=f.a)}}else v=f.a}v==0&&z.Oa!=null&&z.Oa.fd&&(v=ud(z.ba))}z=v}B=z!=0?null:11>B?W.f.RGBA.eb:W.f.kb.y}else B=null;return B};var sN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(L,$){for(var V="",j=0;j<4;j++)V+=String.fromCharCode(L[$++]);return V}function c(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16)>>>0}function d(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16|L[$+3]<<24)>>>0}new l;var p=[0],h=[0],w=[],y=new l,_=e,m=function(L,$){var V={},j=0,T=!1,Z=0,A=0;if(V.frames=[],!function(H,K,Q,ne){for(var ae=0;ae<ne;ae++)if(H[K+ae]!=Q.charCodeAt(ae))return!0;return!1}(L,$,"RIFF",4)){var U,M;for(d(L,$+=4),$+=8;$<L.length;){var X=u(L,$),F=d(L,$+=4);$+=4;var q=F+(1&F);switch(X){case"VP8 ":case"VP8L":V.frames[j]===void 0&&(V.frames[j]={}),(C=V.frames[j]).src_off=T?A:$-8,C.src_size=Z+F+8,j++,T&&(T=!1,Z=0,A=0);break;case"VP8X":(C=V.header={}).feature_flags=L[$];var J=$+4;C.canvas_width=1+c(L,J),J+=3,C.canvas_height=1+c(L,J),J+=3;break;case"ALPH":T=!0,Z=q+8,A=$-8;break;case"ANIM":(C=V.header).bgcolor=d(L,$),J=$+4,C.loop_count=(U=L)[(M=J)+0]<<0|U[M+1]<<8,J+=2;break;case"ANMF":var ie,C;(C=V.frames[j]={}).offset_x=2*c(L,$),$+=3,C.offset_y=2*c(L,$),$+=3,C.width=1+c(L,$),$+=3,C.height=1+c(L,$),$+=3,C.duration=c(L,$),$+=3,ie=L[$++],C.dispose=1&ie,C.blend=ie>>1&1}X!="ANMF"&&($+=q)}return V}}(_,0);m.response=_,m.rgbaoutput=!0,m.dataurl=!1;var b=m.header?m.header:null,S=m.frames?m.frames:null;if(b){b.loop_counter=b.loop_count,p=[b.canvas_height],h=[b.canvas_width];for(var k=0;k<S.length&&S[k].blend!=0;k++);}var P=S[0],D=y.WebPDecodeRGBA(_,P.src_off,P.src_size,h,p);P.rgba=D,P.imgwidth=h[0],P.imgheight=p[0];for(var R=0;R<h[0]*p[0]*4;R++)w[R]=D[R];return this.width=h,this.height=p,this.data=w,this}(function(e){var t=function(){return typeof O_=="function"},n=function(p,h,w,y){var _=4,m=a;switch(y){case e.image_compression.FAST:_=1,m=s;break;case e.image_compression.MEDIUM:_=6,m=o;break;case e.image_compression.SLOW:_=9,m=l}p=r(p,h,w,m);var b=O_(p,{level:_});return e.__addimage__.arrayBufferToBinaryString(b)},r=function(p,h,w,y){for(var _,m,b,S=p.length/h,k=new Uint8Array(p.length+S),P=c(),D=0;D<S;D+=1){if(b=D*h,_=p.subarray(b,b+h),y)k.set(y(_,w,m),b+D);else{for(var R,L=P.length,$=[];R<L;R+=1)$[R]=P[R](_,w,m);var V=d($.concat());k.set($[V],b+D)}m=_}return k},i=function(p){var h=Array.apply([],p);return h.unshift(0),h},s=function(p,h){var w,y=[],_=p.length;y[0]=1;for(var m=0;m<_;m+=1)w=p[m-h]||0,y[m+1]=p[m]-w+256&255;return y},a=function(p,h,w){var y,_=[],m=p.length;_[0]=2;for(var b=0;b<m;b+=1)y=w&&w[b]||0,_[b+1]=p[b]-y+256&255;return _},o=function(p,h,w){var y,_,m=[],b=p.length;m[0]=3;for(var S=0;S<b;S+=1)y=p[S-h]||0,_=w&&w[S]||0,m[S+1]=p[S]+256-(y+_>>>1)&255;return m},l=function(p,h,w){var y,_,m,b,S=[],k=p.length;S[0]=4;for(var P=0;P<k;P+=1)y=p[P-h]||0,_=w&&w[P]||0,m=w&&w[P-h]||0,b=u(y,_,m),S[P+1]=p[P]-b+256&255;return S},u=function(p,h,w){if(p===h&&h===w)return p;var y=Math.abs(h-w),_=Math.abs(p-w),m=Math.abs(p+h-w-w);return y<=_&&y<=m?p:_<=m?h:w},c=function(){return[i,s,a,o,l]},d=function(p){var h=p.map(function(w){return w.reduce(function(y,_){return y+Math.abs(_)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,w,y){var _,m,b,S,k,P,D,R,L,$,V,j,T,Z,A,U=this.decode.FLATE_DECODE,M="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(b=new _z(p)).imgData,m=b.bits,_=b.colorSpace,k=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){L=(R=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,V=new Uint8Array(L*b.colors),$=new Uint8Array(L);var X,F=b.pixelBitlength-b.bits;for(Z=0,A=0;Z<L;Z++){for(T=R[Z],X=0;X<F;)V[A++]=T>>>X&255,X+=b.bits;$[Z]=T>>>X&255}}if(b.bits===16){L=(R=new Uint32Array(b.decodePixels().buffer)).length,V=new Uint8Array(L*(32/b.pixelBitlength)*b.colors),$=new Uint8Array(L*(32/b.pixelBitlength)),j=b.colors>1,Z=0,A=0;for(var q=0;Z<L;)T=R[Z++],V[A++]=T>>>0&255,j&&(V[A++]=T>>>16&255,T=R[Z++],V[A++]=T>>>0&255),$[q++]=T>>>16&255;m=8}y!==e.image_compression.NONE&&t()?(p=n(V,b.width*b.colors,b.colors,y),D=n($,b.width,1,y)):(p=V,D=$,U=void 0)}if(b.colorType===3&&(_=this.color_spaces.INDEXED,P=b.palette,b.transparency.indexed)){var J=b.transparency.indexed,ie=0;for(Z=0,L=J.length;Z<L;++Z)ie+=J[Z];if((ie/=255)===L-1&&J.indexOf(0)!==-1)S=[J.indexOf(0)];else if(ie!==L){for(R=b.decodePixels(),$=new Uint8Array(R.length),Z=0,L=R.length;Z<L;Z++)$[Z]=J[R[Z]];D=n($,b.width,1)}}var C=function(H){var K;switch(H){case e.image_compression.FAST:K=11;break;case e.image_compression.MEDIUM:K=13;break;case e.image_compression.SLOW:K=14;break;default:K=12}return K}(y);return U===this.decode.FLATE_DECODE&&(M="/Predictor "+C+" "),M+="/Colors "+k+" /BitsPerComponent "+m+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:w,data:p,index:h,filter:U,decodeParameters:M,transparency:S,palette:P,sMask:D,predictor:C,width:b.width,height:b.height,bitsPerComponent:m,colorSpace:_}}}})(at.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new xz(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new ov(100).encode(u,100);return e.processJPEG.call(this,c,n,r,i)},e.processGIF87A=e.processGIF89A}(at.API),Ki.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ki.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Jt.log("bit decode error:"+n)}},Ki.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Ki.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Ki.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ki.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=e}},Ki.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/t*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=e}},Ki.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ki.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Ki.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Ki(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new ov(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(at.API),ok.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new ok(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new ov(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(at.API),at.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],p=r[u+2],h=r[u+3];s[o++]=c,s[o++]=d,s[o++]=p,a[l++]=h}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},at.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vu=at.API,Vp=vu.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=t.doKerning!==!1,p=0,h=e.length,w=0,y=o[0]||l,_=[];for(n=0;n<h;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(p=d&&Vt(u[r])==="object"&&!isNaN(parseInt(u[r][w],10))?u[r][w]/c:0,_.push((o[r]||y)/l+p)),w=r;return _},rk=vu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return vu.processArabic&&(e=vu.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Vp.apply(this,arguments).reduce(function(s,a){return s+a},0)},ik=function(e,t,n,r){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<n;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>r&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},sk=function(e,t,n){n||(n={});var r,i,s,a,o,l,u,c=[],d=[c],p=n.textIndent||0,h=0,w=0,y=e.split(" "),_=Vp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),b=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?b=b.concat(k.map(function(P,D){return(D&&P.length?`
`:"")+P})):b.push(k[0])}),y=b,l=rk.apply(this,[m,n])}for(s=0,a=y.length;s<a;s++){var S=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),S=1),p+h+(w=(i=Vp.apply(this,[r,n])).reduce(function(k,P){return k+P},0))>t||S){if(w>t){for(o=ik.apply(this,[r,i,t-(p+h),t]),c.push(o.shift()),c=[o.pop()];o.length;)d.push([o.shift()]);w=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(k,P){return k+P},0)}else c=[r];d.push(c),p=w+l,h=_}else c.push(r),p+=h+w,h=_}return u=l?function(k,P){return(P?m:"")+k.join(" ")}:function(k){return k.join(" ")},d.map(u)},vu.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(sk.apply(this,[r[o],a,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=e.__fontmetrics__.compress=function(d){var p,h,w,y,_=["{"];for(var m in d){if(p=d[m],isNaN(parseInt(m,10))?h="'"+m+"'":(m=parseInt(m,10),h=(h=s(m).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof p=="number")p<0?(w=s(p).slice(3),y="-"):(w=s(p).slice(2),y=""),w=y+w.slice(0,-1)+r[w.slice(-1)];else{if(Vt(p)!=="object")throw new Error("Don't know what to do with value type "+Vt(p)+".");w=a(p)}_.push(h+w)}return _.push("}"),_.join("")},o=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,w,y,_={},m=1,b=_,S=[],k="",P="",D=d.length-1,R=1;R<D;R+=1)(y=d[R])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(S.push([b,w]),b={},w=void 0):y=="}"?((h=S.pop())[0][h[1]]=b,w=void 0,b=h[0]):y=="-"?m=-1:w===void 0?n.hasOwnProperty(y)?(k+=n[y],w=parseInt(k,16)*m,m=1,k=""):k+=y:n.hasOwnProperty(y)?(P+=n[y],b[w]=parseInt(P,16)*m,m=1,w=void 0,P=""):P+=y;return _},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var p=d.font,h=c.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var w=u.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(at.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(vf(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),function(e){function t(){return(ot.canvg?Promise.resolve(ot.canvg):Tw(()=>import("./index.es-CGRO9crG.js"),__vite__mapDeps([0,1,2]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}at.API.addSvgAsImage=function(n,r,i,s,a,o,l,u){if(isNaN(r)||isNaN(i))throw Jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(w){return w.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),r,i,s,a,l,u)})}}(),at.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},at.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,d=0;function p(w,y){var _,m=!1;for(_=0;_<w.length;_+=1)w[_]===y&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(d=0;d<h;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Vt(e)==="object"){for(i in e)if(s=e[i],p(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?y.push("/"+w+" /"+n[w].value):y.push("/"+w+" "+n[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(at.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,p=s.length;d<p;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},r=function(s){var a,o,l,u,c,d,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(o=Object.keys(s).sort(function(h,w){return h-w})).length;d<p;d++)a=o[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",w=0;w<p.length;w++)h+=String.fromCharCode(p[w]);var y=u();c({data:h,addLength1:!0,objectId:y}),l("endobj");var _=u();c({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var m=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Eu(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Eu(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Eu(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",h=0;h<d.length;h++)p+=String.fromCharCode(d[h]);var w=u();c({data:p,addLength1:!0,objectId:w}),l("endobj");var y=u();c({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Eu(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Eu(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},p=d.pdfEscape,h=d.activeFontKey,w=d.fonts,y=h,_="",m=0,b="",S=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:d};for(b=o,y=h,Array.isArray(o)&&(b=o[0]),m=0;m<b.length;m+=1)w[y].metadata.hasOwnProperty("cmap")&&(a=w[y].metadata.cmap.unicode.codeMap[b[m].charCodeAt(0)]),a||b[m].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?_+=b[m]:_+="";var k="";return parseInt(y.slice(1))<14||S==="WinAnsiEncoding"?k=p(_,y).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=n(_,w[y])),d.isHex=!0,{text:k,x:l,y:u,options:c,mutex:d}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(at),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,c,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var k=function(j){var T=j.charCodeAt(),Z=T>>8,A=y[Z];return A!==void 0?d[256*A+(255&T)]:Z===252||Z===253?"AL":m.test(Z)?"L":Z===8?"R":"N"},P=function(j){for(var T,Z=0;Z<j.length;Z++){if((T=k(j.charAt(Z)))==="L")return!1;if(T==="R")return!0}return!1},D=function(j,T,Z,A){var U,M,X,F,q=T[A];switch(q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(q="AN");break;case"AL":b=!0,q="R";break;case"WS":q="N";break;case"CS":A<1||A+1>=T.length||(U=Z[A-1])!=="EN"&&U!=="AN"||(M=T[A+1])!=="EN"&&M!=="AN"?q="N":b&&(M="AN"),q=M===U?M:"N";break;case"ES":q=(U=A>0?Z[A-1]:"B")==="EN"&&A+1<T.length&&T[A+1]==="EN"?"EN":"N";break;case"ET":if(A>0&&Z[A-1]==="EN"){q="EN";break}if(b){q="N";break}for(X=A+1,F=T.length;X<F&&T[X]==="ET";)X++;q=X<F&&T[X]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(F=T.length,X=A+1;X<F&&T[X]==="NSM";)X++;if(X<F){var J=j[A],ie=J>=1425&&J<=2303||J===64286;if(U=T[X],ie&&(U==="R"||U==="AL")){q="R";break}}}q=A<1||(U=T[A-1])==="B"?"N":Z[A-1];break;case"B":b=!1,i=!0,q=S;break;case"S":s=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":q="N"}return q},R=function(j,T,Z){var A=j.split("");return Z&&L(A,Z,{hiLevel:S}),A.reverse(),T&&T.reverse(),A.join("")},L=function(j,T,Z){var A,U,M,X,F,q=-1,J=j.length,ie=0,C=[],H=S?h:p,K=[];for(b=!1,i=!1,s=!1,U=0;U<J;U++)K[U]=k(j[U]);for(M=0;M<J;M++){if(F=ie,C[M]=D(j,K,C,M),A=240&(ie=H[F][w[C[M]]]),ie&=15,T[M]=X=H[ie][5],A>0)if(A===16){for(U=q;U<M;U++)T[U]=1;q=-1}else q=-1;if(H[ie][6])q===-1&&(q=M);else if(q>-1){for(U=q;U<M;U++)T[U]=X;q=-1}K[M]==="B"&&(T[M]=0),Z.hiLevel|=X}s&&function(Q,ne,ae){for(var se=0;se<ae;se++)if(Q[se]==="S"){ne[se]=S;for(var ce=se-1;ce>=0&&Q[ce]==="WS";ce--)ne[ce]=S}}(K,T,J)},$=function(j,T,Z,A,U){if(!(U.hiLevel<j)){if(j===1&&S===1&&!i)return T.reverse(),void(Z&&Z.reverse());for(var M,X,F,q,J=T.length,ie=0;ie<J;){if(A[ie]>=j){for(F=ie+1;F<J&&A[F]>=j;)F++;for(q=ie,X=F-1;q<X;q++,X--)M=T[q],T[q]=T[X],T[X]=M,Z&&(M=Z[q],Z[q]=Z[X],Z[X]=M);ie=F}ie++}}},V=function(j,T,Z){var A=j.split(""),U={hiLevel:S};return Z||(Z=[]),L(A,Z,U),function(M,X,F){if(F.hiLevel!==0&&c)for(var q,J=0;J<M.length;J++)X[J]===1&&(q=_.indexOf(M[J]))>=0&&(M[J]=_[q+1])}(A,Z,U),$(2,A,T,Z,U),$(1,A,T,Z,U),A.join("")};return this.__bidiEngine__.doBidiReorder=function(j,T,Z){if(function(U,M){if(M)for(var X=0;X<U.length;X++)M[X]=X;o===void 0&&(o=P(U)),u===void 0&&(u=P(U))}(j,T),a||!l||u)if(a&&l&&o^u)S=o?1:0,j=R(j,T,Z);else if(!a&&l&&u)S=o?1:0,j=V(j,T,Z),j=R(j,T);else if(!a||o||l||u){if(a&&!l&&o^u)j=R(j,T),o?(S=0,j=V(j,T,Z)):(S=1,j=V(j,T,Z),j=R(j,T));else if(a&&o&&!l&&u)S=1,j=V(j,T,Z),j=R(j,T);else if(!a&&!l&&o^u){var A=c;o?(S=1,j=V(j,T,Z),S=0,c=!1,j=V(j,T,Z),c=A):(S=0,j=V(j,T,Z),j=R(j,T),S=1,c=!1,j=V(j,T,Z),c=A,j=R(j,T))}}else S=0,j=V(j,T,Z);else S=o?1:0,j=V(j,T,Z);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,u=j.isOutputRtl,c=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Oo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Fz(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Nz(this.contents),this.head=new kz(this),this.name=new Lz(this),this.cmap=new DP(this),this.toUnicode={},this.hhea=new Ez(this),this.maxp=new Pz(this),this.hmtx=new Rz(this),this.post=new Cz(this),this.os2=new Az(this),this.loca=new Mz(this),this.glyf=new Iz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var hs,Oo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,a,o,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),Nz=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,a,o,l,u,c,d,p,h,w,y;for(y in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),a=Math.floor(d/l),c=16*h-d,(i=new Oo).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(a),i.writeShort(c),s=16*h,u=i.pos+s,o=null,w=[],n)for(p=n[y],i.writeString(y),i.writeInt(e(p)),i.writeInt(u),i.writeInt(p.length),w=w.concat(p),y==="head"&&(o=u),u+=p.length;u%4;)w.push(0),u++;return i.write(w),r=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,a;for(n=BP.call(n);n.length%4;)n.push(0);for(s=new Oo(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),Sz={}.hasOwnProperty,Us=function(e,t){for(var n in t)Sz.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};hs=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var kz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Oo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),lk=function(){function e(t,n){var r,i,s,a,o,l,u,c,d,p,h,w,y,_,m,b,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,s=function(){var k,P;for(P=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)P.push(t.readUInt16());return P}(),t.pos+=2,y=function(){var k,P;for(P=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)P.push(t.readUInt16());return P}(),u=function(){var k,P;for(P=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)P.push(t.readUInt16());return P}(),c=function(){var k,P;for(P=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)P.push(t.readUInt16());return P}(),i=(this.length-t.pos+this.offset)/2,o=function(){var k,P;for(P=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)P.push(t.readUInt16());return P}(),l=m=0,S=s.length;m<S;l=++m)for(_=s[l],r=b=w=y[l];w<=_?b<=_:b>=_;r=w<=_?++b:--b)c[l]===0?a=r+u[l]:(a=o[c[l]/2+(r-w)-(p-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}t.pos=d}return e.encode=function(t,n){var r,i,s,a,o,l,u,c,d,p,h,w,y,_,m,b,S,k,P,D,R,L,$,V,j,T,Z,A,U,M,X,F,q,J,ie,C,H,K,Q,ne,ae,se,ce,ye,Ae,je;switch(A=new Oo,a=Object.keys(t).sort(function(Fe,Ke){return Fe-Ke}),n){case"macroman":for(y=0,_=function(){var Fe=[];for(w=0;w<256;++w)Fe.push(0);return Fe}(),b={0:0},s={},U=0,q=a.length;U<q;U++)b[ce=t[i=a[U]]]==null&&(b[ce]=++y),s[i]={old:t[i],new:b[t[i]]},_[i]=b[t[i]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(_),{charMap:s,subtable:A.data,maxGlyphID:y+1};case"unicode":for(T=[],d=[],S=0,b={},r={},m=u=null,M=0,J=a.length;M<J;M++)b[P=t[i=a[M]]]==null&&(b[P]=++S),r[i]={old:P,new:b[P]},o=b[P]-i,m!=null&&o===u||(m&&d.push(m),T.push(i),u=o),m=i;for(m&&d.push(m),d.push(65535),T.push(65535),V=2*($=T.length),L=2*Math.pow(Math.log($)/Math.LN2,2),p=Math.log(L/2)/Math.LN2,R=2*$-L,l=[],D=[],h=[],w=X=0,ie=T.length;X<ie;w=++X){if(j=T[w],c=d[w],j===65535){l.push(0),D.push(0);break}if(j-(Z=r[j].new)>=32768)for(l.push(0),D.push(2*(h.length+$-w)),i=F=j;j<=c?F<=c:F>=c;i=j<=c?++F:--F)h.push(r[i].new);else l.push(Z-j),D.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*$+2*h.length),A.writeUInt16(0),A.writeUInt16(V),A.writeUInt16(L),A.writeUInt16(p),A.writeUInt16(R),ae=0,C=d.length;ae<C;ae++)i=d[ae],A.writeUInt16(i);for(A.writeUInt16(0),se=0,H=T.length;se<H;se++)i=T[se],A.writeUInt16(i);for(ye=0,K=l.length;ye<K;ye++)o=l[ye],A.writeUInt16(o);for(Ae=0,Q=D.length;Ae<Q;Ae++)k=D[Ae],A.writeUInt16(k);for(je=0,ne=h.length;je<ne;je++)y=h[je],A.writeUInt16(y);return{charMap:r,subtable:A.data,maxGlyphID:S+1}}},e}(),DP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new lk(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=lk.encode(n,r),(s=new Oo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),Ez=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Az=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Cz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(n.readUInt32());return u}).call(this)}},t}(),jz=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Lz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,a,o,l,u,c,d,p,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},a=d=0,p=i.length;d<p;a=++d)s=i[a],n.pos=s.offset,c=n.readString(s.length),o=new jz(c,s),u[h=s.nameID]==null&&(u[h]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Pz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Rz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,a,o,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)d.push(n.readInt16());return d}(),this.widths=(function(){var c,d,p,h;for(h=[],c=0,d=(p=this.metrics).length;c<d;c++)a=p[c],h.push(a.advance);return h}).call(this),i=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),BP=[].slice,Iz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,a,o,l,u,c,d,p;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Oo(r.read(s))).readShort(),c=l.readShort(),p=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=o===-1?new Oz(l,c,p,u,d):new Tz(l,o,c,p,u,d),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=r.length;l<u;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},t}(),Tz=function(){function e(t,n,r,i,s,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Oz=function(){function e(t,n,r,i,s){var a,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Oo(BP.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Mz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Us(t,hs),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},t}(),Fz=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,a,o,l;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,a,o,l,u,c,d,p,h,w,y,_,m;for(i in r=DP.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),h={0:0},m=r.charMap)h[(l=m[i]).old]=l.new;for(w in p=r.maxGlyphID,a)w in h||(h[w]=p++);return c=function(b){var S,k;for(S in k={},b)k[b[S]]=S;return k}(h),d=Object.keys(c).sort(function(b,S){return b-S}),y=function(){var b,S,k;for(k=[],b=0,S=d.length;b<S;b++)o=d[b],k.push(c[o]);return k}(),s=this.font.glyf.encode(a,y,h),u=this.font.loca.encode(s.offsets,y),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},e}();at.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,u;for(u=[],o=0,l=n.length;o<l;o++)r=n[o],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+n},t}();async function qz(e){var l,u,c,d,p,h,w,y,_,m,b,S;const t=new at;let n=20;const r=k=>{n>t.internal.pageSize.height-30&&(t.addPage(),n=20),t.setFontSize(16),t.setFont("helvetica","bold"),t.text(k,20,n),n+=10,t.setFontSize(12),t.setFont("helvetica","normal")},i=(k,P=0)=>{if(!k)return;const D=t.splitTextToSize(k,170-P);n+D.length*7>t.internal.pageSize.height-20&&(t.addPage(),n=20),t.text(D,20+P,n),n+=D.length*7},s=(k,P=0,D)=>{if(!k)return;const R=P*5;n>t.internal.pageSize.height-20&&(t.addPage(),n=20);const L=P===0?"•":"-";if(t.text(L,20+R,n),D)t.getTextWidth(k),t.setTextColor(0,0,255),t.textWithLink(k,25+R,n,{url:D}),t.setTextColor(0,0,0);else{const $=t.splitTextToSize(k,165-R);t.text($,25+R,n)}n+=7};t.setFontSize(24),t.setFont("helvetica","bold"),t.text(e.metadata.title||"Didaktisches Template",20,40,{maxWidth:170}),t.setFontSize(14),t.setFont("helvetica","normal"),t.text(`Autor: ${e.metadata.author||"Unbekannt"}`,20,60),t.text(`Version: ${e.metadata.version||"1.0"}`,20,70),t.setFontSize(12);const a=t.splitTextToSize(e.metadata.description||"",170);t.text(a,20,90),((l=e.metadata.keywords)==null?void 0:l.length)>0&&(n=110,i("Schlüsselwörter: "+e.metadata.keywords.join(", "))),t.addPage(),n=20,r("Didaktische Grundlagen"),i("Problem:",0),i(e.problem.problem_description,5),((u=e.problem.learning_goals)==null?void 0:u.length)>0&&(n+=5,i("Lernziele:",5),e.problem.learning_goals.forEach(k=>s(k,2))),((c=e.problem.didactic_keywords)==null?void 0:c.length)>0&&(n+=5,i("Didaktische Schlüsselwörter:",5),i(e.problem.didactic_keywords.join(", "),10)),n+=10,i("Kontext:",0),i(`Zielgruppe: ${e.context.target_group}`,5),i(`Fach: ${e.context.subject}`,5),i(`Bildungsstufe: ${e.context.educational_level}`,5),i(`Voraussetzungen: ${e.context.prerequisites}`,5),i(`Zeitrahmen: ${e.context.time_frame}`,5),n+=10,((d=e.influence_factors)==null?void 0:d.length)>0&&(i("Einflussfaktoren:",0),e.influence_factors.forEach(k=>{i(`${k.factor}:`,5),i(k.description,10)}),n+=10),i("Lösung:",0),i(e.solution.solution_description,5),i(`Didaktischer Ansatz: ${e.solution.didactic_approach}`,5),n+=10,i("Konsequenzen:",0),((p=e.consequences.advantages)==null?void 0:p.length)>0&&(i("Vorteile:",5),e.consequences.advantages.forEach(k=>s(k,2))),((h=e.consequences.disadvantages)==null?void 0:h.length)>0&&(i("Nachteile:",5),e.consequences.disadvantages.forEach(k=>s(k,2))),((w=e.implementation_notes)==null?void 0:w.length)>0&&(n+=10,i("Umsetzungshinweise:",0),e.implementation_notes.forEach(k=>s(k.description,1))),((y=e.related_patterns)==null?void 0:y.length)>0&&(n+=10,i("Verwandte Muster:",0),i(e.related_patterns.join(", "),5)),t.addPage(),n=20,r("Akteure"),((_=e.actors)==null?void 0:_.length)>0&&e.actors.forEach(k=>{i(`${k.name} (${k.type})`),i(`Bildung: ${k.education.education_level}`,5),i(`Klassenstufe: ${k.education.class_level}`,5),i(`Fachlicher Fokus: ${k.education.subject_focus}`,5),k.competencies.language_skills.languages.length>0&&(i("Sprachkenntnisse:",5),k.competencies.language_skills.languages.forEach(P=>{const D=k.competencies.language_skills.proficiency_levels[P];i(`${P}: ${D}`,10)})),k.learning_requirements.learning_preferences.length>0&&(i("Lernpräferenzen:",5),i(k.learning_requirements.learning_preferences.join(", "),10)),n+=10}),t.addPage(),n=20,r("Lernumgebungen"),((m=e.environments)==null?void 0:m.length)>0&&e.environments.forEach(k=>{var P,D,R;i(k.name),i(k.description,5),((P=k.materials)==null?void 0:P.length)>0&&(i("Lernressourcen:",5),k.materials.forEach(L=>{var V;const $=((V=L.wlo_metadata)==null?void 0:V.wwwUrl)||L.access_link;if($?s(`${L.name} (${L.material_type})`,2,$):s(`${L.name} (${L.material_type})`,2),L.wlo_metadata){i("WLO empfiehlt:",10);const j=L.wlo_metadata.wwwUrl;j?s(L.wlo_metadata.title,3,j):s(L.wlo_metadata.title,3)}})),((D=k.tools)==null?void 0:D.length)>0&&(i("Werkzeuge:",5),k.tools.forEach(L=>{var V;const $=((V=L.wlo_metadata)==null?void 0:V.wwwUrl)||L.access_link;if($?s(`${L.name} (${L.tool_type})`,2,$):s(`${L.name} (${L.tool_type})`,2),L.wlo_metadata){i("WLO empfiehlt:",10);const j=L.wlo_metadata.wwwUrl;j?s(L.wlo_metadata.title,3,j):s(L.wlo_metadata.title,3)}})),((R=k.services)==null?void 0:R.length)>0&&(i("Dienste:",5),k.services.forEach(L=>{var V;const $=((V=L.wlo_metadata)==null?void 0:V.wwwUrl)||L.access_link;if($?s(`${L.name} (${L.service_type})`,2,$):s(`${L.name} (${L.service_type})`,2),L.wlo_metadata){i("WLO empfiehlt:",10);const j=L.wlo_metadata.wwwUrl;j?s(L.wlo_metadata.title,3,j):s(L.wlo_metadata.title,3)}})),n+=15}),t.addPage(),n=20,r("Unterrichtsablauf");const o=((S=(b=e.solution)==null?void 0:b.didactic_template)==null?void 0:S.learning_sequences)||[];if(!o.length){i("Keine Lernsequenzen verfügbar."),t.save(`${e.metadata.title||"didaktisches-template"}.pdf`);return}o.forEach(k=>{var P;i(`Sequenz: ${k.sequence_name}`,0),i(`Zeitrahmen: ${k.time_frame}`,5),i(`Lernziel: ${k.learning_goal}`,5),(P=k.phases)==null||P.forEach(D=>{var R;i(`Phase: ${D.phase_name}`,10),i(`Zeitrahmen: ${D.time_frame}`,15),i(`Lernziel: ${D.learning_goal}`,15),(R=D.activities)==null||R.forEach(L=>{var $;i(`Aktivität: ${L.name}`,20),i(`Beschreibung: ${L.description}`,25),i(`Dauer: ${L.duration} min`,25),i(`Ziel: ${L.goal}`,25),(($=L.roles)==null?void 0:$.length)>0&&(i("Rollen:",25),L.roles.forEach(V=>{var j,T,Z;if(i(`${V.role_name}:`,30),i(V.task_description,35),V.learning_environment){const A=e.environments.find(U=>{var M;return U.id===((M=V.learning_environment)==null?void 0:M.environment_id)});if(A){i(`Lernumgebung: ${A.name}`,35);const U=(j=V.learning_environment.selected_materials)==null?void 0:j.map(F=>A.materials.find(q=>q.id===F)).filter(Boolean);U!=null&&U.length&&(i("Materialien:",35),U.forEach(F=>{var q;if(F){const J=((q=F.wlo_metadata)==null?void 0:q.wwwUrl)||F.access_link;J?s(F.name,8,J):s(F.name,8)}}));const M=(T=V.learning_environment.selected_tools)==null?void 0:T.map(F=>A.tools.find(q=>q.id===F)).filter(Boolean);M!=null&&M.length&&(i("Werkzeuge:",35),M.forEach(F=>{var q;if(F){const J=((q=F.wlo_metadata)==null?void 0:q.wwwUrl)||F.access_link;J?s(F.name,8,J):s(F.name,8)}}));const X=(Z=V.learning_environment.selected_services)==null?void 0:Z.map(F=>A.services.find(q=>q.id===F)).filter(Boolean);X!=null&&X.length&&(i("Dienste:",35),X.forEach(F=>{var q;if(F){const J=((q=F.wlo_metadata)==null?void 0:q.wwwUrl)||F.access_link;J?s(F.name,8,J):s(F.name,8)}}))}}}))})}),n+=10}),t.save(`${e.metadata.title||"didaktisches-template"}.pdf`)}function Ho(){const e=$s(),t=()=>{const a={metadata:e.metadata,problem:e.problem,context:e.context,influence_factors:e.influence_factors,solution:e.solution,consequences:e.consequences,implementation_notes:e.implementation_notes,related_patterns:e.related_patterns,feedback:e.feedback,sources:e.sources,actors:e.actors,environments:e.environments},o=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),l=URL.createObjectURL(o),u=document.createElement("a");u.href=l,u.download=`${a.metadata.title||"template"}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)},n=a=>{var u;const o=(u=a.target.files)==null?void 0:u[0];if(!o)return;const l=new FileReader;l.onload=c=>{var d;try{const p=(d=c.target)==null?void 0:d.result,h=JSON.parse(p);h.metadata&&e.setMetadata(h.metadata),h.problem&&e.setProblem(h.problem),h.context&&e.setContext(h.context),h.influence_factors&&e.setInfluenceFactors(h.influence_factors),h.solution&&e.setSolution(h.solution),h.consequences&&e.setConsequences(h.consequences),h.implementation_notes&&e.setImplementationNotes(h.implementation_notes),h.related_patterns&&e.setRelatedPatterns(h.related_patterns),h.feedback&&e.setFeedback(h.feedback),h.sources&&e.setSources(h.sources),h.actors&&e.setActors(h.actors),h.environments&&e.setEnvironments(h.environments)}catch(p){console.error("Error loading template:",p),alert("Fehler beim Laden der Vorlage")}},l.readAsText(o)},r=()=>{confirm("Möchten Sie das Beispiel-Template laden? Aktuelle Änderungen gehen verloren.")&&(e.setMetadata(ri.metadata),e.setProblem(ri.problem),e.setContext(ri.context),e.setInfluenceFactors(ri.influence_factors),e.setSolution(ri.solution),e.setConsequences(ri.consequences),e.setImplementationNotes(ri.implementation_notes),e.setRelatedPatterns(ri.related_patterns),e.setFeedback(ri.feedback),e.setSources(ri.sources),e.setActors(ri.actors),e.setEnvironments(ri.environments))},i=()=>{confirm("Möchten Sie wirklich alle Daten löschen?")&&(e.setMetadata({title:"",description:"",keywords:[],author:"",version:"1.0"}),e.setProblem({problem_description:"",learning_goals:[],didactic_keywords:[]}),e.setContext({target_group:"",subject:"",educational_level:"",prerequisites:"",time_frame:""}),e.setInfluenceFactors([]),e.setSolution({solution_description:"",didactic_approach:"",didactic_template:{learning_sequences:[]}}),e.setConsequences({advantages:[],disadvantages:[]}),e.setImplementationNotes([]),e.setRelatedPatterns([]),e.setFeedback({comments:[]}),e.setSources([]),e.setActors([]),e.setEnvironments([]))},s=async()=>{await qz(e)};return g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs("label",{className:"px-3 py-2 bg-green-500 text-white rounded hover:bg-green-600 cursor-pointer flex items-center gap-1 text-sm",children:[g.jsx(JD,{className:"w-4 h-4"}),"Template laden",g.jsx("input",{type:"file",accept:".json",onChange:n,className:"hidden"})]}),g.jsxs("button",{onClick:t,className:"px-3 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex items-center gap-1 text-sm",children:[g.jsx(YD,{className:"w-4 h-4"}),"Template speichern"]}),g.jsxs("button",{onClick:s,className:"px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-1 text-sm",children:[g.jsx(nB,{className:"w-4 h-4"}),"PDF generieren"]}),g.jsxs("button",{onClick:r,className:"px-3 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 flex items-center gap-1 text-sm",children:[g.jsx(eB,{className:"w-4 h-4"}),"Beispiel laden"]}),g.jsxs("button",{onClick:i,className:"px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center gap-1 text-sm",children:[g.jsx(lB,{className:"w-4 h-4"}),"Einträge löschen"]})]})}function Dz(){return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-8 rounded-lg",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-blue-900",children:"Unterrichtsabläufe mit KI"}),g.jsx(Ho,{})]}),g.jsx("p",{className:"text-lg text-blue-800",children:"Erstellen Sie professionelle didaktische Templates mit KI-Unterstützung und direkter Integration von Bildungsressourcen aus der WLO-Datenbank."})]}),g.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-purple-900",children:"Was ist der KI Assistent für Unterrichtsabläufe?"}),g.jsx("p",{className:"text-purple-800",children:"Ein intelligentes Werkzeug zur Erstellung strukturierter Unterrichtsabläufe. Kombinieren Sie didaktische Entwurfsmuster mit passenden Bildungsressourcen und erstellen Sie wiederverwendbare Templates für Ihren Unterricht. Laden Sie praxiserprobte Vorlagen aus der Community, um diese für Ihre Zwecke anzupassen."})]}),g.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-900",children:"Ihre Vorteile"}),g.jsxs("ul",{className:"space-y-2 text-green-800",children:[g.jsxs("li",{className:"flex items-center",children:[g.jsx("span",{className:"text-emerald-500 mr-2",children:"✓"}),"Strukturierte Unterrichtsplanung"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx("span",{className:"text-emerald-500 mr-2",children:"✓"}),"KI-gestützte Optimierung"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx("span",{className:"text-emerald-500 mr-2",children:"✓"}),"Integration von WLO-Ressourcen"]}),g.jsxs("li",{className:"flex items-center",children:[g.jsx("span",{className:"text-emerald-500 mr-2",children:"✓"}),"Flexible Anpassungsmöglichkeiten"]})]})]}),g.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-amber-900",children:"Empfohlener Workflow"}),g.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-lg font-medium text-amber-700",children:"1. Grundlagen definieren"}),g.jsx("p",{className:"text-amber-800",children:"Beginnen Sie mit der Beschreibung und den Patternelemente. Definieren Sie Ziele und Kontext."})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-lg font-medium text-amber-700",children:"2. Struktur aufbauen"}),g.jsx("p",{className:"text-amber-800",children:"Legen Sie Akteure und Lernumgebungen fest. Gestalten Sie den Unterrichtsablauf."})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-lg font-medium text-amber-700",children:"3. Optimieren & Erweitern"}),g.jsx("p",{className:"text-amber-800",children:"Nutzen Sie die KI-Funktionen und WLO-Integration für optimale Ergebnisse."})]})]})]}),g.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-teal-50 p-6 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-cyan-900",children:"Hilfreiche Tipps"}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium mb-2 text-cyan-800",children:"Bearbeiten Sie die Tabs von links nach rechts:"}),g.jsxs("ul",{className:"space-y-2 text-cyan-700 list-disc list-inside",children:[g.jsx("li",{children:"Beschreibung - Grundlegende Informationen"}),g.jsx("li",{children:"Patternelemente - Didaktische Struktur"}),g.jsx("li",{children:"Akteure - Beteiligte Personen/Gruppen"}),g.jsx("li",{children:"Lernumgebungen - Ressourcen & Werkzeuge"}),g.jsx("li",{children:"Unterrichtsablauf - Detaillierte Planung"})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium mb-2 text-cyan-800",children:"Zusätzliche Funktionen:"}),g.jsxs("ul",{className:"space-y-2 text-cyan-700 list-disc list-inside",children:[g.jsx("li",{children:"Vorschau - Visualisierung des Templates"}),g.jsx("li",{children:"KI Ablauf - Automatische Optimierung"}),g.jsx("li",{children:"KI Filter - Intelligente Ressourcensuche"}),g.jsx("li",{children:"WLO Inhalte - Integration von Bildungsressourcen"})]})]})]})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx(fP,{to:"/general-settings",className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 font-medium text-lg shadow-lg transform transition hover:scale-105",children:"Jetzt starten"})})]})}const Bz={title:"",description:"",keywords:[],author:"",version:"1.0"};function zz(){const{metadata:e=Bz,setMetadata:t}=$s(),n=r=>{t({...e,keywords:r.target.value.split(",").map(i=>i.trim())})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Allgemeines"}),g.jsx(Ho,{})]}),g.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg shadow-sm mb-8",children:g.jsx("p",{className:"text-blue-800",children:"Hier können Sie die allgemeinen Informationen Ihres didaktischen Templates festlegen. Diese Metadaten helfen bei der Organisation und dem Auffinden des Templates."})}),g.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titel"}),g.jsx("input",{type:"text",value:e.title,onChange:r=>t({...e,title:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Geben Sie einen aussagekräftigen Titel ein"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Beschreibung"}),g.jsx("textarea",{value:e.description,onChange:r=>t({...e,description:r.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Beschreiben Sie das Template und seine Ziele"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Schlüsselwörter (durch Komma getrennt)"}),g.jsx("input",{type:"text",value:e.keywords.join(", "),onChange:n,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"z.B. Mathematik, Inklusion, Differenzierung"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Autor"}),g.jsx("input",{type:"text",value:e.author,onChange:r=>t({...e,author:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Name oder Institution"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Version"}),g.jsx("input",{type:"text",value:e.version,onChange:r=>t({...e,version:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"z.B. 1.0"})]})]})})]})}const $z={problem_description:"",learning_goals:[],didactic_keywords:[]},Uz={target_group:"",subject:"",educational_level:"",prerequisites:"",time_frame:""},Vz={solution_description:"",didactic_approach:"",didactic_template:{learning_sequences:[]}},Hz={advantages:[],disadvantages:[]},Wz={comments:[]};function Gz(){const{problem:e=$z,setProblem:t,influence_factors:n=[],setInfluenceFactors:r,context:i=Uz,setContext:s,solution:a=Vz,setSolution:o,consequences:l=Hz,setConsequences:u,implementation_notes:c=[],setImplementationNotes:d,related_patterns:p=[],setRelatedPatterns:h,feedback:w=Wz,setFeedback:y,sources:_=[],setSources:m}=$s(),b=M=>{t({...e,learning_goals:M.target.value.split(`
`)})},S=M=>{t({...e,didactic_keywords:M.target.value.split(",").map(X=>X.trim())})},k=M=>{u({...l,advantages:M.target.value.split(`
`)})},P=M=>{u({...l,disadvantages:M.target.value.split(`
`)})},D=M=>{h(M.target.value.split(`
`))},R=()=>{const X=`Note${c.length+1}`;d([...c,{note_id:X,description:""}])},L=(M,X)=>{const F=[...c];F[M]={...F[M],description:X},d(F)},$=M=>{d(c.filter((X,F)=>F!==M))},V=()=>{const X=`S${_.length+1}`;m([..._,{source_id:X,title:"",author:"",year:new Date().getFullYear(),publisher:"",url:""}])},j=(M,X)=>{const F=[..._];F[M]={...F[M],...X},m(F)},T=M=>{m(_.filter((X,F)=>F!==M))},Z=()=>{const M={date:new Date().toISOString().split("T")[0],name:"",comment:""};y({comments:[...w.comments,M]})},A=(M,X)=>{const F=[...w.comments];F[M]={...F[M],...X},y({comments:F})},U=M=>{y({comments:w.comments.filter((X,F)=>F!==M)})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Didaktische Grundlagen"}),g.jsx(Ho,{})]}),g.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-6 rounded-lg shadow-sm mb-8",children:g.jsx("p",{className:"text-purple-900",children:"Die didaktischen Grundlagen bilden das Fundament Ihres Unterrichtsentwurfs. Hier definieren Sie das pädagogische Problem, den Kontext und die angestrebte Lösung. Beschreiben Sie die Herausforderungen, die Sie addressieren möchten, die konkreten Lernziele und wie diese durch Ihren didaktischen Ansatz erreicht werden sollen. Diese Grundlagen helfen dabei, ein kohärentes und zielgerichtetes Lehr-Lern-Szenario zu entwickeln."})}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Problem"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Problembeschreibung"}),g.jsx("textarea",{value:e.problem_description,onChange:M=>t({...e,problem_description:M.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lernziele (eines pro Zeile)"}),g.jsx("textarea",{value:e.learning_goals.join(`
`),onChange:b,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Didaktische Schlüsselwörter (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.didactic_keywords.join(", "),onChange:S,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Kontext"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zielgruppe"}),g.jsx("input",{type:"text",value:i.target_group,onChange:M=>s({...i,target_group:M.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fach"}),g.jsx("input",{type:"text",value:i.subject,onChange:M=>s({...i,subject:M.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bildungsstufe"}),g.jsx("input",{type:"text",value:i.educational_level,onChange:M=>s({...i,educational_level:M.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Voraussetzungen"}),g.jsx("input",{type:"text",value:i.prerequisites,onChange:M=>s({...i,prerequisites:M.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zeitrahmen"}),g.jsx("input",{type:"text",value:i.time_frame,onChange:M=>s({...i,time_frame:M.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Einflussfaktoren"}),g.jsxs("div",{className:"space-y-4",children:[n.map((M,X)=>g.jsxs("div",{className:"flex gap-4 items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("input",{type:"text",value:M.factor,onChange:F=>{const q=[...n];q[X]={...M,factor:F.target.value},r(q)},placeholder:"Faktor",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),g.jsx("textarea",{value:M.description,onChange:F=>{const q=[...n];q[X]={...M,description:F.target.value},r(q)},placeholder:"Beschreibung",rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsx("button",{onClick:()=>{const F=n.filter((q,J)=>J!==X);r(F)},className:"mt-1 p-2 text-red-600 hover:text-red-800",children:"Entfernen"})]},X)),g.jsx("button",{onClick:()=>r([...n,{factor:"",description:""}]),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Faktor hinzufügen"})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Lösung"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lösungsbeschreibung"}),g.jsx("textarea",{value:a.solution_description,onChange:M=>o({...a,solution_description:M.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Didaktischer Ansatz"}),g.jsx("textarea",{value:a.didactic_approach,onChange:M=>o({...a,didactic_approach:M.target.value}),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"z.B. Problemorientiertes Lernen, Entdeckendes Lernen, etc."})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Konsequenzen"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vorteile (einer pro Zeile)"}),g.jsx("textarea",{value:l.advantages.join(`
`),onChange:k,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"z.B. Fördert selbstständiges Lernen"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nachteile (einer pro Zeile)"}),g.jsx("textarea",{value:l.disadvantages.join(`
`),onChange:P,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"z.B. Höherer Zeitaufwand in der Vorbereitung"})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Umsetzungshinweise"}),g.jsxs("div",{className:"space-y-4",children:[c.map((M,X)=>g.jsxs("div",{className:"flex gap-4 items-start",children:[g.jsx("div",{className:"flex-1",children:g.jsx("textarea",{value:M.description,onChange:F=>L(X,F.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Beschreiben Sie den Umsetzungshinweis..."})}),g.jsx("button",{onClick:()=>$(X),className:"mt-1 p-2 text-red-600 hover:text-red-800",children:"Entfernen"})]},M.note_id)),g.jsx("button",{onClick:R,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Hinweis hinzufügen"})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verwandte Muster"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Verwandte Muster (eines pro Zeile)"}),g.jsx("textarea",{value:p.join(`
`),onChange:D,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"z.B. Kooperatives Lernen"})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Feedback"}),g.jsxs("div",{className:"space-y-4",children:[w.comments.map((M,X)=>g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Datum"}),g.jsx("input",{type:"date",value:M.date,onChange:F=>A(X,{date:F.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),g.jsx("input",{type:"text",value:M.name,onChange:F=>A(X,{name:F.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kommentar"}),g.jsx("textarea",{value:M.comment,onChange:F=>A(X,{comment:F.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsx("button",{onClick:()=>U(X),className:"mt-2 text-red-600 hover:text-red-800",children:"Entfernen"})]},X)),g.jsx("button",{onClick:Z,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Feedback hinzufügen"})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quellen"}),g.jsxs("div",{className:"space-y-4",children:[_.map((M,X)=>g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titel"}),g.jsx("input",{type:"text",value:M.title,onChange:F=>j(X,{title:F.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Autor"}),g.jsx("input",{type:"text",value:M.author,onChange:F=>j(X,{author:F.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jahr"}),g.jsx("input",{type:"number",value:M.year,onChange:F=>j(X,{year:parseInt(F.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Verlag"}),g.jsx("input",{type:"text",value:M.publisher,onChange:F=>j(X,{publisher:F.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL"}),g.jsx("input",{type:"url",value:M.url,onChange:F=>j(X,{url:F.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsx("button",{onClick:()=>T(X),className:"mt-2 text-red-600 hover:text-red-800",children:"Entfernen"})]},M.source_id)),g.jsx("button",{onClick:V,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Quelle hinzufügen"})]})]})]})}function Kz({actor:e,onUpdate:t,onCancel:n,onSave:r}){const[i,s]=Y.useState({}),[a,o]=Y.useState(""),[l,u]=Y.useState("A1"),c=["A1","A2","B1","B2","C1","C2"],d=(m,b)=>{switch(m){case"name":return b?"":"Name ist erforderlich";case"age":return b&&(isNaN(b)||b<0)?"Alter muss eine positive Zahl sein":"";default:return""}},p=(m,b,S)=>{const k=m.target.value.split(",").map(P=>P.trim());t(S?{[S]:{...e[S],[b]:k}}:{[b]:k})},h=(m,b,S)=>{const{value:k}=m.target,P=d(b,k);s(D=>({...D,[b]:P})),t(S?{[S]:{...e[S],[b]:k}}:{[b]:k})},w=()=>{if(!a)return;const m=[...e.competencies.language_skills.languages],b={...e.competencies.language_skills.proficiency_levels};m.includes(a)||(m.push(a),b[a]=l,t({competencies:{...e.competencies,language_skills:{languages:m,proficiency_levels:b}}})),o(""),u("A1")},y=m=>{const b=e.competencies.language_skills.languages.filter(k=>k!==m),S={...e.competencies.language_skills.proficiency_levels};delete S[m],t({competencies:{...e.competencies,language_skills:{languages:b,proficiency_levels:S}}})},_=(m,b)=>{t({competencies:{...e.competencies,language_skills:{...e.competencies.language_skills,proficiency_levels:{...e.competencies.language_skills.proficiency_levels,[m]:b}}}})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),g.jsx("input",{type:"text",value:e.name,onChange:m=>h(m,"name"),className:`w-full p-2 border rounded ${i.name?"border-red-500":""}`}),i.name&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.name})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Typ"}),g.jsxs("select",{value:e.type,onChange:m=>t({type:m.target.value}),className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"Einzelperson",children:"Einzelperson"}),g.jsx("option",{value:"Gruppe",children:"Gruppe"}),g.jsx("option",{value:"KI",children:"KI"})]})]})]}),g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Demografische Daten"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.type==="Gruppe"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Altersbereich"}),g.jsx("input",{type:"text",value:e.demographic_data.age_range||"",onChange:m=>h(m,"age_range","demographic_data"),className:"w-full p-2 border rounded",placeholder:"z.B. 14-16"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Geschlechterverteilung"}),g.jsx("input",{type:"text",value:e.demographic_data.gender_distribution||"",onChange:m=>h(m,"gender_distribution","demographic_data"),className:"w-full p-2 border rounded",placeholder:"z.B. gemischt"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Alter"}),g.jsx("input",{type:"number",value:e.demographic_data.age||"",onChange:m=>h(m,"age","demographic_data"),className:`w-full p-2 border rounded ${i.age?"border-red-500":""}`}),i.age&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.age})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Geschlecht"}),g.jsx("input",{type:"text",value:e.demographic_data.gender||"",onChange:m=>h(m,"gender","demographic_data"),className:"w-full p-2 border rounded"})]})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ethnischer Hintergrund"}),g.jsx("input",{type:"text",value:e.demographic_data.ethnic_background,onChange:m=>h(m,"ethnic_background","demographic_data"),className:"w-full p-2 border rounded"})]})]})]}),g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Bildung"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bildungsniveau"}),g.jsx("input",{type:"text",value:e.education.education_level,onChange:m=>h(m,"education_level","education"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Klassenstufe"}),g.jsx("input",{type:"text",value:e.education.class_level,onChange:m=>h(m,"class_level","education"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fachlicher Schwerpunkt"}),g.jsx("input",{type:"text",value:e.education.subject_focus,onChange:m=>h(m,"subject_focus","education"),className:"w-full p-2 border rounded"})]})]})]}),g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Kompetenzen"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fachkompetenzen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.competencies.subject_competencies.join(", "),onChange:m=>p(m,"subject_competencies","competencies"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kognitive Kompetenzen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.competencies.cognitive_competencies.join(", "),onChange:m=>p(m,"cognitive_competencies","competencies"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Methodische Kompetenzen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.competencies.methodical_competencies.join(", "),onChange:m=>p(m,"methodical_competencies","competencies"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Affektive Kompetenzen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.competencies.affective_competencies.join(", "),onChange:m=>p(m,"affective_competencies","competencies"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Digitale Kompetenzen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.competencies.digital_competencies.join(", "),onChange:m=>p(m,"digital_competencies","competencies"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sprachkenntnisse"}),g.jsxs("div",{className:"space-y-2",children:[e.competencies.language_skills.languages.map(m=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"min-w-[120px]",children:m}),g.jsx("select",{value:e.competencies.language_skills.proficiency_levels[m]||"A1",onChange:b=>_(m,b.target.value),className:"w-24 p-2 border rounded",children:c.map(b=>g.jsx("option",{value:b,children:b},b))}),g.jsx("button",{onClick:()=>y(m),className:"text-red-500 hover:text-red-700",children:"×"})]},m)),g.jsxs("div",{className:"flex gap-2 mt-2",children:[g.jsx("input",{type:"text",value:a,onChange:m=>o(m.target.value),placeholder:"Neue Sprache",className:"flex-1 p-2 border rounded"}),g.jsx("select",{value:l,onChange:m=>u(m.target.value),className:"w-24 p-2 border rounded",children:c.map(m=>g.jsx("option",{value:m,children:m},m))}),g.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Hinzufügen"})]})]})]})]})]}),g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Lernanforderungen"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lernpräferenzen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.learning_requirements.learning_preferences.join(", "),onChange:m=>p(m,"learning_preferences","learning_requirements"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Besondere Bedürfnisse (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.learning_requirements.special_needs.join(", "),onChange:m=>p(m,"special_needs","learning_requirements"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Technische Anforderungen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.learning_requirements.technical_requirements.join(", "),onChange:m=>p(m,"technical_requirements","learning_requirements"),className:"w-full p-2 border rounded"})]})]})]}),g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Interessen und Ziele"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Interessen (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.interests_and_goals.interests.join(", "),onChange:m=>p(m,"interests","interests_and_goals"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ziele (kommagetrennt)"}),g.jsx("input",{type:"text",value:e.interests_and_goals.goals.join(", "),onChange:m=>p(m,"goals","interests_and_goals"),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Motivationstyp"}),g.jsxs("select",{value:e.interests_and_goals.motivation.type,onChange:m=>t({interests_and_goals:{...e.interests_and_goals,motivation:{...e.interests_and_goals.motivation,type:m.target.value}}}),className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"intrinsic",children:"Intrinsisch"}),g.jsx("option",{value:"extrinsic",children:"Extrinsisch"}),g.jsx("option",{value:"mixed",children:"Gemischt"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Motivationsniveau"}),g.jsxs("select",{value:e.interests_and_goals.motivation.level,onChange:m=>t({interests_and_goals:{...e.interests_and_goals,motivation:{...e.interests_and_goals.motivation,level:m.target.value}}}),className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"low",children:"Niedrig"}),g.jsx("option",{value:"medium",children:"Mittel"}),g.jsx("option",{value:"high",children:"Hoch"})]})]})]})]})]}),g.jsxs("div",{className:"border p-4 rounded-lg",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Sozialstruktur"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gruppengröße"}),g.jsx("input",{type:e.type==="Gruppe"?"text":"number",value:e.social_structure.group_size,onChange:m=>t({social_structure:{...e.social_structure,group_size:e.type==="Gruppe"?m.target.value:parseInt(m.target.value)}}),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heterogenität"}),g.jsx("input",{type:"text",value:e.social_structure.heterogeneity,onChange:m=>t({social_structure:{...e.social_structure,heterogeneity:m.target.value}}),className:"w-full p-2 border rounded"})]})]})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200",children:"Abbrechen"}),g.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:Object.keys(i).some(m=>i[m]),children:"Speichern"})]})]})}const Zz={education_level:"",class_level:"",subject_focus:""},Yz={languages:[],proficiency_levels:{}},Xz={subject_competencies:[],cognitive_competencies:[],methodical_competencies:[],affective_competencies:[],digital_competencies:[],language_skills:Yz};function Jz({actor:e,onEdit:t,onDelete:n}){const r=e.education||Zz,i=e.competencies||Xz;return g.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:e.name||"Unbenannter Akteur"}),g.jsx("p",{className:"text-sm text-gray-500 capitalize",children:e.type}),g.jsxs("div",{className:"mt-2 space-y-2",children:[g.jsxs("p",{className:"text-sm",children:[g.jsx("span",{className:"font-medium",children:"Bildung:"})," ",r.education_level]}),g.jsxs("p",{className:"text-sm",children:[g.jsx("span",{className:"font-medium",children:"Sprachen:"})," ",i.language_skills.languages.join(", ")||"Keine angegeben"]})]})]}),g.jsxs("div",{className:"space-x-2",children:[g.jsx("button",{onClick:t,className:"px-3 py-1 text-sm bg-blue-100 rounded hover:bg-blue-200",children:"Bearbeiten"}),g.jsx("button",{onClick:n,className:"px-3 py-1 text-sm bg-red-100 rounded hover:bg-red-200",children:"Löschen"})]})]})})}const Qz={id:"",name:"",type:"Einzelperson",demographic_data:{ethnic_background:""},education:{education_level:"",class_level:"",subject_focus:""},competencies:{subject_competencies:[],cognitive_competencies:[],methodical_competencies:[],affective_competencies:[],digital_competencies:[],language_skills:{languages:[],proficiency_levels:{}}},social_form:"",learning_requirements:{learning_preferences:[],special_needs:[],technical_requirements:[]},interests_and_goals:{interests:[],goals:[],motivation:{type:"intrinsic",level:"medium"}},social_structure:{group_size:1,heterogeneity:"n/a"}};function e$(){const{actors:e=[],addActor:t,updateActor:n,removeActor:r}=$s(),[i,s]=Y.useState(null),a=()=>{const l=`actor-${e.length+1}`,u={...Qz,id:l};t(u),s(l)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Akteure"}),g.jsx(Ho,{})]}),g.jsx("div",{className:"bg-gradient-to-r from-teal-50 to-emerald-50 p-6 rounded-lg shadow-sm mb-8",children:g.jsx("p",{className:"text-teal-900",children:"Definieren Sie hier die verschiedenen Akteure Ihres Unterrichtsszenarios. Dies können Einzelpersonen (z.B. Lehrkräfte), Gruppen (z.B. Lernende) oder auch KI-Systeme sein. Für jeden Akteur können Sie detaillierte Profile mit Lernvoraussetzungen, Kompetenzen und spezifischen Bedürfnissen erstellen. Diese Informationen ermöglichen es, personalisierte und inklusive Unterrichtsabläufe zu gestalten, die optimal auf die Beteiligten abgestimmt sind. Definieren Sie sowohl die lehrenden als auch die lernenden Akteure - von der einzelnen Lehrkraft bis hin zu verschiedenen Lerngruppen mit unterschiedlichen Voraussetzungen."})}),g.jsx("div",{className:"space-y-6",children:e.map(o=>g.jsx("div",{children:i===o.id?g.jsx(Kz,{actor:o,onUpdate:l=>n(o.id,l),onCancel:()=>s(null),onSave:()=>s(null)}):g.jsx(Jz,{actor:o,onEdit:()=>s(o.id),onDelete:()=>r(o.id)})},o.id))}),g.jsx("button",{onClick:a,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Akteur hinzufügen"})]})}function P3({filter:e,onChange:t}){const[n,r]=Y.useState(""),[i,s]=Y.useState(""),a=()=>{n&&i&&(t({...e,[n]:i}),r(""),s(""))},o=l=>{const{[l]:u,...c}=e;t(c)};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Eigenschaft",className:"p-2 border rounded"}),g.jsx("input",{type:"text",value:i,onChange:l=>s(l.target.value),placeholder:"Wert",className:"p-2 border rounded"})]}),g.jsx("button",{onClick:a,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Kriterium hinzufügen"}),g.jsx("div",{className:"space-y-2",children:Object.entries(e).map(([l])=>g.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"font-medium",children:[l,":"]})," ",e[l]]}),g.jsx("button",{onClick:()=>o(l),className:"text-red-500 hover:text-red-600",children:"×"})]},l))})]})}function t$({material:e,onUpdate:t,onDelete:n,isNew:r=!1,contentTypes:i}){const[s,a]=Y.useState(r);return s?g.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-white space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),g.jsx("input",{type:"text",value:e.name,onChange:o=>t({name:o.target.value}),className:"w-full p-2 border rounded",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ressourcentyp"}),g.jsxs("select",{value:e.material_type,onChange:o=>t({material_type:o.target.value}),className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"",children:"Bitte wählen..."}),i.map(o=>g.jsx("option",{value:o,children:o},o))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Zugangslink"}),g.jsx("input",{type:"text",value:e.access_link,onChange:o=>t({access_link:o.target.value}),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quelle"}),g.jsxs("select",{value:e.source,onChange:o=>t({source:o.target.value}),className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"manual",children:"Manuell"}),g.jsx("option",{value:"database",children:"Datenbank"}),g.jsx("option",{value:"filter",children:"Filter"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Datenbank-ID"}),g.jsx("input",{type:"text",value:e.database_id||"",onChange:o=>t({database_id:o.target.value}),className:"w-full p-2 border rounded",disabled:e.source!=="database"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filterkriterien"}),g.jsx(P3,{filter:e.filter_criteria||{},onChange:o=>t({filter_criteria:o})})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx("button",{onClick:()=>{r?n():a(!1)},className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200",children:"Abbrechen"}),g.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Speichern"})]})]}):g.jsx("div",{className:"border rounded-lg p-4 mb-4 bg-white",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold",children:e.name||"Unbenannte Lernressource"}),g.jsx("p",{className:"text-sm text-gray-600",children:e.material_type}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Quelle: ",e.source]}),e.access_link&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Link: ",e.access_link]}),e.source==="database"&&e.database_id&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Datenbank-ID: ",e.database_id]})]}),g.jsxs("div",{className:"space-x-2",children:[g.jsx("button",{onClick:()=>a(!0),className:"px-3 py-1 text-sm bg-blue-100 rounded hover:bg-blue-200",children:"Bearbeiten"}),g.jsx("button",{onClick:n,className:"px-3 py-1 text-sm bg-red-100 rounded hover:bg-red-200",children:"Löschen"})]})]})})}function n$({tool:e,onUpdate:t,onDelete:n,isNew:r=!1}){const[i,s]=Y.useState(r);return i?g.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-white space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),g.jsx("input",{type:"text",value:e.name,onChange:a=>t({name:a.target.value}),className:"w-full p-2 border rounded",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Typ"}),g.jsx("input",{type:"text",value:e.tool_type,onChange:a=>t({tool_type:a.target.value}),className:"w-full p-2 border rounded",placeholder:"z.B. Hardware, Software, Online-Tool, etc."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Zugangslink"}),g.jsx("input",{type:"text",value:e.access_link,onChange:a=>t({access_link:a.target.value}),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quelle"}),g.jsxs("select",{value:e.source,onChange:a=>t({source:a.target.value}),className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"manual",children:"Manuell"}),g.jsx("option",{value:"database",children:"Datenbank"}),g.jsx("option",{value:"filter",children:"Filter"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Datenbank-ID"}),g.jsx("input",{type:"text",value:e.database_id||"",onChange:a=>t({database_id:a.target.value}),className:"w-full p-2 border rounded",disabled:e.source!=="database"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filterkriterien"}),g.jsx(P3,{filter:e.filter_criteria||{},onChange:a=>t({filter_criteria:a})})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx("button",{onClick:()=>{r?n():s(!1)},className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200",children:"Abbrechen"}),g.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Speichern"})]})]}):g.jsx("div",{className:"border rounded-lg p-4 mb-4 bg-white",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold",children:e.name||"Unbenanntes Werkzeug"}),g.jsx("p",{className:"text-sm text-gray-600",children:e.tool_type}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Quelle: ",e.source]}),e.access_link&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Link: ",e.access_link]}),e.source==="database"&&e.database_id&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Datenbank-ID: ",e.database_id]})]}),g.jsxs("div",{className:"space-x-2",children:[g.jsx("button",{onClick:()=>s(!0),className:"px-3 py-1 text-sm bg-blue-100 rounded hover:bg-blue-200",children:"Bearbeiten"}),g.jsx("button",{onClick:n,className:"px-3 py-1 text-sm bg-red-100 rounded hover:bg-red-200",children:"Löschen"})]})]})})}function r$({service:e,onUpdate:t,onDelete:n,isNew:r=!1}){const[i,s]=Y.useState(r);return i?g.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-white space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),g.jsx("input",{type:"text",value:e.name,onChange:a=>t({name:a.target.value}),className:"w-full p-2 border rounded",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Typ"}),g.jsx("input",{type:"text",value:e.service_type,onChange:a=>t({service_type:a.target.value}),className:"w-full p-2 border rounded",placeholder:"z.B. Förderung, Beratung, Cloud-Dienst, etc."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Zugangslink"}),g.jsx("input",{type:"text",value:e.access_link,onChange:a=>t({access_link:a.target.value}),className:"w-full p-2 border rounded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quelle"}),g.jsxs("select",{value:e.source,onChange:a=>t({source:a.target.value}),className:"w-full p-2 border rounded",children:[g.jsx("option",{value:"manual",children:"Manuell"}),g.jsx("option",{value:"database",children:"Datenbank"}),g.jsx("option",{value:"filter",children:"Filter"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Datenbank-ID"}),g.jsx("input",{type:"text",value:e.database_id||"",onChange:a=>t({database_id:a.target.value}),className:"w-full p-2 border rounded",disabled:e.source!=="database"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Filterkriterien"}),g.jsx(P3,{filter:e.filter_criteria||{},onChange:a=>t({filter_criteria:a})})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx("button",{onClick:()=>{r?n():s(!1)},className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200",children:"Abbrechen"}),g.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Speichern"})]})]}):g.jsx("div",{className:"border rounded-lg p-4 mb-4 bg-white",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold",children:e.name||"Unbenannter Dienst"}),g.jsx("p",{className:"text-sm text-gray-600",children:e.service_type}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Quelle: ",e.source]}),e.access_link&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Link: ",e.access_link]}),e.source==="database"&&e.database_id&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Datenbank-ID: ",e.database_id]})]}),g.jsxs("div",{className:"space-x-2",children:[g.jsx("button",{onClick:()=>s(!0),className:"px-3 py-1 text-sm bg-blue-100 rounded hover:bg-blue-200",children:"Bearbeiten"}),g.jsx("button",{onClick:n,className:"px-3 py-1 text-sm bg-red-100 rounded hover:bg-red-200",children:"Löschen"})]})]})})}const Rd={Allgemein:"http://w3id.org/openeduhub/vocabs/discipline/720","Alt-Griechisch":"http://w3id.org/openeduhub/vocabs/discipline/20003",Agrarwirtschaft:"http://w3id.org/openeduhub/vocabs/discipline/04001","Arbeit, Ernährung, Soziales":"http://w3id.org/openeduhub/vocabs/discipline/oeh01",Arbeitslehre:"http://w3id.org/openeduhub/vocabs/discipline/020",Arbeitssicherheit:"http://w3id.org/openeduhub/vocabs/discipline/04014",Astronomie:"http://w3id.org/openeduhub/vocabs/discipline/46014",Bautechnik:"http://w3id.org/openeduhub/vocabs/discipline/04002","Berufliche Bildung":"http://w3id.org/openeduhub/vocabs/discipline/040",Biologie:"http://w3id.org/openeduhub/vocabs/discipline/080",Chemie:"http://w3id.org/openeduhub/vocabs/discipline/100",Chinesisch:"http://w3id.org/openeduhub/vocabs/discipline/20041","Darstellendes Spiel":"http://w3id.org/openeduhub/vocabs/discipline/12002",Deutsch:"http://w3id.org/openeduhub/vocabs/discipline/120","Deutsch als Zweitsprache":"http://w3id.org/openeduhub/vocabs/discipline/28002",Elektrotechnik:"http://w3id.org/openeduhub/vocabs/discipline/04005","Ernährung und Hauswirtschaft":"http://w3id.org/openeduhub/vocabs/discipline/04006",Englisch:"http://w3id.org/openeduhub/vocabs/discipline/20001",Pädagogik:"http://w3id.org/openeduhub/vocabs/discipline/440",Esperanto:"http://w3id.org/openeduhub/vocabs/discipline/20090",Ethik:"http://w3id.org/openeduhub/vocabs/discipline/160","Farbtechnik und Raumgestaltung":"http://w3id.org/openeduhub/vocabs/discipline/04007",Französisch:"http://w3id.org/openeduhub/vocabs/discipline/20002",Geografie:"http://w3id.org/openeduhub/vocabs/discipline/220",Geschichte:"http://w3id.org/openeduhub/vocabs/discipline/240",Gesellschaftskunde:"http://w3id.org/openeduhub/vocabs/discipline/48005",Gesundheit:"http://w3id.org/openeduhub/vocabs/discipline/260",Hauswirtschaft:"http://w3id.org/openeduhub/vocabs/discipline/50001",Holztechnik:"http://w3id.org/openeduhub/vocabs/discipline/04009",Informatik:"http://w3id.org/openeduhub/vocabs/discipline/320","Interkulturelle Bildung":"http://w3id.org/openeduhub/vocabs/discipline/340",Italienisch:"http://w3id.org/openeduhub/vocabs/discipline/20004",Kunst:"http://w3id.org/openeduhub/vocabs/discipline/060",Körperpflege:"http://w3id.org/openeduhub/vocabs/discipline/04010",Latein:"http://w3id.org/openeduhub/vocabs/discipline/20005",Mathematik:"http://w3id.org/openeduhub/vocabs/discipline/380",Mechatronik:"http://w3id.org/openeduhub/vocabs/discipline/oeh04010",Medienbildung:"http://w3id.org/openeduhub/vocabs/discipline/900",Mediendidaktik:"http://w3id.org/openeduhub/vocabs/discipline/400",Metalltechnik:"http://w3id.org/openeduhub/vocabs/discipline/04011",MINT:"http://w3id.org/openeduhub/vocabs/discipline/04003",Musik:"http://w3id.org/openeduhub/vocabs/discipline/420",Nachhaltigkeit:"http://w3id.org/openeduhub/vocabs/discipline/64018",Niederdeutsch:"http://w3id.org/openeduhub/vocabs/discipline/niederdeutsch","Open Educational Resources":"http://w3id.org/openeduhub/vocabs/discipline/44099",Philosophie:"http://w3id.org/openeduhub/vocabs/discipline/450",Physik:"http://w3id.org/openeduhub/vocabs/discipline/460",Politik:"http://w3id.org/openeduhub/vocabs/discipline/480",Psychologie:"http://w3id.org/openeduhub/vocabs/discipline/510",Religion:"http://w3id.org/openeduhub/vocabs/discipline/520",Russisch:"http://w3id.org/openeduhub/vocabs/discipline/20006",Sachunterricht:"http://w3id.org/openeduhub/vocabs/discipline/28010",Sexualerziehung:"http://w3id.org/openeduhub/vocabs/discipline/560",Sonderpädagogik:"http://w3id.org/openeduhub/vocabs/discipline/44006",Sorbisch:"http://w3id.org/openeduhub/vocabs/discipline/20009",Sozialpädagogik:"http://w3id.org/openeduhub/vocabs/discipline/44007",Spanisch:"http://w3id.org/openeduhub/vocabs/discipline/20007",Sport:"http://w3id.org/openeduhub/vocabs/discipline/600","Textiltechnik und Bekleidung":"http://w3id.org/openeduhub/vocabs/discipline/04012",Türkisch:"http://w3id.org/openeduhub/vocabs/discipline/20008","Wirtschaft und Verwaltung":"http://w3id.org/openeduhub/vocabs/discipline/04013",Wirtschaftskunde:"http://w3id.org/openeduhub/vocabs/discipline/700","Umweltgefährdung, Umweltschutz":"http://w3id.org/openeduhub/vocabs/discipline/640",Verkehrserziehung:"http://w3id.org/openeduhub/vocabs/discipline/660",Weiterbildung:"http://w3id.org/openeduhub/vocabs/discipline/680",Werken:"http://w3id.org/openeduhub/vocabs/discipline/50005","Zeitgemäße Bildung":"http://w3id.org/openeduhub/vocabs/discipline/72001",Sonstiges:"http://w3id.org/openeduhub/vocabs/discipline/999"},Au={Bild:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/b8fb5fb2-d8bf-4bbe-ab68-358b65a26bed",Video:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/38774279-af36-4ec2-8e70-811d5a51a6a1",Audio:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/39197d6f-dfb1-4e82-92e5-79f906e9d2a9","Interaktives Medium":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/05aa0f49-7e1b-498b-a7d5-c5fc8e73b2e2",Unterrichtsidee:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/11f438d7-cb11-49c2-8e67-2dd7df677092",Unterrichtsplan:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/8526273b-2b21-46f2-ac8d-bbf362c8a690","Unterrichtsbaustein/-reihe":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/f1341358-3f91-449b-b6eb-f58636f756a0",Methoden:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/101c0c66-5202-4eba-9ebf-79f4903752b9","Tests / Fragebögen":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/02bfd0fe-96ab-4dd6-a306-ec362ec25ea0",Kurs:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/e10e9add-700e-4b57-a9c5-8f1088bb0545","Lernobjekt / -pfad":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/3469a5e7-86d1-4376-bd3d-1f2b183ed94a",Präsentation:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/1e300ea3-a687-45a3-b215-9c240c1666dc",Lernspiel:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/ded96854-280a-45ac-ad3a-f5b9b8dd0a03",Arbeitsblatt:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/c8e52242-361b-4a2a-b95d-25e516b28b45",Übungsmaterial:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/0b2d7dec-8eb1-4a28-9cf2-4f3a4f5a511b","Recherche, Lernauftrag":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/90a082d8-ee5f-4b33-bd5c-f1738262c47d",Experiment:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/ffe4d8e8-3cfd-4e9a-b025-83f129eb5c9d","Projekt-Material":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/71c71f72-fc8d-4263-902f-abf1366a73ca","Kreative, offene Aktivität":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/57bfc743-4c94-4bdd-bdfa-c638a062d151","Entdeckendes Lernen":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/ec402e87-c623-47e2-8d2e-1c4ea6923409",Rollenspiel:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/d0c115e4-848d-4aea-8e31-23869e9add3e",Fallstudie:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/41eaccae-899b-4209-8a54-c793a3cdf538",Artikel:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/c77df53a-2611-4029-9712-f9c0eeb032a3","(Lehr-)Buch":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/3927fdb6-0477-422c-9f5a-6285948aeaf4",Handout:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/9abf6ace-85bc-44e2-af4f-93a6bd255a21",Schülerarbeit:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/fece0442-c686-4496-b97e-06d87782009b",Noten:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/854e5bcf-d898-43ca-bc70-caf2a7e33673",Checkliste:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/99f3bb30-22c0-4b46-871c-43ab4b6baf6f","Regularien, Handbuch":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/ac925aae-1f3c-4817-a9dd-b9b24c336b0d",Webseite:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/55761ec6-0cd4-4677-86ee-6f395934dae7",Webblog:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/ac4987d7-5d09-4a21-82c6-268ed6cdc7eb",Wiki:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/6f669beb-273a-4153-bdb6-4c6d59b2366d","Wort-/Vokabelliste":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/9337a93e-777d-4d76-99a5-51f5e9935e63",Nachschlagewerk:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/cf8929a7-d521-4f17-bbe3-96748c862486",Primärmaterial:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/1c610f61-9bf0-4d77-8536-b713a3733510",Textbausteine:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/2c151a4e-556e-42db-9e44-3a581deb5834",Persönlichkeit:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/b1e25325-d403-44f0-814a-ff2f5d866931",Daten:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/620a3fee-ac87-40e6-8408-20b48b430eca",Formel:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/c2fc554c-a7ae-4af7-a785-d727c5a8d0db","Modell / 3D":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/25957b6b-338e-4379-ba4f-67fc7654ef34",Tabellen:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/a0b83e5a-eaa4-4df8-9eec-3678abd60c25",News:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/9bbb50a2-10c5-4a8b-9e0e-6a5fc86c40fe",Quelle:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/2e678af3-1026-4171-b88e-3b3a915d1673",Tool:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/37a3ad9c-727f-4b74-bbab-27d59015c695",Bildungsangebot:"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/6b6786df-9ce9-44bf-8a04-caebd4456fcf","Event, Wettbewerb":"http://w3id.org/openeduhub/vocabs/new_lrt_aggregated/b06c5816-60c7-4f1b-bcd7-95d70aaa4740"},lv={TITLE:"cclom:title",CONTENT_TYPE:"ccm:oeh_lrt_aggregated",EDUCATIONAL_CONTEXT:"ccm:educationalcontext",DISCIPLINE:"ccm:taxonid"},i$={id:"",name:"",description:"",materials:[],tools:[],services:[]};function s$(){const{environments:e=[],addEnvironment:t,updateEnvironment:n,removeEnvironment:r}=$s(),i=Object.keys(Au),s=()=>{const _=`ENV${e.length+1}`;t({...i$,id:_})},a=y=>{const _=e.find(m=>m.id===y);if(_){const m=(_.materials||[]).length+1,S={id:`${y}-M${m}`,name:"",material_type:"",source:"manual",access_link:""};n(y,{materials:[..._.materials||[],S]})}},o=y=>{const _=e.find(m=>m.id===y);if(_){const m=(_.tools||[]).length+1,S={id:`${y}-T${m}`,name:"",tool_type:"",source:"manual",access_link:""};n(y,{tools:[..._.tools||[],S]})}},l=y=>{const _=e.find(m=>m.id===y);if(_){const m=(_.services||[]).length+1,S={id:`${y}-S${m}`,name:"",service_type:"",source:"manual",access_link:""};n(y,{services:[..._.services||[],S]})}},u=(y,_,m)=>{const b=e.find(S=>S.id===y);if(b){const S=(b.materials||[]).map(k=>k.id===_?{...k,...m}:k);n(y,{materials:S})}},c=(y,_,m)=>{const b=e.find(S=>S.id===y);if(b){const S=(b.tools||[]).map(k=>k.id===_?{...k,...m}:k);n(y,{tools:S})}},d=(y,_,m)=>{const b=e.find(S=>S.id===y);if(b){const S=(b.services||[]).map(k=>k.id===_?{...k,...m}:k);n(y,{services:S})}},p=(y,_)=>{const m=e.find(b=>b.id===y);m&&n(y,{materials:(m.materials||[]).filter(b=>b.id!==_)})},h=(y,_)=>{const m=e.find(b=>b.id===y);m&&n(y,{tools:(m.tools||[]).filter(b=>b.id!==_)})},w=(y,_)=>{const m=e.find(b=>b.id===y);m&&n(y,{services:(m.services||[]).filter(b=>b.id!==_)})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Lernumgebungen"}),g.jsx(Ho,{})]}),g.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-teal-50 p-6 rounded-lg shadow-sm mb-8",children:[g.jsx("p",{className:"text-teal-900",children:"Lernumgebungen sind die Räume und Kontexte, in denen das Lernen stattfindet. Sie können eine oder mehrere Lernumgebungen definieren und diese mit den benötigten Ressourcen ausstatten. Jede Lernumgebung kann folgende Elemente enthalten:"}),g.jsxs("ul",{className:"mt-4 space-y-2 text-teal-800 list-disc list-inside",children:[g.jsx("li",{children:"Lernressourcen (z.B. Arbeitsblätter, Videos, Übungen)"}),g.jsx("li",{children:"Werkzeuge (z.B. Hardware, Software, Geräte)"}),g.jsx("li",{children:"Dienste (z.B. Unterstützungsangebote, Online-Plattformen)"})]}),g.jsx("p",{className:"mt-4 text-teal-900",children:"Wichtig: Alle Lernressourcen, Werkzeuge und Dienste, die Sie später im Unterrichtsablauf verwenden möchten, müssen hier einer passenden Lernumgebung zugeordnet werden."})]}),e.map(y=>g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex-1 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),g.jsx("input",{type:"text",value:y.name,onChange:_=>n(y.id,{name:_.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Beschreibung"}),g.jsx("textarea",{value:y.description,onChange:_=>n(y.id,{description:_.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),g.jsx("button",{onClick:()=>r(y.id),className:"ml-4 text-red-600 hover:text-red-800",children:"Entfernen"})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-medium mb-2",children:"Lernressourcen"}),g.jsx("button",{onClick:()=>a(y.id),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Lernressource hinzufügen"})]}),(y.materials||[]).map(_=>g.jsx(t$,{material:_,onUpdate:m=>u(y.id,_.id,m),onDelete:()=>p(y.id,_.id),isNew:_.name==="",contentTypes:i},_.id))]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-medium mb-2",children:"Werkzeuge"}),g.jsx("button",{onClick:()=>o(y.id),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Werkzeug hinzufügen"})]}),(y.tools||[]).map(_=>g.jsx(n$,{tool:_,onUpdate:m=>c(y.id,_.id,m),onDelete:()=>h(y.id,_.id),isNew:_.name===""},_.id))]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-lg font-medium mb-2",children:"Dienste"}),g.jsx("button",{onClick:()=>l(y.id),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Dienst hinzufügen"})]}),(y.services||[]).map(_=>g.jsx(r$,{service:_,onUpdate:m=>d(y.id,_.id,m),onDelete:()=>w(y.id,_.id),isNew:_.name===""},_.id))]})]},y.id)),g.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Lernumgebung hinzufügen"})]})}function a$({role:e,actors:t,environments:n,onUpdate:r,onDelete:i,activityId:s}){var d;const[a,o]=Y.useState(!0),l=n.find(p=>{var h;return p.id===((h=e.learning_environment)==null?void 0:h.environment_id)}),u=p=>{r({learning_environment:{environment_id:p,selected_materials:[],selected_tools:[],selected_services:[]}})},c=(p,h)=>{e.learning_environment&&r({learning_environment:{...e.learning_environment,[`selected_${p}`]:h}})};return g.jsx("div",{className:"border-l-2 border-orange-500 pl-4 mb-4",children:g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("button",{onClick:()=>o(!a),className:"flex items-center text-lg font-semibold",children:[g.jsx("span",{className:`transform transition-transform ${a?"rotate-90":""}`,children:"▶"}),e.role_name||"Unnamed Role"]}),g.jsx("button",{onClick:i,className:"text-red-500 hover:text-red-700",children:"Remove"})]}),a&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role Name"}),g.jsx("input",{type:"text",value:e.role_name,onChange:p=>r({role_name:p.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Actor"}),g.jsxs("select",{value:e.actor_id,onChange:p=>r({actor_id:p.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Select an actor..."}),t.map(p=>g.jsxs("option",{value:p.id,children:[p.name," (",p.type,")"]},p.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Task Description"}),g.jsx("textarea",{value:e.task_description,onChange:p=>r({task_description:p.target.value}),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Learning Environment"}),g.jsxs("select",{value:((d=e.learning_environment)==null?void 0:d.environment_id)||"",onChange:p=>u(p.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Select an environment..."}),n.map(p=>g.jsx("option",{value:p.id,children:p.name},p.id))]})]}),l&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Materials (hold Ctrl/Cmd to select multiple)"}),g.jsx("div",{className:"border rounded-md p-2 max-h-40 overflow-y-auto",children:l.materials.map(p=>{var h,w;return g.jsxs("label",{className:"flex items-center p-1 hover:bg-gray-50",children:[g.jsx("input",{type:"checkbox",checked:((w=(h=e.learning_environment)==null?void 0:h.selected_materials)==null?void 0:w.includes(p.id))||!1,onChange:y=>{var b;const _=((b=e.learning_environment)==null?void 0:b.selected_materials)||[],m=y.target.checked?[..._,p.id]:_.filter(S=>S!==p.id);c("materials",m)},className:"mr-2"}),p.name]},p.id)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tools (hold Ctrl/Cmd to select multiple)"}),g.jsx("div",{className:"border rounded-md p-2 max-h-40 overflow-y-auto",children:l.tools.map(p=>{var h,w;return g.jsxs("label",{className:"flex items-center p-1 hover:bg-gray-50",children:[g.jsx("input",{type:"checkbox",checked:((w=(h=e.learning_environment)==null?void 0:h.selected_tools)==null?void 0:w.includes(p.id))||!1,onChange:y=>{var b;const _=((b=e.learning_environment)==null?void 0:b.selected_tools)||[],m=y.target.checked?[..._,p.id]:_.filter(S=>S!==p.id);c("tools",m)},className:"mr-2"}),p.name]},p.id)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Services (hold Ctrl/Cmd to select multiple)"}),g.jsx("div",{className:"border rounded-md p-2 max-h-40 overflow-y-auto",children:l.services.map(p=>{var h,w;return g.jsxs("label",{className:"flex items-center p-1 hover:bg-gray-50",children:[g.jsx("input",{type:"checkbox",checked:((w=(h=e.learning_environment)==null?void 0:h.selected_services)==null?void 0:w.includes(p.id))||!1,onChange:y=>{var b;const _=((b=e.learning_environment)==null?void 0:b.selected_services)||[],m=y.target.checked?[..._,p.id]:_.filter(S=>S!==p.id);c("services",m)},className:"mr-2"}),p.name]},p.id)})})]})]})]})]})})}const uk={type:"formative",methods:[],criteria:[]};function o$({activity:e,actors:t=[],environments:n=[],onUpdate:r,onDelete:i,availableActivities:s,phaseId:a}){var _;const[o,l]=Y.useState(!0),u=()=>{var k;const m=(((k=e.roles)==null?void 0:k.length)||0)+1,S={role_id:`${e.activity_id}-R${m}`,role_name:"",actor_id:"",task_description:"",learning_environment:{environment_id:"",selected_materials:[],selected_tools:[],selected_services:[]}};r({roles:[...e.roles||[],S]})},c=(m,b)=>{const S=[...e.roles||[]];S[m]={...S[m],...b},r({roles:S})},d=m=>{const b=[...e.roles||[]];b.splice(m,1),r({roles:b})},p=m=>{r({assessment:{...e.assessment||uk,...m}})},h=e.assessment||uk,y=(()=>{const m={materials:[],tools:[],services:[]};return(e.roles||[]).forEach(b=>{var k,P,D;const S=n.find(R=>{var L;return R.id===((L=b.learning_environment)==null?void 0:L.environment_id)});S&&((((k=b.learning_environment)==null?void 0:k.selected_materials)||[]).forEach(R=>{const L=(S.materials||[]).find($=>$.id===R);L&&m.materials.push({name:L.name,env:S.name})}),(((P=b.learning_environment)==null?void 0:P.selected_tools)||[]).forEach(R=>{const L=(S.tools||[]).find($=>$.id===R);L&&m.tools.push({name:L.name,env:S.name})}),(((D=b.learning_environment)==null?void 0:D.selected_services)||[]).forEach(R=>{const L=(S.services||[]).find($=>$.id===R);L&&m.services.push({name:L.name,env:S.name})}))}),m})();return g.jsx("div",{className:"border-l-2 border-yellow-500 pl-4 mb-4",children:g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("button",{onClick:()=>l(!o),className:"flex items-center text-lg font-semibold",children:[g.jsx("span",{className:`transform transition-transform ${o?"rotate-90":""}`,children:"▶"}),e.name||"Unbenannte Aktivität"]}),g.jsx("button",{onClick:i,className:"text-red-500 hover:text-red-700",children:"Entfernen"})]}),o&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name der Aktivität"}),g.jsx("input",{type:"text",value:e.name,onChange:m=>r({name:m.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dauer (Minuten)"}),g.jsx("input",{type:"number",value:e.duration,onChange:m=>r({duration:parseInt(m.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Beschreibung"}),g.jsx("textarea",{value:e.description,onChange:m=>r({description:m.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ziel"}),g.jsx("textarea",{value:e.goal,onChange:m=>r({goal:m.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Voraussetzende Aktivität"}),g.jsxs("select",{value:e.prerequisite_activity||"",onChange:m=>r({prerequisite_activity:m.target.value||null}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Keine"}),s.map(m=>g.jsx("option",{value:m.activity_id,children:m.name||m.activity_id},m.activity_id))]})]}),((_=e.next_activity)==null?void 0:_.length)>0&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nächste Aktivitäten"}),g.jsx("div",{className:"mt-1 text-sm text-gray-500",children:e.next_activity.map(m=>{const b=s.find(S=>S.activity_id===m);return b?b.name||b.activity_id:m}).join(", ")})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Übergangstyp"}),g.jsxs("select",{value:e.transition_type,onChange:m=>r({transition_type:m.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"sequential",children:"Sequenziell"}),g.jsx("option",{value:"parallel",children:"Parallel"}),g.jsx("option",{value:"conditional",children:"Bedingt"}),g.jsx("option",{value:"branching",children:"Verzweigung"}),g.jsx("option",{value:"looping",children:"Wiederholung"}),g.jsx("option",{value:"optional",children:"Optional"}),g.jsx("option",{value:"feedback_loops",children:"Feedback-Schleife"})]})]}),(e.transition_type==="conditional"||e.transition_type==="branching"||e.transition_type==="looping"||e.transition_type==="feedback_loops")&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bedingungsbeschreibung"}),g.jsx("textarea",{value:e.condition_description||"",onChange:m=>r({condition_description:m.target.value||null}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:e.transition_type==="conditional"?"Beschreiben Sie die Bedingung für den Übergang...":e.transition_type==="branching"?"Beschreiben Sie die Verzweigungskriterien...":e.transition_type==="looping"?"Beschreiben Sie die Wiederholungsbedingung...":"Beschreiben Sie die Feedback-Bedingung..."})]}),e.transition_type==="looping"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Wiederholungsbedingung"}),g.jsx("input",{type:"text",value:e.repeat_until||"",onChange:m=>r({repeat_until:m.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"z.B. Mindestens 80% korrekte Antworten"})]}),e.transition_type==="optional"&&g.jsxs("div",{className:"flex items-center mt-2",children:[g.jsx("input",{type:"checkbox",checked:e.is_optional||!1,onChange:m=>r({is_optional:m.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Diese Aktivität ist optional"})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsx("h4",{className:"text-lg font-medium mb-4",children:"Ausgewählte Ressourcen"}),y.materials.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Lernressourcen:"}),g.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 ml-2",children:y.materials.map((m,b)=>g.jsxs("li",{children:[m.name," (",m.env,")"]},b))})]}),y.tools.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Werkzeuge:"}),g.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 ml-2",children:y.tools.map((m,b)=>g.jsxs("li",{children:[m.name," (",m.env,")"]},b))})]}),y.services.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Dienste:"}),g.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 ml-2",children:y.services.map((m,b)=>g.jsxs("li",{children:[m.name," (",m.env,")"]},b))})]})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsx("h4",{className:"text-lg font-medium mb-4",children:"Bewertung"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Typ"}),g.jsxs("select",{value:h.type,onChange:m=>p({type:m.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"formative",children:"Formativ"}),g.jsx("option",{value:"summative",children:"Summativ"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Methoden (kommagetrennt)"}),g.jsx("input",{type:"text",value:h.methods.join(", "),onChange:m=>p({methods:m.target.value.split(",").map(b=>b.trim()).filter(Boolean)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kriterien (kommagetrennt)"}),g.jsx("input",{type:"text",value:h.criteria.join(", "),onChange:m=>p({criteria:m.target.value.split(",").map(b=>b.trim()).filter(Boolean)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h4",{className:"text-lg font-medium",children:"Rollen"}),g.jsx("button",{onClick:u,className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Rolle hinzufügen"})]}),g.jsx("div",{className:"space-y-4",children:(e.roles||[]).map((m,b)=>g.jsx(a$,{role:m,actors:t,environments:n,onUpdate:S=>c(b,S),onDelete:()=>d(b),activityId:e.activity_id},m.role_id))})]})]})]})})}function l$({phase:e,actors:t,environments:n,availablePhases:r,onUpdate:i,onDelete:s,sequenceId:a}){var p,h;const[o,l]=Y.useState(!0),u=()=>{var m;const w=(((m=e.activities)==null?void 0:m.length)||0)+1,_={activity_id:`${e.phase_id}-A${w}`,name:"",description:"",duration:0,roles:[],goal:"",prerequisite_activity:null,transition_type:"sequential",condition_description:null,next_activity:[],assessment:{type:"formative",methods:[],criteria:[]}};i({activities:[...e.activities||[],_]})},c=(w,y)=>{const _=[...e.activities||[]],m=_[w];if("prerequisite_activity"in y){const b=m.prerequisite_activity,S=y.prerequisite_activity;if(b){const k=_.find(P=>P.activity_id===b);k&&(k.next_activity=k.next_activity.filter(P=>P!==m.activity_id))}if(S){const k=_.find(P=>P.activity_id===S);k&&!k.next_activity.includes(m.activity_id)&&k.next_activity.push(m.activity_id)}}Object.assign(m,y),i({activities:_})},d=w=>{const y=[...e.activities||[]],_=y[w];if(_.prerequisite_activity){const m=y.find(b=>b.activity_id===_.prerequisite_activity);m&&(m.next_activity=m.next_activity.filter(b=>b!==_.activity_id))}y.splice(w,1),i({activities:y})};return g.jsx("div",{className:"border-l-2 border-blue-500 pl-4 mb-4",children:g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("button",{onClick:()=>l(!o),className:"flex items-center text-lg font-semibold",children:[g.jsx("span",{className:`transform transition-transform ${o?"rotate-90":""}`,children:"▶"}),e.phase_name||"Unbenannte Phase"]}),g.jsx("button",{onClick:s,className:"text-red-500 hover:text-red-700",children:"Entfernen"})]}),o&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name der Phase"}),g.jsx("input",{type:"text",value:e.phase_name,onChange:w=>i({phase_name:w.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zeitrahmen"}),g.jsx("input",{type:"text",value:e.time_frame,onChange:w=>i({time_frame:w.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lernziel"}),g.jsx("textarea",{value:e.learning_goal,onChange:w=>i({learning_goal:w.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Voraussetzende Phase"}),g.jsxs("select",{value:e.prerequisite_phase||"",onChange:w=>i({prerequisite_phase:w.target.value||null}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Keine"}),r.map(w=>g.jsx("option",{value:w.phase_id,children:w.phase_name||w.phase_id},w.phase_id))]})]}),e.next_phase&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nächste Phase"}),g.jsx("div",{className:"mt-1 text-sm text-gray-500",children:((p=r.find(w=>w.phase_id===e.next_phase))==null?void 0:p.phase_name)||e.next_phase})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h4",{className:"text-lg font-medium",children:"Aktivitäten"}),g.jsx("button",{onClick:u,className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Aktivität hinzufügen"})]}),g.jsx("div",{className:"space-y-4",children:(h=e.activities)==null?void 0:h.map((w,y)=>g.jsx(o$,{activity:w,actors:t,environments:n,availableActivities:e.activities.filter((_,m)=>m!==y),onUpdate:_=>c(y,_),onDelete:()=>d(y),phaseId:e.phase_id},w.activity_id))})]})]})]})})}function u$(){var u,c;const{solution:e,setSolution:t,actors:n,environments:r}=$s(),i=()=>{const d=e.didactic_template.learning_sequences||[],w={sequence_id:`LS${d.length+1}`,sequence_name:"",time_frame:"",learning_goal:"",phases:[],prerequisite_learningsequences:[],transition_type:"sequential",condition_description:null,next_learningsequence:[]};t({...e,didactic_template:{...e.didactic_template,learning_sequences:[...d,w]}})},s=(d,p)=>{const h={...e},w=h.didactic_template.learning_sequences,y=w[d];if("prerequisite_learningsequences"in p){const _=y.prerequisite_learningsequences,m=p.prerequisite_learningsequences||[];_.forEach(b=>{const S=w.find(k=>k.sequence_id===b);S&&(S.next_learningsequence=S.next_learningsequence.filter(k=>k!==y.sequence_id))}),m.forEach(b=>{const S=w.find(k=>k.sequence_id===b);S&&!S.next_learningsequence.includes(y.sequence_id)&&S.next_learningsequence.push(y.sequence_id)})}Object.assign(y,p),t(h)},a=d=>{const p={...e},h=p.didactic_template.learning_sequences[d],w=h.phases.length+1,_={phase_id:`${h.sequence_id}-P${w}`,phase_name:"",time_frame:"",learning_goal:"",activities:[],prerequisite_phase:null,transition_type:"sequential",condition_description:null,next_phase:null};h.phases=[...h.phases,_],t(p)},o=(d,p,h)=>{const w={...e},_=w.didactic_template.learning_sequences[d].phases,m=_[p];if("prerequisite_phase"in h){const b=m.prerequisite_phase,S=h.prerequisite_phase;if(b){const k=_.find(P=>P.phase_id===b);k&&(k.next_phase=null)}if(S){const k=_.find(P=>P.phase_id===S);k&&(k.next_phase=m.phase_id)}}Object.assign(m,h),t(w)},l=(d,p)=>{const h={...e},w=h.didactic_template.learning_sequences[d],y=w.phases[p];if(y.prerequisite_phase){const _=w.phases.find(m=>m.phase_id===y.prerequisite_phase);_&&(_.next_phase=y.next_phase)}w.phases.splice(p,1),t(h)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Unterrichtsablauf"}),g.jsx(Ho,{})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg shadow-sm",children:[g.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Elemente des Lernablaufs"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-blue-800",children:"Lernsequenzen"}),g.jsx("p",{className:"text-blue-700",children:"Übergeordnete methodische Einheiten, die meist eine gesamte Lerneinheit umfassen. Sie können flexibel verknüpft werden für Methodenwechsel oder parallele Lernpfade."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-blue-800",children:"Phasen"}),g.jsx("p",{className:"text-blue-700",children:"Einzelne Abschnitte innerhalb einer Sequenz. Sie laufen immer nacheinander ab und müssen abgeschlossen sein, bevor die nächste Phase beginnt."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-blue-800",children:"Aktivitäten"}),g.jsx("p",{className:"text-blue-700",children:"Die kleinsten Einheiten im Prozessablauf. Sie können frei kombiniert werden und enthalten die konkreten Lernhandlungen."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-blue-800",children:"Rollen"}),g.jsx("p",{className:"text-blue-700",children:"Beschreiben die Aufgaben der Akteure in den Aktivitäten und sind mit Lernumgebungen und Ressourcen verknüpft."})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h4",{className:"font-medium text-blue-800",children:"Ablaufoptionen"}),g.jsxs("div",{className:"mt-2",children:[g.jsx("p",{className:"text-blue-700 font-medium",children:"Für Lernsequenzen:"}),g.jsxs("ul",{className:"list-disc list-inside text-blue-600 ml-2",children:[g.jsx("li",{children:"Sequenziell (nacheinander)"}),g.jsx("li",{children:"Parallel (gleichzeitig)"}),g.jsx("li",{children:"Bedingt (mit Bedingung)"})]})]}),g.jsxs("div",{className:"mt-2",children:[g.jsx("p",{className:"text-blue-700 font-medium",children:"Für Phasen:"}),g.jsx("ul",{className:"list-disc list-inside text-blue-600 ml-2",children:g.jsx("li",{children:"Sequenziell (nacheinander)"})})]}),g.jsxs("div",{className:"mt-2",children:[g.jsx("p",{className:"text-blue-700 font-medium",children:"Für Aktivitäten:"}),g.jsxs("ul",{className:"list-disc list-inside text-blue-600 ml-2",children:[g.jsx("li",{children:"Sequenziell"}),g.jsx("li",{children:"Parallel"}),g.jsx("li",{children:"Bedingt"}),g.jsx("li",{children:"Verzweigung"}),g.jsx("li",{children:"Wiederholung"}),g.jsx("li",{children:"Optional"}),g.jsx("li",{children:"Feedback-Schleife"})]})]})]})]})]}),g.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-6 rounded-lg shadow-sm",children:[g.jsx("h3",{className:"text-lg font-semibold text-emerald-900 mb-4",children:"Beispiel: Galeriemethode"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-white bg-opacity-50 p-4 rounded-lg",children:[g.jsx("h4",{className:"font-medium text-emerald-800",children:"Phase 1: Gruppenbildung"}),g.jsxs("div",{className:"mt-2 space-y-2",children:[g.jsx("p",{className:"text-emerald-700 font-medium",children:"Aktivität: Teams bilden"}),g.jsxs("div",{className:"ml-4",children:[g.jsxs("div",{className:"text-emerald-700",children:[g.jsx("p",{className:"font-medium",children:"Rolle: Lehrkraft"}),g.jsxs("ul",{className:"list-disc list-inside ml-2 text-sm",children:[g.jsx("li",{children:"Akteur: Frau Schmidt"}),g.jsx("li",{children:"Lernumgebung: Klassenzimmer"}),g.jsx("li",{children:"Ressourcen: Gruppeneinteilungskarten"})]})]}),g.jsxs("div",{className:"mt-2 text-emerald-700",children:[g.jsx("p",{className:"font-medium",children:"Rolle: Lernende"}),g.jsxs("ul",{className:"list-disc list-inside ml-2 text-sm",children:[g.jsx("li",{children:"Akteur: Hauptlerngruppe"}),g.jsx("li",{children:"Lernumgebung: Klassenzimmer"})]})]})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"bg-white bg-opacity-30 p-2 rounded",children:g.jsx("p",{className:"text-emerald-800",children:"Phase 2: Input"})}),g.jsx("div",{className:"bg-white bg-opacity-30 p-2 rounded",children:g.jsx("p",{className:"text-emerald-800",children:"Phase 3: Aufgabenstellung"})}),g.jsx("div",{className:"bg-white bg-opacity-30 p-2 rounded",children:g.jsx("p",{className:"text-emerald-800",children:"Phase 4: Gruppenarbeit & Ausstellung"})}),g.jsx("div",{className:"bg-white bg-opacity-30 p-2 rounded",children:g.jsx("p",{className:"text-emerald-800",children:"Phase 5: Auswertung"})})]})]})]})]}),g.jsx("div",{className:"space-y-6",children:(c=(u=e.didactic_template)==null?void 0:u.learning_sequences)==null?void 0:c.map((d,p)=>{var h,w;return g.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name der Sequenz"}),g.jsx("input",{type:"text",value:d.sequence_name,onChange:y=>s(p,{sequence_name:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zeitrahmen"}),g.jsx("input",{type:"text",value:d.time_frame,onChange:y=>s(p,{time_frame:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lernziel"}),g.jsx("textarea",{value:d.learning_goal,onChange:y=>s(p,{learning_goal:y.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Voraussetzende Sequenzen"}),g.jsx("select",{multiple:!0,value:d.prerequisite_learningsequences,onChange:y=>{const _=Array.from(y.target.selectedOptions,m=>m.value);s(p,{prerequisite_learningsequences:_})},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",size:3,children:e.didactic_template.learning_sequences.filter((y,_)=>_!==p).map(y=>g.jsx("option",{value:y.sequence_id,children:y.sequence_name||y.sequence_id},y.sequence_id))}),g.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Strg/Cmd gedrückt halten für Mehrfachauswahl"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Übergangstyp"}),g.jsxs("select",{value:d.transition_type,onChange:y=>s(p,{transition_type:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"sequential",children:"Sequenziell"}),g.jsx("option",{value:"parallel",children:"Parallel"}),g.jsx("option",{value:"conditional",children:"Bedingt"}),g.jsx("option",{value:"all_completed",children:"Alle abgeschlossen"}),g.jsx("option",{value:"one_of",children:"Eine von"})]})]}),d.transition_type==="conditional"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bedingungsbeschreibung"}),g.jsx("textarea",{value:d.condition_description||"",onChange:y=>s(p,{condition_description:y.target.value||null}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),((h=d.next_learningsequence)==null?void 0:h.length)>0&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nächste Sequenzen"}),g.jsx("div",{className:"mt-1 text-sm text-gray-500",children:d.next_learningsequence.map(y=>{const _=e.didactic_template.learning_sequences.find(m=>m.sequence_id===y);return _?_.sequence_name||_.sequence_id:y}).join(", ")})]}),g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h3",{className:"text-lg font-medium",children:"Phasen"}),g.jsx("button",{onClick:()=>a(p),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Phase hinzufügen"})]}),g.jsx("div",{className:"space-y-4",children:(w=d.phases)==null?void 0:w.map((y,_)=>g.jsx(l$,{phase:y,actors:n,environments:r,onUpdate:m=>o(p,_,m),onDelete:()=>l(p,_),availablePhases:d.phases.filter((m,b)=>b!==_),sequenceId:d.sequence_id},y.phase_id))})]})]})},d.sequence_id)})}),g.jsx("button",{onClick:i,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Lernsequenz hinzufügen"})]})}function jr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=jr(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:c$}=ve,{useSyncExternalStoreWithSelector:d$}=yP,f$=e=>e;function zP(e,t=f$,n){const r=d$(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c$(r),r}const ck=(e,t)=>{const n=hP(e),r=(i,s=t)=>zP(n,i,s);return Object.assign(r,n),r},h$=(e,t)=>e?ck(e,t):ck;function vr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var p$={value:()=>{}};function a0(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new km(n)}function km(e){this._=e}function m$(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}km.prototype=a0.prototype={constructor:km,on:function(e,t){var n=this._,r=m$(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=g$(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=dk(n[i],e.name,t);else if(t==null)for(i in n)n[i]=dk(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new km(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function g$(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function dk(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=p$,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var $_="http://www.w3.org/1999/xhtml";const fk={svg:"http://www.w3.org/2000/svg",xhtml:$_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o0(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),fk.hasOwnProperty(t)?{space:fk[t],local:e}:e}function v$(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$_&&t.documentElement.namespaceURI===$_?t.createElement(e):t.createElementNS(n,e)}}function y$(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $P(e){var t=o0(e);return(t.local?y$:v$)(t)}function b$(){}function R3(e){return e==null?b$:function(){return this.querySelector(e)}}function w$(e){typeof e!="function"&&(e=R3(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new pi(r,this._parents)}function _$(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function x$(){return[]}function UP(e){return e==null?x$:function(){return this.querySelectorAll(e)}}function N$(e){return function(){return _$(e.apply(this,arguments))}}function S$(e){typeof e=="function"?e=N$(e):e=UP(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new pi(r,i)}function VP(e){return function(){return this.matches(e)}}function HP(e){return function(t){return t.matches(e)}}var k$=Array.prototype.find;function E$(e){return function(){return k$.call(this.children,e)}}function A$(){return this.firstElementChild}function C$(e){return this.select(e==null?A$:E$(typeof e=="function"?e:HP(e)))}var j$=Array.prototype.filter;function L$(){return Array.from(this.children)}function P$(e){return function(){return j$.call(this.children,e)}}function R$(e){return this.selectAll(e==null?L$:P$(typeof e=="function"?e:HP(e)))}function I$(e){typeof e!="function"&&(e=VP(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new pi(r,this._parents)}function WP(e){return new Array(e.length)}function T$(){return new pi(this._enter||this._groups.map(WP),this._parents)}function dg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}dg.prototype={constructor:dg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function O$(e){return function(){return e}}function M$(e,t,n,r,i,s){for(var a=0,o,l=t.length,u=s.length;a<u;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new dg(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function F$(e,t,n,r,i,s,a){var o,l,u=new Map,c=t.length,d=s.length,p=new Array(c),h;for(o=0;o<c;++o)(l=t[o])&&(p[o]=h=a.call(l,l.__data__,o,t)+"",u.has(h)?i[o]=l:u.set(h,l));for(o=0;o<d;++o)h=a.call(e,s[o],o,s)+"",(l=u.get(h))?(r[o]=l,l.__data__=s[o],u.delete(h)):n[o]=new dg(e,s[o]);for(o=0;o<c;++o)(l=t[o])&&u.get(p[o])===l&&(i[o]=l)}function q$(e){return e.__data__}function D$(e,t){if(!arguments.length)return Array.from(this,q$);var n=t?F$:M$,r=this._parents,i=this._groups;typeof e!="function"&&(e=O$(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],p=d.length,h=B$(e.call(c,c&&c.__data__,u,r)),w=h.length,y=o[u]=new Array(w),_=a[u]=new Array(w),m=l[u]=new Array(p);n(c,d,y,_,m,h,t);for(var b=0,S=0,k,P;b<w;++b)if(k=y[b]){for(b>=S&&(S=b+1);!(P=_[S])&&++S<w;);k._next=P||null}}return a=new pi(a,r),a._enter=o,a._exit=l,a}function B$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z$(){return new pi(this._exit||this._groups.map(WP),this._parents)}function $$(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function U$(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],d=u.length,p=o[l]=new Array(d),h,w=0;w<d;++w)(h=u[w]||c[w])&&(p[w]=h);for(;l<i;++l)o[l]=n[l];return new pi(o,this._parents)}function V$(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function H$(e){e||(e=W$);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),u,c=0;c<o;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new pi(i,this._parents).order()}function W$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function G$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function K$(){return Array.from(this)}function Z$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Y$(){let e=0;for(const t of this)++e;return e}function X$(){return!this.node()}function J$(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function Q$(e){return function(){this.removeAttribute(e)}}function eU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tU(e,t){return function(){this.setAttribute(e,t)}}function nU(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function rU(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function iU(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sU(e,t){var n=o0(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?eU:Q$:typeof t=="function"?n.local?iU:rU:n.local?nU:tU)(n,t))}function GP(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function aU(e){return function(){this.style.removeProperty(e)}}function oU(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lU(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function uU(e,t,n){return arguments.length>1?this.each((t==null?aU:typeof t=="function"?lU:oU)(e,t,n??"")):_c(this.node(),e)}function _c(e,t){return e.style.getPropertyValue(t)||GP(e).getComputedStyle(e,null).getPropertyValue(t)}function cU(e){return function(){delete this[e]}}function dU(e,t){return function(){this[e]=t}}function fU(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function hU(e,t){return arguments.length>1?this.each((t==null?cU:typeof t=="function"?fU:dU)(e,t)):this.node()[e]}function KP(e){return e.trim().split(/^|\s+/)}function I3(e){return e.classList||new ZP(e)}function ZP(e){this._node=e,this._names=KP(e.getAttribute("class")||"")}ZP.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function YP(e,t){for(var n=I3(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function XP(e,t){for(var n=I3(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function pU(e){return function(){YP(this,e)}}function mU(e){return function(){XP(this,e)}}function gU(e,t){return function(){(t.apply(this,arguments)?YP:XP)(this,e)}}function vU(e,t){var n=KP(e+"");if(arguments.length<2){for(var r=I3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?gU:t?pU:mU)(n,t))}function yU(){this.textContent=""}function bU(e){return function(){this.textContent=e}}function wU(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function _U(e){return arguments.length?this.each(e==null?yU:(typeof e=="function"?wU:bU)(e)):this.node().textContent}function xU(){this.innerHTML=""}function NU(e){return function(){this.innerHTML=e}}function SU(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kU(e){return arguments.length?this.each(e==null?xU:(typeof e=="function"?SU:NU)(e)):this.node().innerHTML}function EU(){this.nextSibling&&this.parentNode.appendChild(this)}function AU(){return this.each(EU)}function CU(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jU(){return this.each(CU)}function LU(e){var t=typeof e=="function"?e:$P(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function PU(){return null}function RU(e,t){var n=typeof e=="function"?e:$P(e),r=t==null?PU:typeof t=="function"?t:R3(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function IU(){var e=this.parentNode;e&&e.removeChild(this)}function TU(){return this.each(IU)}function OU(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function MU(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FU(e){return this.select(e?MU:OU)}function qU(e){return arguments.length?this.property("__data__",e):this.node().__data__}function DU(e){return function(t){e.call(this,t,this.__data__)}}function BU(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function zU(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function $U(e,t,n){return function(){var r=this.__on,i,s=DU(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function UU(e,t,n){var r=BU(e+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<s;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=t?$U:zU,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function JP(e,t,n){var r=GP(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function VU(e,t){return function(){return JP(this,e,t)}}function HU(e,t){return function(){return JP(this,e,t.apply(this,arguments))}}function WU(e,t){return this.each((typeof t=="function"?HU:VU)(e,t))}function*GU(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var QP=[null];function pi(e,t){this._groups=e,this._parents=t}function bh(){return new pi([[document.documentElement]],QP)}function KU(){return this}pi.prototype=bh.prototype={constructor:pi,select:w$,selectAll:S$,selectChild:C$,selectChildren:R$,filter:I$,data:D$,enter:T$,exit:z$,join:$$,merge:U$,selection:KU,order:V$,sort:H$,call:G$,nodes:K$,node:Z$,size:Y$,empty:X$,each:J$,attr:sU,style:uU,property:hU,classed:vU,text:_U,html:kU,raise:AU,lower:jU,append:LU,insert:RU,remove:TU,clone:FU,datum:qU,on:UU,dispatch:WU,[Symbol.iterator]:GU};function ts(e){return typeof e=="string"?new pi([[document.querySelector(e)]],[document.documentElement]):new pi([[e]],QP)}function ZU(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Cs(e,t){if(e=ZU(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const YU={passive:!1},zf={capture:!0,passive:!1};function uv(e){e.stopImmediatePropagation()}function ic(e){e.preventDefault(),e.stopImmediatePropagation()}function eR(e){var t=e.document.documentElement,n=ts(e).on("dragstart.drag",ic,zf);"onselectstart"in t?n.on("selectstart.drag",ic,zf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tR(e,t){var n=e.document.documentElement,r=ts(e).on("dragstart.drag",null);t&&(r.on("click.drag",ic,zf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Hp=e=>()=>e;function U_(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:a,y:o,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}U_.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function XU(e){return!e.ctrlKey&&!e.button}function JU(){return this.parentNode}function QU(e,t){return t??{x:e.x,y:e.y}}function eV(){return navigator.maxTouchPoints||"ontouchstart"in this}function tV(){var e=XU,t=JU,n=QU,r=eV,i={},s=a0("start","drag","end"),a=0,o,l,u,c,d=0;function p(k){k.on("mousedown.drag",h).filter(r).on("touchstart.drag",_).on("touchmove.drag",m,YU).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(k,P){if(!(c||!e.call(this,k,P))){var D=S(this,t.call(this,k,P),k,P,"mouse");D&&(ts(k.view).on("mousemove.drag",w,zf).on("mouseup.drag",y,zf),eR(k.view),uv(k),u=!1,o=k.clientX,l=k.clientY,D("start",k))}}function w(k){if(ic(k),!u){var P=k.clientX-o,D=k.clientY-l;u=P*P+D*D>d}i.mouse("drag",k)}function y(k){ts(k.view).on("mousemove.drag mouseup.drag",null),tR(k.view,u),ic(k),i.mouse("end",k)}function _(k,P){if(e.call(this,k,P)){var D=k.changedTouches,R=t.call(this,k,P),L=D.length,$,V;for($=0;$<L;++$)(V=S(this,R,k,P,D[$].identifier,D[$]))&&(uv(k),V("start",k,D[$]))}}function m(k){var P=k.changedTouches,D=P.length,R,L;for(R=0;R<D;++R)(L=i[P[R].identifier])&&(ic(k),L("drag",k,P[R]))}function b(k){var P=k.changedTouches,D=P.length,R,L;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),R=0;R<D;++R)(L=i[P[R].identifier])&&(uv(k),L("end",k,P[R]))}function S(k,P,D,R,L,$){var V=s.copy(),j=Cs($||D,P),T,Z,A;if((A=n.call(k,new U_("beforestart",{sourceEvent:D,target:p,identifier:L,active:a,x:j[0],y:j[1],dx:0,dy:0,dispatch:V}),R))!=null)return T=A.x-j[0]||0,Z=A.y-j[1]||0,function U(M,X,F){var q=j,J;switch(M){case"start":i[L]=U,J=a++;break;case"end":delete i[L],--a;case"drag":j=Cs(F||X,P),J=a;break}V.call(M,k,new U_(M,{sourceEvent:X,subject:A,target:p,identifier:L,active:J,x:j[0]+T,y:j[1]+Z,dx:j[0]-q[0],dy:j[1]-q[1],dispatch:V}),R)}}return p.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Hp(!!k),p):e},p.container=function(k){return arguments.length?(t=typeof k=="function"?k:Hp(k),p):t},p.subject=function(k){return arguments.length?(n=typeof k=="function"?k:Hp(k),p):n},p.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:Hp(!!k),p):r},p.on=function(){var k=s.on.apply(s,arguments);return k===s?p:k},p.clickDistance=function(k){return arguments.length?(d=(k=+k)*k,p):Math.sqrt(d)},p}function T3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nR(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wh(){}var $f=.7,fg=1/$f,sc="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nV=/^#([0-9a-f]{3,8})$/,rV=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),iV=new RegExp(`^rgb\\(${qs},${qs},${qs}\\)$`),sV=new RegExp(`^rgba\\(${sc},${sc},${sc},${Uf}\\)$`),aV=new RegExp(`^rgba\\(${qs},${qs},${qs},${Uf}\\)$`),oV=new RegExp(`^hsl\\(${Uf},${qs},${qs}\\)$`),lV=new RegExp(`^hsla\\(${Uf},${qs},${qs},${Uf}\\)$`),hk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T3(wh,Vf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pk,formatHex:pk,formatHex8:uV,formatHsl:cV,formatRgb:mk,toString:mk});function pk(){return this.rgb().formatHex()}function uV(){return this.rgb().formatHex8()}function cV(){return rR(this).formatHsl()}function mk(){return this.rgb().formatRgb()}function Vf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gk(t):n===3?new Br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Wp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Wp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rV.exec(e))?new Br(t[1],t[2],t[3],1):(t=iV.exec(e))?new Br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sV.exec(e))?Wp(t[1],t[2],t[3],t[4]):(t=aV.exec(e))?Wp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oV.exec(e))?bk(t[1],t[2]/100,t[3]/100,1):(t=lV.exec(e))?bk(t[1],t[2]/100,t[3]/100,t[4]):hk.hasOwnProperty(e)?gk(hk[e]):e==="transparent"?new Br(NaN,NaN,NaN,0):null}function gk(e){return new Br(e>>16&255,e>>8&255,e&255,1)}function Wp(e,t,n,r){return r<=0&&(e=t=n=NaN),new Br(e,t,n,r)}function dV(e){return e instanceof wh||(e=Vf(e)),e?(e=e.rgb(),new Br(e.r,e.g,e.b,e.opacity)):new Br}function V_(e,t,n,r){return arguments.length===1?dV(e):new Br(e,t,n,r??1)}function Br(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}T3(Br,V_,nR(wh,{brighter(e){return e=e==null?fg:Math.pow(fg,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Br(wl(this.r),wl(this.g),wl(this.b),hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vk,formatHex:vk,formatHex8:fV,formatRgb:yk,toString:yk}));function vk(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}`}function fV(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}${fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function yk(){const e=hg(this.opacity);return`${e===1?"rgb(":"rgba("}${wl(this.r)}, ${wl(this.g)}, ${wl(this.b)}${e===1?")":`, ${e})`}`}function hg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fl(e){return e=wl(e),(e<16?"0":"")+e.toString(16)}function bk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ns(e,t,n,r)}function rR(e){if(e instanceof ns)return new ns(e.h,e.s,e.l,e.opacity);if(e instanceof wh||(e=Vf(e)),!e)return new ns;if(e instanceof ns)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ns(a,o,l,e.opacity)}function hV(e,t,n,r){return arguments.length===1?rR(e):new ns(e,t,n,r??1)}function ns(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}T3(ns,hV,nR(wh,{brighter(e){return e=e==null?fg:Math.pow(fg,e),new ns(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new ns(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Br(cv(e>=240?e-240:e+120,i,r),cv(e,i,r),cv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ns(wk(this.h),Gp(this.s),Gp(this.l),hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hg(this.opacity);return`${e===1?"hsl(":"hsla("}${wk(this.h)}, ${Gp(this.s)*100}%, ${Gp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wk(e){return e=(e||0)%360,e<0?e+360:e}function Gp(e){return Math.max(0,Math.min(1,e||0))}function cv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const iR=e=>()=>e;function pV(e,t){return function(n){return e+n*t}}function mV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gV(e){return(e=+e)==1?sR:function(t,n){return n-t?mV(t,n,e):iR(isNaN(t)?n:t)}}function sR(e,t){var n=t-e;return n?pV(e,n):iR(isNaN(e)?t:e)}const _k=function e(t){var n=gV(t);function r(i,s){var a=n((i=V_(i)).r,(s=V_(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=sR(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function oo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var H_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dv=new RegExp(H_.source,"g");function vV(e){return function(){return e}}function yV(e){return function(t){return e(t)+""}}function bV(e,t){var n=H_.lastIndex=dv.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(r=H_.exec(e))&&(i=dv.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:oo(r,i)})),n=dv.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?yV(l[0].x):vV(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}var xk=180/Math.PI,W_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aR(e,t,n,r,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*xk,skewX:Math.atan(l)*xk,scaleX:a,scaleY:o}}var Kp;function wV(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?W_:aR(t.a,t.b,t.c,t.d,t.e,t.f)}function _V(e){return e==null||(Kp||(Kp=document.createElementNS("http://www.w3.org/2000/svg","g")),Kp.setAttribute("transform",e),!(e=Kp.transform.baseVal.consolidate()))?W_:(e=e.matrix,aR(e.a,e.b,e.c,e.d,e.e,e.f))}function oR(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,p,h,w){if(u!==d||c!==p){var y=h.push("translate(",null,t,null,n);w.push({i:y-4,x:oo(u,d)},{i:y-2,x:oo(c,p)})}else(d||p)&&h.push("translate("+d+t+p+n)}function a(u,c,d,p){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:oo(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function o(u,c,d,p){u!==c?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:oo(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,p,h,w){if(u!==d||c!==p){var y=h.push(i(h)+"scale(",null,",",null,")");w.push({i:y-4,x:oo(u,d)},{i:y-2,x:oo(c,p)})}else(d!==1||p!==1)&&h.push(i(h)+"scale("+d+","+p+")")}return function(u,c){var d=[],p=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,p),a(u.rotate,c.rotate,d,p),o(u.skewX,c.skewX,d,p),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,p),u=c=null,function(h){for(var w=-1,y=p.length,_;++w<y;)d[(_=p[w]).i]=_.x(h);return d.join("")}}}var xV=oR(wV,"px, ","px)","deg)"),NV=oR(_V,", ",")",")"),SV=1e-12;function Nk(e){return((e=Math.exp(e))+1/e)/2}function kV(e){return((e=Math.exp(e))-1/e)/2}function EV(e){return((e=Math.exp(2*e))-1)/(e+1)}const AV=function e(t,n,r){function i(s,a){var o=s[0],l=s[1],u=s[2],c=a[0],d=a[1],p=a[2],h=c-o,w=d-l,y=h*h+w*w,_,m;if(y<SV)m=Math.log(p/u)/t,_=function(R){return[o+R*h,l+R*w,u*Math.exp(t*R*m)]};else{var b=Math.sqrt(y),S=(p*p-u*u+r*y)/(2*u*n*b),k=(p*p-u*u-r*y)/(2*p*n*b),P=Math.log(Math.sqrt(S*S+1)-S),D=Math.log(Math.sqrt(k*k+1)-k);m=(D-P)/t,_=function(R){var L=R*m,$=Nk(P),V=u/(n*b)*($*EV(t*L+P)-kV(P));return[o+V*h,l+V*w,u*$/Nk(t*L+P)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return e(a,o,l)},i}(Math.SQRT2,2,4);var xc=0,Ud=0,Id=0,lR=1e3,pg,Vd,mg=0,Cl=0,l0=0,Hf=typeof performance=="object"&&performance.now?performance:Date,uR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function O3(){return Cl||(uR(CV),Cl=Hf.now()+l0)}function CV(){Cl=0}function gg(){this._call=this._time=this._next=null}gg.prototype=cR.prototype={constructor:gg,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?O3():+n)+(t==null?0:+t),!this._next&&Vd!==this&&(Vd?Vd._next=this:pg=this,Vd=this),this._call=e,this._time=n,G_()},stop:function(){this._call&&(this._call=null,this._time=1/0,G_())}};function cR(e,t,n){var r=new gg;return r.restart(e,t,n),r}function jV(){O3(),++xc;for(var e=pg,t;e;)(t=Cl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xc}function Sk(){Cl=(mg=Hf.now())+l0,xc=Ud=0;try{jV()}finally{xc=0,PV(),Cl=0}}function LV(){var e=Hf.now(),t=e-mg;t>lR&&(l0-=t,mg=e)}function PV(){for(var e,t=pg,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:pg=n);Vd=e,G_(r)}function G_(e){if(!xc){Ud&&(Ud=clearTimeout(Ud));var t=e-Cl;t>24?(e<1/0&&(Ud=setTimeout(Sk,e-Hf.now()-l0)),Id&&(Id=clearInterval(Id))):(Id||(mg=Hf.now(),Id=setInterval(LV,lR)),xc=1,uR(Sk))}}function kk(e,t,n){var r=new gg;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var RV=a0("start","end","cancel","interrupt"),IV=[],dR=0,Ek=1,K_=2,Em=3,Ak=4,Z_=5,Am=6;function u0(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;TV(e,n,{name:t,index:r,group:i,on:RV,tween:IV,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:dR})}function M3(e,t){var n=ps(e,t);if(n.state>dR)throw new Error("too late; already scheduled");return n}function Vs(e,t){var n=ps(e,t);if(n.state>Em)throw new Error("too late; already running");return n}function ps(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function TV(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=cR(s,0,n.time);function s(u){n.state=Ek,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,d,p,h;if(n.state!==Ek)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Em)return kk(a);h.state===Ak?(h.state=Am,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Am,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(kk(function(){n.state===Em&&(n.state=Ak,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=K_,n.on.call("start",e,e.__data__,n.index,n.group),n.state===K_){for(n.state=Em,i=new Array(p=n.tween.length),c=0,d=-1;c<p;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function o(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Z_,1),d=-1,p=i.length;++d<p;)i[d].call(e,c);n.state===Z_&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Am,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Cm(e,t){var n=e.__transition,r,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>K_&&r.state<Z_,r.state=Am,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function OV(e){return this.each(function(){Cm(this,e)})}function MV(e,t){var n,r;return function(){var i=Vs(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function FV(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Vs(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}s.tween=i}}function qV(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ps(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?MV:FV)(n,e,t))}function F3(e,t,n){var r=e._id;return e.each(function(){var i=Vs(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ps(i,r).value[t]}}function fR(e,t){var n;return(typeof t=="number"?oo:t instanceof Vf?_k:(n=Vf(t))?(t=n,_k):bV)(e,t)}function DV(e){return function(){this.removeAttribute(e)}}function BV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zV(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function $V(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function UV(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function VV(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function HV(e,t){var n=o0(e),r=n==="transform"?NV:fR;return this.attrTween(e,typeof t=="function"?(n.local?VV:UV)(n,r,F3(this,"attr."+e,t)):t==null?(n.local?BV:DV)(n):(n.local?$V:zV)(n,r,t))}function WV(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function GV(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function KV(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&GV(e,s)),n}return i._value=t,i}function ZV(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&WV(e,s)),n}return i._value=t,i}function YV(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=o0(e);return this.tween(n,(r.local?KV:ZV)(r,t))}function XV(e,t){return function(){M3(this,e).delay=+t.apply(this,arguments)}}function JV(e,t){return t=+t,function(){M3(this,e).delay=t}}function QV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XV:JV)(t,e)):ps(this.node(),t).delay}function eH(e,t){return function(){Vs(this,e).duration=+t.apply(this,arguments)}}function tH(e,t){return t=+t,function(){Vs(this,e).duration=t}}function nH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eH:tH)(t,e)):ps(this.node(),t).duration}function rH(e,t){if(typeof t!="function")throw new Error;return function(){Vs(this,e).ease=t}}function iH(e){var t=this._id;return arguments.length?this.each(rH(t,e)):ps(this.node(),t).ease}function sH(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vs(this,e).ease=n}}function aH(e){if(typeof e!="function")throw new Error;return this.each(sH(this._id,e))}function oH(e){typeof e!="function"&&(e=VP(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Na(r,this._parents,this._name,this._id)}function lH(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=t[o],u=n[o],c=l.length,d=a[o]=new Array(c),p,h=0;h<c;++h)(p=l[h]||u[h])&&(d[h]=p);for(;o<r;++o)a[o]=t[o];return new Na(a,this._parents,this._name,this._id)}function uH(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cH(e,t,n){var r,i,s=uH(t)?M3:Vs;return function(){var a=s(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function dH(e,t){var n=this._id;return arguments.length<2?ps(this.node(),n).on.on(e):this.each(cH(n,e,t))}function fH(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hH(){return this.on("end.remove",fH(this._id))}function pH(e){var t=this._name,n=this._id;typeof e!="function"&&(e=R3(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,u=s[a]=new Array(l),c,d,p=0;p<l;++p)(c=o[p])&&(d=e.call(c,c.__data__,p,o))&&("__data__"in c&&(d.__data__=c.__data__),u[p]=d,u0(u[p],t,n,p,u,ps(c,n)));return new Na(s,this._parents,t,n)}function mH(e){var t=this._name,n=this._id;typeof e!="function"&&(e=UP(e));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var p=e.call(c,c.__data__,d,l),h,w=ps(c,n),y=0,_=p.length;y<_;++y)(h=p[y])&&u0(h,t,n,y,p,w);s.push(p),a.push(c)}return new Na(s,a,t,n)}var gH=bh.prototype.constructor;function vH(){return new gH(this._groups,this._parents)}function yH(e,t){var n,r,i;return function(){var s=_c(this,e),a=(this.style.removeProperty(e),_c(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function hR(e){return function(){this.style.removeProperty(e)}}function bH(e,t,n){var r,i=n+"",s;return function(){var a=_c(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function wH(e,t,n){var r,i,s;return function(){var a=_c(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),_c(this,e))),a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o))}}function _H(e,t){var n,r,i,s="style."+t,a="end."+s,o;return function(){var l=Vs(this,e),u=l.on,c=l.value[s]==null?o||(o=hR(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function xH(e,t,n){var r=(e+="")=="transform"?xV:fR;return t==null?this.styleTween(e,yH(e,r)).on("end.style."+e,hR(e)):typeof t=="function"?this.styleTween(e,wH(e,r,F3(this,"style."+e,t))).each(_H(this._id,e)):this.styleTween(e,bH(e,r,t),n).on("end.style."+e,null)}function NH(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function SH(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&NH(e,a,n)),r}return s._value=t,s}function kH(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,SH(e,t,n??""))}function EH(e){return function(){this.textContent=e}}function AH(e){return function(){var t=e(this);this.textContent=t??""}}function CH(e){return this.tween("text",typeof e=="function"?AH(F3(this,"text",e)):EH(e==null?"":e+""))}function jH(e){return function(t){this.textContent=e.call(this,t)}}function LH(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&jH(i)),t}return r._value=e,r}function PH(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,LH(e))}function RH(){for(var e=this._name,t=this._id,n=pR(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var c=ps(l,t);u0(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Na(r,this._parents,e,n)}function IH(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var u=Vs(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&s()})}var TH=0;function Na(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function pR(){return++TH}var sa=bh.prototype;Na.prototype={constructor:Na,select:pH,selectAll:mH,selectChild:sa.selectChild,selectChildren:sa.selectChildren,filter:oH,merge:lH,selection:vH,transition:RH,call:sa.call,nodes:sa.nodes,node:sa.node,size:sa.size,empty:sa.empty,each:sa.each,on:dH,attr:HV,attrTween:YV,style:xH,styleTween:kH,text:CH,textTween:PH,remove:hH,tween:qV,delay:QV,duration:nH,ease:iH,easeVarying:aH,end:IH,[Symbol.iterator]:sa[Symbol.iterator]};function OH(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var MH={time:null,delay:0,duration:250,ease:OH};function FH(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qH(e){var t,n;e instanceof Na?(t=e._id,e=e._name):(t=pR(),(n=MH).time=O3(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&u0(l,e,t,u,a,n||FH(l,t));return new Na(r,this._parents,e,t)}bh.prototype.interrupt=OV;bh.prototype.transition=qH;const Zp=e=>()=>e;function DH(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ma(e,t,n){this.k=e,this.x=t,this.y=n}ma.prototype={constructor:ma,scale:function(e){return e===1?this:new ma(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ma(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Co=new ma(1,0,0);ma.prototype;function fv(e){e.stopImmediatePropagation()}function Td(e){e.preventDefault(),e.stopImmediatePropagation()}function BH(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function zH(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ck(){return this.__zoom||Co}function $H(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function UH(){return navigator.maxTouchPoints||"ontouchstart"in this}function VH(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function HH(){var e=BH,t=zH,n=VH,r=$H,i=UH,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=AV,u=a0("start","zoom","end"),c,d,p,h=500,w=150,y=0,_=10;function m(A){A.property("__zoom",Ck).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",V).filter(i).on("touchstart.zoom",j).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(A,U,M,X){var F=A.selection?A.selection():A;F.property("__zoom",Ck),A!==F?P(A,U,M,X):F.interrupt().each(function(){D(this,arguments).event(X).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},m.scaleBy=function(A,U,M,X){m.scaleTo(A,function(){var F=this.__zoom.k,q=typeof U=="function"?U.apply(this,arguments):U;return F*q},M,X)},m.scaleTo=function(A,U,M,X){m.transform(A,function(){var F=t.apply(this,arguments),q=this.__zoom,J=M==null?k(F):typeof M=="function"?M.apply(this,arguments):M,ie=q.invert(J),C=typeof U=="function"?U.apply(this,arguments):U;return n(S(b(q,C),J,ie),F,a)},M,X)},m.translateBy=function(A,U,M,X){m.transform(A,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),a)},null,X)},m.translateTo=function(A,U,M,X,F){m.transform(A,function(){var q=t.apply(this,arguments),J=this.__zoom,ie=X==null?k(q):typeof X=="function"?X.apply(this,arguments):X;return n(Co.translate(ie[0],ie[1]).scale(J.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof M=="function"?-M.apply(this,arguments):-M),q,a)},X,F)};function b(A,U){return U=Math.max(s[0],Math.min(s[1],U)),U===A.k?A:new ma(U,A.x,A.y)}function S(A,U,M){var X=U[0]-M[0]*A.k,F=U[1]-M[1]*A.k;return X===A.x&&F===A.y?A:new ma(A.k,X,F)}function k(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function P(A,U,M,X){A.on("start.zoom",function(){D(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(X).end()}).tween("zoom",function(){var F=this,q=arguments,J=D(F,q).event(X),ie=t.apply(F,q),C=M==null?k(ie):typeof M=="function"?M.apply(F,q):M,H=Math.max(ie[1][0]-ie[0][0],ie[1][1]-ie[0][1]),K=F.__zoom,Q=typeof U=="function"?U.apply(F,q):U,ne=l(K.invert(C).concat(H/K.k),Q.invert(C).concat(H/Q.k));return function(ae){if(ae===1)ae=Q;else{var se=ne(ae),ce=H/se[2];ae=new ma(ce,C[0]-se[0]*ce,C[1]-se[1]*ce)}J.zoom(null,ae)}})}function D(A,U,M){return!M&&A.__zooming||new R(A,U)}function R(A,U){this.that=A,this.args=U,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,U),this.taps=0}R.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,U){return this.mouse&&A!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var U=ts(this.that).datum();u.call(A,this.that,new DH(A,{sourceEvent:this.sourceEvent,target:m,type:A,transform:this.that.__zoom,dispatch:u}),U)}};function L(A,...U){if(!e.apply(this,arguments))return;var M=D(this,U).event(A),X=this.__zoom,F=Math.max(s[0],Math.min(s[1],X.k*Math.pow(2,r.apply(this,arguments)))),q=Cs(A);if(M.wheel)(M.mouse[0][0]!==q[0]||M.mouse[0][1]!==q[1])&&(M.mouse[1]=X.invert(M.mouse[0]=q)),clearTimeout(M.wheel);else{if(X.k===F)return;M.mouse=[q,X.invert(q)],Cm(this),M.start()}Td(A),M.wheel=setTimeout(J,w),M.zoom("mouse",n(S(b(X,F),M.mouse[0],M.mouse[1]),M.extent,a));function J(){M.wheel=null,M.end()}}function $(A,...U){if(p||!e.apply(this,arguments))return;var M=A.currentTarget,X=D(this,U,!0).event(A),F=ts(A.view).on("mousemove.zoom",C,!0).on("mouseup.zoom",H,!0),q=Cs(A,M),J=A.clientX,ie=A.clientY;eR(A.view),fv(A),X.mouse=[q,this.__zoom.invert(q)],Cm(this),X.start();function C(K){if(Td(K),!X.moved){var Q=K.clientX-J,ne=K.clientY-ie;X.moved=Q*Q+ne*ne>y}X.event(K).zoom("mouse",n(S(X.that.__zoom,X.mouse[0]=Cs(K,M),X.mouse[1]),X.extent,a))}function H(K){F.on("mousemove.zoom mouseup.zoom",null),tR(K.view,X.moved),Td(K),X.event(K).end()}}function V(A,...U){if(e.apply(this,arguments)){var M=this.__zoom,X=Cs(A.changedTouches?A.changedTouches[0]:A,this),F=M.invert(X),q=M.k*(A.shiftKey?.5:2),J=n(S(b(M,q),X,F),t.apply(this,U),a);Td(A),o>0?ts(this).transition().duration(o).call(P,J,X,A):ts(this).call(m.transform,J,X,A)}}function j(A,...U){if(e.apply(this,arguments)){var M=A.touches,X=M.length,F=D(this,U,A.changedTouches.length===X).event(A),q,J,ie,C;for(fv(A),J=0;J<X;++J)ie=M[J],C=Cs(ie,this),C=[C,this.__zoom.invert(C),ie.identifier],F.touch0?!F.touch1&&F.touch0[2]!==C[2]&&(F.touch1=C,F.taps=0):(F.touch0=C,q=!0,F.taps=1+!!c);c&&(c=clearTimeout(c)),q&&(F.taps<2&&(d=C[0],c=setTimeout(function(){c=null},h)),Cm(this),F.start())}}function T(A,...U){if(this.__zooming){var M=D(this,U).event(A),X=A.changedTouches,F=X.length,q,J,ie,C;for(Td(A),q=0;q<F;++q)J=X[q],ie=Cs(J,this),M.touch0&&M.touch0[2]===J.identifier?M.touch0[0]=ie:M.touch1&&M.touch1[2]===J.identifier&&(M.touch1[0]=ie);if(J=M.that.__zoom,M.touch1){var H=M.touch0[0],K=M.touch0[1],Q=M.touch1[0],ne=M.touch1[1],ae=(ae=Q[0]-H[0])*ae+(ae=Q[1]-H[1])*ae,se=(se=ne[0]-K[0])*se+(se=ne[1]-K[1])*se;J=b(J,Math.sqrt(ae/se)),ie=[(H[0]+Q[0])/2,(H[1]+Q[1])/2],C=[(K[0]+ne[0])/2,(K[1]+ne[1])/2]}else if(M.touch0)ie=M.touch0[0],C=M.touch0[1];else return;M.zoom("touch",n(S(J,ie,C),M.extent,a))}}function Z(A,...U){if(this.__zooming){var M=D(this,U).event(A),X=A.changedTouches,F=X.length,q,J;for(fv(A),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),q=0;q<F;++q)J=X[q],M.touch0&&M.touch0[2]===J.identifier?delete M.touch0:M.touch1&&M.touch1[2]===J.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(J=Cs(J,this),Math.hypot(d[0]-J[0],d[1]-J[1])<_)){var ie=ts(this).on("dblclick.zoom");ie&&ie.apply(this,arguments)}}}return m.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:Zp(+A),m):r},m.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Zp(!!A),m):e},m.touchable=function(A){return arguments.length?(i=typeof A=="function"?A:Zp(!!A),m):i},m.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Zp([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),m):t},m.scaleExtent=function(A){return arguments.length?(s[0]=+A[0],s[1]=+A[1],m):[s[0],s[1]]},m.translateExtent=function(A){return arguments.length?(a[0][0]=+A[0][0],a[1][0]=+A[1][0],a[0][1]=+A[0][1],a[1][1]=+A[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(A){return arguments.length?(n=A,m):n},m.duration=function(A){return arguments.length?(o=+A,m):o},m.interpolate=function(A){return arguments.length?(l=A,m):l},m.on=function(){var A=u.on.apply(u,arguments);return A===u?m:A},m.clickDistance=function(A){return arguments.length?(y=(A=+A)*A,m):Math.sqrt(y)},m.tapDistance=function(A){return arguments.length?(_=+A,m):_},m}const c0=Y.createContext(null),WH=c0.Provider,Sa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},mR=Sa.error001();function pn(e,t){const n=Y.useContext(c0);if(n===null)throw new Error(mR);return zP(n,e,t)}const Yn=()=>{const e=Y.useContext(c0);if(e===null)throw new Error(mR);return Y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},GH=e=>e.userSelectionActive?"none":"all";function q3({position:e,children:t,className:n,style:r,...i}){const s=pn(GH),a=`${e}`.split("-");return ve.createElement("div",{className:jr(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},...i},t)}function KH({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ve.createElement(q3,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ve.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ZH=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:a=[2,4],labelBgBorderRadius:o=2,children:l,className:u,...c})=>{const d=Y.useRef(null),[p,h]=Y.useState({x:0,y:0,width:0,height:0}),w=jr(["react-flow__edge-textwrapper",u]);return Y.useEffect(()=>{if(d.current){const y=d.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:ve.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:w,visibility:p.width?"visible":"hidden",...c},i&&ve.createElement("rect",{width:p.width+2*a[0],x:-a[0],y:-a[1],height:p.height+2*a[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),ve.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:r},n),l)};var YH=Y.memo(ZH);const D3=e=>({width:e.offsetWidth,height:e.offsetHeight}),Nc=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),B3=(e={x:0,y:0},t)=>({x:Nc(e.x,t[0][0],t[1][0]),y:Nc(e.y,t[0][1],t[1][1])}),jk=(e,t,n)=>e<t?Nc(Math.abs(e-t),1,50)/50:e>n?-Nc(Math.abs(e-n),1,50)/50:0,gR=(e,t)=>{const n=jk(e.x,35,t.width-35)*20,r=jk(e.y,35,t.height-35)*20;return[n,r]},vR=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},XH=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),z3=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),JH=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Lk=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Y_=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},QH=e=>Ii(e.width)&&Ii(e.height)&&Ii(e.x)&&Ii(e.y),Ii=e=>!isNaN(e)&&isFinite(e),wn=Symbol.for("internals"),yR=["Enter"," ","Escape"],eW=(e,t)=>{},tW=e=>"nativeEvent"in e;function X_(e){var i,s;const t=tW(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const bR=e=>"clientX"in e,jo=(e,t)=>{var s,a;const n=bR(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},vg=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},_h=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:p,interactionWidth:h=20})=>ve.createElement(ve.Fragment,null,ve.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:p}),h&&ve.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Ii(n)&&Ii(r)?ve.createElement(YH,{x:n,y:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null);_h.displayName="BaseEdge";function Od(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function wR({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,a=Math.abs(r-t)/2,o=r<t?r+a:r-a;return[s,o,i,a]}function _R({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:o}){const l=e*.125+i*.375+a*.375+n*.125,u=t*.125+s*.375+o*.375+r*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}var Mo;(function(e){e.Strict="strict",e.Loose="loose"})(Mo||(Mo={}));var hl;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(hl||(hl={}));var Wf;(function(e){e.Partial="partial",e.Full="full"})(Wf||(Wf={}));var fo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(fo||(fo={}));var yg;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(yg||(yg={}));var tt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(tt||(tt={}));function Pk({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===tt.Left||e===tt.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function xR({sourceX:e,sourceY:t,sourcePosition:n=tt.Bottom,targetX:r,targetY:i,targetPosition:s=tt.Top}){const[a,o]=Pk({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Pk({pos:s,x1:r,y1:i,x2:e,y2:t}),[c,d,p,h]=_R({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:o,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${o} ${l},${u} ${r},${i}`,c,d,p,h]}const $3=Y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=tt.Bottom,targetPosition:s=tt.Top,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:w,interactionWidth:y})=>{const[_,m,b]=xR({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return ve.createElement(_h,{path:_,labelX:m,labelY:b,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:w,interactionWidth:y})});$3.displayName="SimpleBezierEdge";const Rk={[tt.Left]:{x:-1,y:0},[tt.Right]:{x:1,y:0},[tt.Top]:{x:0,y:-1},[tt.Bottom]:{x:0,y:1}},nW=({source:e,sourcePosition:t=tt.Bottom,target:n})=>t===tt.Left||t===tt.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ik=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function rW({source:e,sourcePosition:t=tt.Bottom,target:n,targetPosition:r=tt.Top,center:i,offset:s}){const a=Rk[t],o=Rk[r],l={x:e.x+a.x*s,y:e.y+a.y*s},u={x:n.x+o.x*s,y:n.y+o.y*s},c=nW({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",p=c[d];let h=[],w,y;const _={x:0,y:0},m={x:0,y:0},[b,S,k,P]=wR({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*o[d]===-1){w=i.x??b,y=i.y??S;const R=[{x:w,y:l.y},{x:w,y:u.y}],L=[{x:l.x,y},{x:u.x,y}];a[d]===p?h=d==="x"?R:L:h=d==="x"?L:R}else{const R=[{x:l.x,y:u.y}],L=[{x:u.x,y:l.y}];if(d==="x"?h=a.x===p?L:R:h=a.y===p?R:L,t===r){const Z=Math.abs(e[d]-n[d]);if(Z<=s){const A=Math.min(s-1,s-Z);a[d]===p?_[d]=(l[d]>e[d]?-1:1)*A:m[d]=(u[d]>n[d]?-1:1)*A}}if(t!==r){const Z=d==="x"?"y":"x",A=a[d]===o[Z],U=l[Z]>u[Z],M=l[Z]<u[Z];(a[d]===1&&(!A&&U||A&&M)||a[d]!==1&&(!A&&M||A&&U))&&(h=d==="x"?R:L)}const $={x:l.x+_.x,y:l.y+_.y},V={x:u.x+m.x,y:u.y+m.y},j=Math.max(Math.abs($.x-h[0].x),Math.abs(V.x-h[0].x)),T=Math.max(Math.abs($.y-h[0].y),Math.abs(V.y-h[0].y));j>=T?(w=($.x+V.x)/2,y=h[0].y):(w=h[0].x,y=($.y+V.y)/2)}return[[e,{x:l.x+_.x,y:l.y+_.y},...h,{x:u.x+m.x,y:u.y+m.y},n],w,y,k,P]}function iW(e,t,n,r){const i=Math.min(Ik(e,t)/2,Ik(t,n)/2,r),{x:s,y:a}=t;if(e.x===s&&s===n.x||e.y===a&&a===n.y)return`L${s} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+i*u},${a}Q ${s},${a} ${s},${a+i*c}`}const o=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${a+i*l}Q ${s},${a} ${s+i*o},${a}`}function J_({sourceX:e,sourceY:t,sourcePosition:n=tt.Bottom,targetX:r,targetY:i,targetPosition:s=tt.Top,borderRadius:a=5,centerX:o,centerY:l,offset:u=20}){const[c,d,p,h,w]=rW({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:o,y:l},offset:u});return[c.reduce((_,m,b)=>{let S="";return b>0&&b<c.length-1?S=iW(c[b-1],m,c[b+1],a):S=`${b===0?"M":"L"}${m.x} ${m.y}`,_+=S,_},""),d,p,h,w]}const d0=Y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:d=tt.Bottom,targetPosition:p=tt.Top,markerEnd:h,markerStart:w,pathOptions:y,interactionWidth:_})=>{const[m,b,S]=J_({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return ve.createElement(_h,{path:m,labelX:b,labelY:S,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:h,markerStart:w,interactionWidth:_})});d0.displayName="SmoothStepEdge";const U3=Y.memo(e=>{var t;return ve.createElement(d0,{...e,pathOptions:Y.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});U3.displayName="StepEdge";function sW({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,a,o]=wR({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,a,o]}const V3=Y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:p,interactionWidth:h})=>{const[w,y,_]=sW({sourceX:e,sourceY:t,targetX:n,targetY:r});return ve.createElement(_h,{path:w,labelX:y,labelY:_,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:p,interactionWidth:h})});V3.displayName="StraightEdge";function Yp(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Tk({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case tt.Left:return[t-Yp(t-r,s),n];case tt.Right:return[t+Yp(r-t,s),n];case tt.Top:return[t,n-Yp(n-i,s)];case tt.Bottom:return[t,n+Yp(i-n,s)]}}function NR({sourceX:e,sourceY:t,sourcePosition:n=tt.Bottom,targetX:r,targetY:i,targetPosition:s=tt.Top,curvature:a=.25}){const[o,l]=Tk({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,c]=Tk({pos:s,x1:r,y1:i,x2:e,y2:t,c:a}),[d,p,h,w]=_R({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${o},${l} ${u},${c} ${r},${i}`,d,p,h,w]}const bg=Y.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=tt.Bottom,targetPosition:s=tt.Top,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:w,pathOptions:y,interactionWidth:_})=>{const[m,b,S]=NR({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:y==null?void 0:y.curvature});return ve.createElement(_h,{path:m,labelX:b,labelY:S,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:p,markerEnd:h,markerStart:w,interactionWidth:_})});bg.displayName="BezierEdge";const H3=Y.createContext(null),aW=H3.Provider;H3.Consumer;const oW=()=>Y.useContext(H3),lW=e=>"id"in e&&"source"in e&&"target"in e,uW=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Q_=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,cW=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),dW=(e,t)=>{if(!e.source||!e.target)return t;let n;return lW(e)?n={...e}:n={...e,id:uW(e)},cW(n,t)?t:t.concat(n)},ex=({x:e,y:t},[n,r,i],s,[a,o])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?{x:a*Math.round(l.x/a),y:o*Math.round(l.y/o)}:l},SR=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),ac=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},W3=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:a}=ac(i,t).positionAbsolute;return XH(r,z3({x:s,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return JH(n)},kR=(e,t,[n,r,i]=[0,0,1],s=!1,a=!1,o=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:p,selectable:h=!0,hidden:w=!1}=c;if(a&&!h||w)return!1;const{positionAbsolute:y}=ac(c,o),_={x:y.x,y:y.y,width:d||0,height:p||0},m=Y_(l,_),b=typeof d>"u"||typeof p>"u"||d===null||p===null,S=s&&m>0,k=(d||0)*(p||0);(b||S||m>=k||c.dragging)&&u.push(c)}),u},ER=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},AR=(e,t,n,r,i,s=.1)=>{const a=t/(e.width*(1+s)),o=n/(e.height*(1+s)),l=Math.min(a,o),u=Nc(l,r,i),c=e.x+e.width/2,d=e.y+e.height/2,p=t/2-c*u,h=n/2-d*u;return{x:p,y:h,zoom:u}},al=(e,t=0)=>e.transition().duration(t);function Ok(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var a,o;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+s.x+s.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+s.y+s.height/2}),i},[])}function fW(e,t,n,r,i,s){const{x:a,y:o}=jo(e),u=t.elementsFromPoint(a,o).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const y=G3(void 0,u),_=u.getAttribute("data-handleid"),m=s({nodeId:w,id:_,type:y});if(m){const b=i.find(S=>S.nodeId===w&&S.type===y&&S.id===_);return{handle:{id:_,type:y,nodeId:w,x:(b==null?void 0:b.x)||n.x,y:(b==null?void 0:b.y)||n.y},validHandleResult:m}}}}let c=[],d=1/0;if(i.forEach(w=>{const y=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(y<=r){const _=s(w);y<=d&&(y<d?c=[{handle:w,validHandleResult:_}]:y===d&&c.push({handle:w,validHandleResult:_}),d=y)}}),!c.length)return{handle:null,validHandleResult:CR()};if(c.length===1)return c[0];const p=c.some(({validHandleResult:w})=>w.isValid),h=c.some(({handle:w})=>w.type==="target");return c.find(({handle:w,validHandleResult:y})=>h?w.type==="target":p?y.isValid:!0)||c[0]}const hW={source:null,target:null,sourceHandle:null,targetHandle:null},CR=()=>({handleDomNode:null,isValid:!1,connection:hW,endHandle:null});function jR(e,t,n,r,i,s,a){const o=i==="target",l=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...CR(),handleDomNode:l};if(l){const c=G3(void 0,l),d=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),w=l.classList.contains("connectableend"),y={source:o?d:n,sourceHandle:o?p:r,target:o?n:d,targetHandle:o?r:p};u.connection=y,h&&w&&(t===Mo.Strict?o&&c==="source"||!o&&c==="target":d!==n||p!==r)&&(u.endHandle={nodeId:d,handleId:p,type:c},u.isValid=s(y))}return u}function pW({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[wn]){const{handleBounds:a}=s[wn];let o=[],l=[];a&&(o=Ok(s,a,"source",`${t}-${n}-${r}`),l=Ok(s,a,"target",`${t}-${n}-${r}`)),i.push(...o,...l)}return i},[])}function G3(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function hv(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function mW(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function LR({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:a,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:u}){const c=vR(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:h,connectionRadius:w,onConnectStart:y,panBy:_,getNodes:m,cancelConnection:b}=s();let S=0,k;const{x:P,y:D}=jo(e),R=c==null?void 0:c.elementFromPoint(P,D),L=G3(l,R),$=p==null?void 0:p.getBoundingClientRect();if(!$||!L)return;let V,j=jo(e,$),T=!1,Z=null,A=!1,U=null;const M=pW({nodes:m(),nodeId:n,handleId:t,handleType:L}),X=()=>{if(!h)return;const[J,ie]=gR(j,$);_({x:J,y:ie}),S=requestAnimationFrame(X)};a({connectionPosition:j,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:L,connectionStartHandle:{nodeId:n,handleId:t,type:L},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:L});function F(J){const{transform:ie}=s();j=jo(J,$);const{handle:C,validHandleResult:H}=fW(J,c,ex(j,ie,!1,[1,1]),w,M,K=>jR(K,d,n,t,i?"target":"source",o,c));if(k=C,T||(X(),T=!0),U=H.handleDomNode,Z=H.connection,A=H.isValid,a({connectionPosition:k&&A?SR({x:k.x,y:k.y},ie):j,connectionStatus:mW(!!k,A),connectionEndHandle:H.endHandle}),!k&&!A&&!U)return hv(V);Z.source!==Z.target&&U&&(hv(V),V=U,U.classList.add("connecting","react-flow__handle-connecting"),U.classList.toggle("valid",A),U.classList.toggle("react-flow__handle-valid",A))}function q(J){var ie,C;(k||U)&&Z&&A&&(r==null||r(Z)),(C=(ie=s()).onConnectEnd)==null||C.call(ie,J),l&&(u==null||u(J)),hv(V),b(),cancelAnimationFrame(S),T=!1,A=!1,Z=null,U=null,c.removeEventListener("mousemove",F),c.removeEventListener("mouseup",q),c.removeEventListener("touchmove",F),c.removeEventListener("touchend",q)}c.addEventListener("mousemove",F),c.addEventListener("mouseup",q),c.addEventListener("touchmove",F),c.addEventListener("touchend",q)}const Mk=()=>!0,gW=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),vW=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:a}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n}},PR=Y.forwardRef(({type:e="source",position:t=tt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:a,onConnect:o,children:l,className:u,onMouseDown:c,onTouchStart:d,...p},h)=>{var $,V;const w=a||null,y=e==="target",_=Yn(),m=oW(),{connectOnClick:b,noPanClassName:S}=pn(gW,vr),{connecting:k,clickConnecting:P}=pn(vW(m,w,e),vr);m||(V=($=_.getState()).onError)==null||V.call($,"010",Sa.error010());const D=j=>{const{defaultEdgeOptions:T,onConnect:Z,hasDefaultEdges:A}=_.getState(),U={...T,...j};if(A){const{edges:M,setEdges:X}=_.getState();X(dW(U,M))}Z==null||Z(U),o==null||o(U)},R=j=>{if(!m)return;const T=bR(j);i&&(T&&j.button===0||!T)&&LR({event:j,handleId:w,nodeId:m,onConnect:D,isTarget:y,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Mk}),T?c==null||c(j):d==null||d(j)},L=j=>{const{onClickConnectStart:T,onClickConnectEnd:Z,connectionClickStartHandle:A,connectionMode:U,isValidConnection:M}=_.getState();if(!m||!A&&!i)return;if(!A){T==null||T(j,{nodeId:m,handleId:w,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:w}});return}const X=vR(j.target),F=n||M||Mk,{connection:q,isValid:J}=jR({nodeId:m,id:w,type:e},U,A.nodeId,A.handleId||null,A.type,F,X);J&&D(q),Z==null||Z(j),_.setState({connectionClickStartHandle:null})};return ve.createElement("div",{"data-handleid":w,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${w}-${e}`,className:jr(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:s,connecting:P,connectionindicator:r&&(i&&!k||s&&k)}]),onMouseDown:R,onTouchStart:R,onClick:b?L:void 0,ref:h,...p},l)});PR.displayName="Handle";var wg=Y.memo(PR);const RR=({data:e,isConnectable:t,targetPosition:n=tt.Top,sourcePosition:r=tt.Bottom})=>ve.createElement(ve.Fragment,null,ve.createElement(wg,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,ve.createElement(wg,{type:"source",position:r,isConnectable:t}));RR.displayName="DefaultNode";var tx=Y.memo(RR);const IR=({data:e,isConnectable:t,sourcePosition:n=tt.Bottom})=>ve.createElement(ve.Fragment,null,e==null?void 0:e.label,ve.createElement(wg,{type:"source",position:n,isConnectable:t}));IR.displayName="InputNode";var TR=Y.memo(IR);const OR=({data:e,isConnectable:t,targetPosition:n=tt.Top})=>ve.createElement(ve.Fragment,null,ve.createElement(wg,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);OR.displayName="OutputNode";var MR=Y.memo(OR);const K3=()=>null;K3.displayName="GroupNode";const yW=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Xp=e=>e.id;function bW(e,t){return vr(e.selectedNodes.map(Xp),t.selectedNodes.map(Xp))&&vr(e.selectedEdges.map(Xp),t.selectedEdges.map(Xp))}const FR=Y.memo(({onSelectionChange:e})=>{const t=Yn(),{selectedNodes:n,selectedEdges:r}=pn(yW,bW);return Y.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});FR.displayName="SelectionListener";const wW=e=>!!e.onSelectionChange;function _W({onSelectionChange:e}){const t=pn(wW);return e||t?ve.createElement(FR,{onSelectionChange:e}):null}const xW=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function yu(e,t){Y.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function kt(e,t,n){Y.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const NW=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:a,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:h,elevateNodesOnSelect:w,minZoom:y,maxZoom:_,nodeExtent:m,onNodesChange:b,onEdgesChange:S,elementsSelectable:k,connectionMode:P,snapGrid:D,snapToGrid:R,translateExtent:L,connectOnClick:$,defaultEdgeOptions:V,fitView:j,fitViewOptions:T,onNodesDelete:Z,onEdgesDelete:A,onNodeDrag:U,onNodeDragStart:M,onNodeDragStop:X,onSelectionDrag:F,onSelectionDragStart:q,onSelectionDragStop:J,noPanClassName:ie,nodeOrigin:C,rfId:H,autoPanOnConnect:K,autoPanOnNodeDrag:Q,onError:ne,connectionRadius:ae,isValidConnection:se,nodeDragThreshold:ce})=>{const{setNodes:ye,setEdges:Ae,setDefaultNodesAndEdges:je,setMinZoom:Fe,setMaxZoom:Ke,setTranslateExtent:he,setNodeExtent:re,reset:Re}=pn(xW,vr),xe=Yn();return Y.useEffect(()=>{const Se=r==null?void 0:r.map(qe=>({...qe,...V}));return je(n,Se),()=>{Re()}},[]),kt("defaultEdgeOptions",V,xe.setState),kt("connectionMode",P,xe.setState),kt("onConnect",i,xe.setState),kt("onConnectStart",s,xe.setState),kt("onConnectEnd",a,xe.setState),kt("onClickConnectStart",o,xe.setState),kt("onClickConnectEnd",l,xe.setState),kt("nodesDraggable",u,xe.setState),kt("nodesConnectable",c,xe.setState),kt("nodesFocusable",d,xe.setState),kt("edgesFocusable",p,xe.setState),kt("edgesUpdatable",h,xe.setState),kt("elementsSelectable",k,xe.setState),kt("elevateNodesOnSelect",w,xe.setState),kt("snapToGrid",R,xe.setState),kt("snapGrid",D,xe.setState),kt("onNodesChange",b,xe.setState),kt("onEdgesChange",S,xe.setState),kt("connectOnClick",$,xe.setState),kt("fitViewOnInit",j,xe.setState),kt("fitViewOnInitOptions",T,xe.setState),kt("onNodesDelete",Z,xe.setState),kt("onEdgesDelete",A,xe.setState),kt("onNodeDrag",U,xe.setState),kt("onNodeDragStart",M,xe.setState),kt("onNodeDragStop",X,xe.setState),kt("onSelectionDrag",F,xe.setState),kt("onSelectionDragStart",q,xe.setState),kt("onSelectionDragStop",J,xe.setState),kt("noPanClassName",ie,xe.setState),kt("nodeOrigin",C,xe.setState),kt("rfId",H,xe.setState),kt("autoPanOnConnect",K,xe.setState),kt("autoPanOnNodeDrag",Q,xe.setState),kt("onError",ne,xe.setState),kt("connectionRadius",ae,xe.setState),kt("isValidConnection",se,xe.setState),kt("nodeDragThreshold",ce,xe.setState),yu(e,ye),yu(t,Ae),yu(y,Fe),yu(_,Ke),yu(L,he),yu(m,re),null},Fk={display:"none"},SW={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},qR="react-flow__node-desc",DR="react-flow__edge-desc",kW="react-flow__aria-live",EW=e=>e.ariaLiveMessage;function AW({rfId:e}){const t=pn(EW);return ve.createElement("div",{id:`${kW}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:SW},t)}function CW({rfId:e,disableKeyboardA11y:t}){return ve.createElement(ve.Fragment,null,ve.createElement("div",{id:`${qR}-${e}`,style:Fk},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ve.createElement("div",{id:`${DR}-${e}`,style:Fk},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ve.createElement(AW,{rfId:e}))}var Gf=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=Y.useState(!1),i=Y.useRef(!1),s=Y.useRef(new Set([])),[a,o]=Y.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,p)=>d.concat(...p),[]);return[u,c]}return[[],[]]},[e]);return Y.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&X_(h))return!1;const y=Dk(h.code,o);s.current.add(h[y]),qk(a,s.current,!1)&&(h.preventDefault(),r(!0))},d=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&X_(h))return!1;const y=Dk(h.code,o);qk(a,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[y]),h.key==="Meta"&&s.current.clear(),i.current=!1},p=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,r]),n};function qk(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Dk(e,t){return t.includes(e)?"code":"key"}function BR(e,t,n,r){var o,l;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),a=ac(s,r);return BR(s,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((o=s[wn])==null?void 0:o.z)??0)>(n.z??0)?((l=s[wn])==null?void 0:l.z)??0:n.z??0},r)}function zR(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:a,y:o,z:l}=BR(r,e,{...r.position,z:((s=r[wn])==null?void 0:s.z)??0},t);r.positionAbsolute={x:a,y:o},r[wn].z=l,n!=null&&n[r.id]&&(r[wn].isParent=!0)}})}function pv(e,t,n,r){const i=new Map,s={},a=r?1e3:0;return e.forEach(o=>{var h;const l=(Ii(o.zIndex)?o.zIndex:0)+(o.selected?a:0),u=t.get(o.id),c={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},d=o.parentNode||o.parentId;d&&(s[d]=!0);const p=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(c,wn,{enumerable:!1,value:{handleBounds:p||(h=u==null?void 0:u[wn])==null?void 0:h.handleBounds,z:l}}),i.set(o.id,c)}),zR(i,n,s),i}function $R(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:a,d3Zoom:o,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),p=t.initial&&!u&&c;if(o&&l&&(p||!t.initial)){const w=n().filter(_=>{var b;const m=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(b=t.nodes)!=null&&b.length?m&&t.nodes.some(S=>S.id===_.id):m}),y=w.every(_=>_.width&&_.height);if(w.length>0&&y){const _=W3(w,d),{x:m,y:b,zoom:S}=AR(_,r,i,t.minZoom??s,t.maxZoom??a,t.padding??.1),k=Co.translate(m,b).scale(S);return typeof t.duration=="number"&&t.duration>0?o.transform(al(l,t.duration),k):o.transform(l,k),!0}}return!1}function jW(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[wn]:r[wn],selected:n.selected})}),new Map(t)}function LW(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Jp({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:a,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:jW(e,i)}),a==null||a(e)),t!=null&&t.length&&(u&&r({edges:LW(t,s)}),o==null||o(t))}const bu=()=>{},PW={zoomIn:bu,zoomOut:bu,zoomTo:bu,getZoom:()=>1,setViewport:bu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:bu,fitBounds:bu,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},RW=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),IW=()=>{const e=Yn(),{d3Zoom:t,d3Selection:n}=pn(RW,vr);return Y.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(al(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(al(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(al(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[a,o,l]=e.getState().transform,u=Co.translate(i.x??a,i.y??o).scale(i.zoom??l);t.transform(al(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,a]=e.getState().transform;return{x:i,y:s,zoom:a}},fitView:i=>$R(e.getState,i),setCenter:(i,s,a)=>{const{width:o,height:l,maxZoom:u}=e.getState(),c=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:u,d=o/2-i*c,p=l/2-s*c,h=Co.translate(d,p).scale(c);t.transform(al(n,a==null?void 0:a.duration),h)},fitBounds:(i,s)=>{const{width:a,height:o,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:d,zoom:p}=AR(i,a,o,l,u,(s==null?void 0:s.padding)??.1),h=Co.translate(c,d).scale(p);t.transform(al(n,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:a,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ex(i,s,a,o)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:a,snapGrid:o,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return ex(d,s,a,o)},flowToScreenPosition:i=>{const{transform:s,domNode:a}=e.getState();if(!a)return i;const{x:o,y:l}=a.getBoundingClientRect(),u=SR(i,s);return{x:u.x+o,y:u.y+l}},viewportInitialized:!0}:PW,[t,n])};function Z3(){const e=IW(),t=Yn(),n=Y.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=Y.useCallback(y=>t.getState().nodeInternals.get(y),[]),i=Y.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(_=>({..._}))},[]),s=Y.useCallback(y=>{const{edges:_=[]}=t.getState();return _.find(m=>m.id===y)},[]),a=Y.useCallback(y=>{const{getNodes:_,setNodes:m,hasDefaultNodes:b,onNodesChange:S}=t.getState(),k=_(),P=typeof y=="function"?y(k):y;if(b)m(P);else if(S){const D=P.length===0?k.map(R=>({type:"remove",id:R.id})):P.map(R=>({item:R,type:"reset"}));S(D)}},[]),o=Y.useCallback(y=>{const{edges:_=[],setEdges:m,hasDefaultEdges:b,onEdgesChange:S}=t.getState(),k=typeof y=="function"?y(_):y;if(b)m(k);else if(S){const P=k.length===0?_.map(D=>({type:"remove",id:D.id})):k.map(D=>({item:D,type:"reset"}));S(P)}},[]),l=Y.useCallback(y=>{const _=Array.isArray(y)?y:[y],{getNodes:m,setNodes:b,hasDefaultNodes:S,onNodesChange:k}=t.getState();if(S){const D=[...m(),..._];b(D)}else if(k){const P=_.map(D=>({item:D,type:"add"}));k(P)}},[]),u=Y.useCallback(y=>{const _=Array.isArray(y)?y:[y],{edges:m=[],setEdges:b,hasDefaultEdges:S,onEdgesChange:k}=t.getState();if(S)b([...m,..._]);else if(k){const P=_.map(D=>({item:D,type:"add"}));k(P)}},[]),c=Y.useCallback(()=>{const{getNodes:y,edges:_=[],transform:m}=t.getState(),[b,S,k]=m;return{nodes:y().map(P=>({...P})),edges:_.map(P=>({...P})),viewport:{x:b,y:S,zoom:k}}},[]),d=Y.useCallback(({nodes:y,edges:_})=>{const{nodeInternals:m,getNodes:b,edges:S,hasDefaultNodes:k,hasDefaultEdges:P,onNodesDelete:D,onEdgesDelete:R,onNodesChange:L,onEdgesChange:$}=t.getState(),V=(y||[]).map(U=>U.id),j=(_||[]).map(U=>U.id),T=b().reduce((U,M)=>{const X=M.parentNode||M.parentId,F=!V.includes(M.id)&&X&&U.find(J=>J.id===X);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(V.includes(M.id)||F)&&U.push(M),U},[]),Z=S.filter(U=>typeof U.deletable=="boolean"?U.deletable:!0),A=Z.filter(U=>j.includes(U.id));if(T||A){const U=ER(T,Z),M=[...A,...U],X=M.reduce((F,q)=>(F.includes(q.id)||F.push(q.id),F),[]);if((P||k)&&(P&&t.setState({edges:S.filter(F=>!X.includes(F.id))}),k&&(T.forEach(F=>{m.delete(F.id)}),t.setState({nodeInternals:new Map(m)}))),X.length>0&&(R==null||R(M),$&&$(X.map(F=>({id:F,type:"remove"})))),T.length>0&&(D==null||D(T),L)){const F=T.map(q=>({id:q.id,type:"remove"}));L(F)}}},[]),p=Y.useCallback(y=>{const _=QH(y),m=_?null:t.getState().nodeInternals.get(y.id);return!_&&!m?[null,null,_]:[_?y:Lk(m),m,_]},[]),h=Y.useCallback((y,_=!0,m)=>{const[b,S,k]=p(y);return b?(m||t.getState().getNodes()).filter(P=>{if(!k&&(P.id===S.id||!P.positionAbsolute))return!1;const D=Lk(P),R=Y_(D,b);return _&&R>0||R>=b.width*b.height}):[]},[]),w=Y.useCallback((y,_,m=!0)=>{const[b]=p(y);if(!b)return!1;const S=Y_(b,_);return m&&S>0||S>=b.width*b.height},[]);return Y.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:a,setEdges:o,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:w}),[e,n,r,i,s,a,o,l,u,c,d,h,w])}const TW={actInsideInputWithModifier:!1};var OW=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Yn(),{deleteElements:r}=Z3(),i=Gf(e,TW),s=Gf(t);Y.useEffect(()=>{if(i){const{edges:a,getNodes:o}=n.getState(),l=o().filter(c=>c.selected),u=a.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),Y.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function MW(e){const t=Yn();Y.useEffect(()=>{let n;const r=()=>{var s,a;if(!e.current)return;const i=D3(e.current);(i.height===0||i.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",Sa.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Y3={position:"absolute",width:"100%",height:"100%",top:0,left:0},FW=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Qp=e=>({x:e.x,y:e.y,zoom:e.k}),wu=(e,t)=>e.target.closest(`.${t}`),Bk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),zk=e=>{const t=e.ctrlKey&&vg()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},qW=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),DW=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=hl.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:p,translateExtent:h,minZoom:w,maxZoom:y,zoomActivationKeyCode:_,preventScrolling:m=!0,children:b,noWheelClassName:S,noPanClassName:k})=>{const P=Y.useRef(),D=Yn(),R=Y.useRef(!1),L=Y.useRef(!1),$=Y.useRef(null),V=Y.useRef({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:T,d3ZoomHandler:Z,userSelectionActive:A}=pn(qW,vr),U=Gf(_),M=Y.useRef(0),X=Y.useRef(!1),F=Y.useRef();return MW($),Y.useEffect(()=>{if($.current){const q=$.current.getBoundingClientRect(),J=HH().scaleExtent([w,y]).translateExtent(h),ie=ts($.current).call(J),C=Co.translate(p.x,p.y).scale(Nc(p.zoom,w,y)),H=[[0,0],[q.width,q.height]],K=J.constrain()(C,H,h);J.transform(ie,K),J.wheelDelta(zk),D.setState({d3Zoom:J,d3Selection:ie,d3ZoomHandler:ie.on("wheel.zoom"),transform:[K.x,K.y,K.k],domNode:$.current.closest(".react-flow")})}},[]),Y.useEffect(()=>{T&&j&&(a&&!U&&!A?T.on("wheel.zoom",q=>{if(wu(q,S))return!1;q.preventDefault(),q.stopImmediatePropagation();const J=T.property("__zoom").k||1;if(q.ctrlKey&&s){const se=Cs(q),ce=zk(q),ye=J*Math.pow(2,ce);j.scaleTo(T,ye,se,q);return}const ie=q.deltaMode===1?20:1;let C=l===hl.Vertical?0:q.deltaX*ie,H=l===hl.Horizontal?0:q.deltaY*ie;!vg()&&q.shiftKey&&l!==hl.Vertical&&(C=q.deltaY*ie,H=0),j.translateBy(T,-(C/J)*o,-(H/J)*o,{internal:!0});const K=Qp(T.property("__zoom")),{onViewportChangeStart:Q,onViewportChange:ne,onViewportChangeEnd:ae}=D.getState();clearTimeout(F.current),X.current||(X.current=!0,t==null||t(q,K),Q==null||Q(K)),X.current&&(e==null||e(q,K),ne==null||ne(K),F.current=setTimeout(()=>{n==null||n(q,K),ae==null||ae(K),X.current=!1},150))},{passive:!1}):typeof Z<"u"&&T.on("wheel.zoom",function(q,J){if(!m&&q.type==="wheel"&&!q.ctrlKey||wu(q,S))return null;q.preventDefault(),Z.call(this,q,J)},{passive:!1}))},[A,a,l,T,j,Z,U,s,m,S,t,e,n]),Y.useEffect(()=>{j&&j.on("start",q=>{var C,H;if(!q.sourceEvent||q.sourceEvent.internal)return null;M.current=(C=q.sourceEvent)==null?void 0:C.button;const{onViewportChangeStart:J}=D.getState(),ie=Qp(q.transform);R.current=!0,V.current=ie,((H=q.sourceEvent)==null?void 0:H.type)==="mousedown"&&D.setState({paneDragging:!0}),J==null||J(ie),t==null||t(q.sourceEvent,ie)})},[j,t]),Y.useEffect(()=>{j&&(A&&!R.current?j.on("zoom",null):A||j.on("zoom",q=>{var ie;const{onViewportChange:J}=D.getState();if(D.setState({transform:[q.transform.x,q.transform.y,q.transform.k]}),L.current=!!(r&&Bk(d,M.current??0)),(e||J)&&!((ie=q.sourceEvent)!=null&&ie.internal)){const C=Qp(q.transform);J==null||J(C),e==null||e(q.sourceEvent,C)}}))},[A,j,e,d,r]),Y.useEffect(()=>{j&&j.on("end",q=>{if(!q.sourceEvent||q.sourceEvent.internal)return null;const{onViewportChangeEnd:J}=D.getState();if(R.current=!1,D.setState({paneDragging:!1}),r&&Bk(d,M.current??0)&&!L.current&&r(q.sourceEvent),L.current=!1,(n||J)&&FW(V.current,q.transform)){const ie=Qp(q.transform);V.current=ie,clearTimeout(P.current),P.current=setTimeout(()=>{J==null||J(ie),n==null||n(q.sourceEvent,ie)},a?150:0)}})},[j,a,d,n,r]),Y.useEffect(()=>{j&&j.filter(q=>{const J=U||i,ie=s&&q.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&q.button===1&&q.type==="mousedown"&&(wu(q,"react-flow__node")||wu(q,"react-flow__edge")))return!0;if(!d&&!J&&!a&&!u&&!s||A||!u&&q.type==="dblclick"||wu(q,S)&&q.type==="wheel"||wu(q,k)&&(q.type!=="wheel"||a&&q.type==="wheel"&&!U)||!s&&q.ctrlKey&&q.type==="wheel"||!J&&!a&&!ie&&q.type==="wheel"||!d&&(q.type==="mousedown"||q.type==="touchstart")||Array.isArray(d)&&!d.includes(q.button)&&q.type==="mousedown")return!1;const C=Array.isArray(d)&&d.includes(q.button)||!q.button||q.button<=1;return(!q.ctrlKey||q.type==="wheel")&&C})},[A,j,i,s,a,u,d,c,U]),ve.createElement("div",{className:"react-flow__renderer",ref:$,style:Y3},b)},BW=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function zW(){const{userSelectionActive:e,userSelectionRect:t}=pn(BW,vr);return e&&t?ve.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function $k(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const a=Math.abs(t.position.x);r.position.x=r.position.x-a,r.style.width+=a,t.position.x=0}if(t.position.y<0){const a=Math.abs(t.position.y);r.position.y=r.position.y-a,r.style.height+=a,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function UR(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(o=>o.id===i.id);if(s.length===0)return r.push(i),r;const a={...i};for(const o of s)if(o)switch(o.type){case"select":{a.selected=o.selected;break}case"position":{typeof o.position<"u"&&(a.position=o.position),typeof o.positionAbsolute<"u"&&(a.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(a.dragging=o.dragging),a.expandParent&&$k(r,a);break}case"dimensions":{typeof o.dimensions<"u"&&(a.width=o.dimensions.width,a.height=o.dimensions.height),typeof o.updateStyle<"u"&&(a.style={...a.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(a.resizing=o.resizing),a.expandParent&&$k(r,a);break}case"remove":return r}return r.push(a),r},n)}function VR(e,t){return UR(e,t)}function $W(e,t){return UR(e,t)}const lo=(e,t)=>({id:e,type:"select",selected:t});function Vu(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(lo(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(lo(r.id,!1))),n},[])}const mv=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},UW=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),HR=Y.memo(({isSelecting:e,selectionMode:t=Wf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:a,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const p=Y.useRef(null),h=Yn(),w=Y.useRef(0),y=Y.useRef(0),_=Y.useRef(),{userSelectionActive:m,elementsSelectable:b,dragging:S}=pn(UW,vr),k=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,y.current=0},P=Z=>{s==null||s(Z),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},D=Z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){Z.preventDefault();return}a==null||a(Z)},R=o?Z=>o(Z):void 0,L=Z=>{const{resetSelectedElements:A,domNode:U}=h.getState();if(_.current=U==null?void 0:U.getBoundingClientRect(),!b||!e||Z.button!==0||Z.target!==p.current||!_.current)return;const{x:M,y:X}=jo(Z,_.current);A(),h.setState({userSelectionRect:{width:0,height:0,startX:M,startY:X,x:M,y:X}}),r==null||r(Z)},$=Z=>{const{userSelectionRect:A,nodeInternals:U,edges:M,transform:X,onNodesChange:F,onEdgesChange:q,nodeOrigin:J,getNodes:ie}=h.getState();if(!e||!_.current||!A)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const C=jo(Z,_.current),H=A.startX??0,K=A.startY??0,Q={...A,x:C.x<H?C.x:H,y:C.y<K?C.y:K,width:Math.abs(C.x-H),height:Math.abs(C.y-K)},ne=ie(),ae=kR(U,Q,X,t===Wf.Partial,!0,J),se=ER(ae,M).map(ye=>ye.id),ce=ae.map(ye=>ye.id);if(w.current!==ce.length){w.current=ce.length;const ye=Vu(ne,ce);ye.length&&(F==null||F(ye))}if(y.current!==se.length){y.current=se.length;const ye=Vu(M,se);ye.length&&(q==null||q(ye))}h.setState({userSelectionRect:Q})},V=Z=>{if(Z.button!==0)return;const{userSelectionRect:A}=h.getState();!m&&A&&Z.target===p.current&&(P==null||P(Z)),h.setState({nodesSelectionActive:w.current>0}),k(),i==null||i(Z)},j=Z=>{m&&(h.setState({nodesSelectionActive:w.current>0}),i==null||i(Z)),k()},T=b&&(e||m);return ve.createElement("div",{className:jr(["react-flow__pane",{dragging:S,selection:e}]),onClick:T?void 0:mv(P,p),onContextMenu:mv(D,p),onWheel:mv(R,p),onMouseEnter:T?void 0:l,onMouseDown:T?L:void 0,onMouseMove:T?$:u,onMouseUp:T?V:void 0,onMouseLeave:T?j:c,ref:p,style:Y3},d,ve.createElement(zW,null))});HR.displayName="Pane";function WR(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:WR(r,t):!1}function Uk(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function VW(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!WR(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,a;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((a=i.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function HW(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function GR(e,t,n,r,i=[0,0],s){const a=HW(e,e.extent||r);let o=a;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:p,y:h}=ac(d,i).positionAbsolute;o=d&&Ii(p)&&Ii(h)&&Ii(d.width)&&Ii(d.height)?[[p+e.width*i[0],h+e.height*i[1]],[p+d.width-e.width+e.width*i[0],h+d.height-e.height+e.height*i[1]]]:o}else s==null||s("005",Sa.error005()),o=a;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:p,y:h}=ac(d,i).positionAbsolute;o=[[e.extent[0][0]+p,e.extent[0][1]+h],[e.extent[1][0]+p,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const d=n.get(l);u=ac(d,i).positionAbsolute}const c=o&&o!=="parent"?B3(t,o):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function gv({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Vk=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),a=t.getBoundingClientRect(),o={x:a.width*r[0],y:a.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-a.left-o.x)/n,y:(u.top-a.top-o.y)/n,...D3(l)}})};function Md(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function nx({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeInternals:o,onError:l}=t.getState(),u=o.get(e);if(!u){l==null||l("012",Sa.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function WW(){const e=Yn();return Y.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function vv(e){return(t,n,r)=>e==null?void 0:e(t,r)}function KR({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:a}){const o=Yn(),[l,u]=Y.useState(!1),c=Y.useRef([]),d=Y.useRef({x:null,y:null}),p=Y.useRef(0),h=Y.useRef(null),w=Y.useRef({x:0,y:0}),y=Y.useRef(null),_=Y.useRef(!1),m=Y.useRef(!1),b=Y.useRef(!1),S=WW();return Y.useEffect(()=>{if(e!=null&&e.current){const k=ts(e.current),P=({x:L,y:$})=>{const{nodeInternals:V,onNodeDrag:j,onSelectionDrag:T,updateNodePositions:Z,nodeExtent:A,snapGrid:U,snapToGrid:M,nodeOrigin:X,onError:F}=o.getState();d.current={x:L,y:$};let q=!1,J={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&A){const C=W3(c.current,X);J=z3(C)}if(c.current=c.current.map(C=>{const H={x:L-C.distance.x,y:$-C.distance.y};M&&(H.x=U[0]*Math.round(H.x/U[0]),H.y=U[1]*Math.round(H.y/U[1]));const K=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];c.current.length>1&&A&&!C.extent&&(K[0][0]=C.positionAbsolute.x-J.x+A[0][0],K[1][0]=C.positionAbsolute.x+(C.width??0)-J.x2+A[1][0],K[0][1]=C.positionAbsolute.y-J.y+A[0][1],K[1][1]=C.positionAbsolute.y+(C.height??0)-J.y2+A[1][1]);const Q=GR(C,H,V,K,X,F);return q=q||C.position.x!==Q.position.x||C.position.y!==Q.position.y,C.position=Q.position,C.positionAbsolute=Q.positionAbsolute,C}),!q)return;Z(c.current,!0,!0),u(!0);const ie=i?j:vv(T);if(ie&&y.current){const[C,H]=gv({nodeId:i,dragItems:c.current,nodeInternals:V});ie(y.current,C,H)}},D=()=>{if(!h.current)return;const[L,$]=gR(w.current,h.current);if(L!==0||$!==0){const{transform:V,panBy:j}=o.getState();d.current.x=(d.current.x??0)-L/V[2],d.current.y=(d.current.y??0)-$/V[2],j({x:L,y:$})&&P(d.current)}p.current=requestAnimationFrame(D)},R=L=>{var X;const{nodeInternals:$,multiSelectionActive:V,nodesDraggable:j,unselectNodesAndEdges:T,onNodeDragStart:Z,onSelectionDragStart:A}=o.getState();m.current=!0;const U=i?Z:vv(A);(!a||!s)&&!V&&i&&((X=$.get(i))!=null&&X.selected||T()),i&&s&&a&&nx({id:i,store:o,nodeRef:e});const M=S(L);if(d.current=M,c.current=VW($,j,M,i),U&&c.current){const[F,q]=gv({nodeId:i,dragItems:c.current,nodeInternals:$});U(L.sourceEvent,F,q)}};if(t)k.on(".drag",null);else{const L=tV().on("start",$=>{const{domNode:V,nodeDragThreshold:j}=o.getState();j===0&&R($),b.current=!1;const T=S($);d.current=T,h.current=(V==null?void 0:V.getBoundingClientRect())||null,w.current=jo($.sourceEvent,h.current)}).on("drag",$=>{var Z,A;const V=S($),{autoPanOnNodeDrag:j,nodeDragThreshold:T}=o.getState();if($.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!_.current&&m.current&&j&&(_.current=!0,D()),!m.current){const U=V.xSnapped-(((Z=d==null?void 0:d.current)==null?void 0:Z.x)??0),M=V.ySnapped-(((A=d==null?void 0:d.current)==null?void 0:A.y)??0);Math.sqrt(U*U+M*M)>T&&R($)}(d.current.x!==V.xSnapped||d.current.y!==V.ySnapped)&&c.current&&m.current&&(y.current=$.sourceEvent,w.current=jo($.sourceEvent,h.current),P(V))}}).on("end",$=>{if(!(!m.current||b.current)&&(u(!1),_.current=!1,m.current=!1,cancelAnimationFrame(p.current),c.current)){const{updateNodePositions:V,nodeInternals:j,onNodeDragStop:T,onSelectionDragStop:Z}=o.getState(),A=i?T:vv(Z);if(V(c.current,!1,!1),A){const[U,M]=gv({nodeId:i,dragItems:c.current,nodeInternals:j});A($.sourceEvent,U,M)}}}).filter($=>{const V=$.target;return!$.button&&(!n||!Uk(V,`.${n}`,e))&&(!r||Uk(V,r,e))});return k.call(L),()=>{k.on(".drag",null)}}}},[e,t,n,r,s,o,i,a,S]),l}function ZR(){const e=Yn();return Y.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:a,snapToGrid:o,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),d=a().filter(b=>b.selected&&(b.draggable||c&&typeof b.draggable>"u")),p=o?l[0]:5,h=o?l[1]:5,w=n.isShiftPressed?4:1,y=n.x*p*w,_=n.y*h*w,m=d.map(b=>{if(b.positionAbsolute){const S={x:b.positionAbsolute.x+y,y:b.positionAbsolute.y+_};o&&(S.x=l[0]*Math.round(S.x/l[0]),S.y=l[1]*Math.round(S.y/l[1]));const{positionAbsolute:k,position:P}=GR(b,S,r,i,void 0,u);b.position=P,b.positionAbsolute=k}return b});s(m,!0,!1)},[])}const oc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Fd=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:a,xPosOrigin:o,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:d,onMouseMove:p,onMouseLeave:h,onContextMenu:w,onDoubleClick:y,style:_,className:m,isDraggable:b,isSelectable:S,isConnectable:k,isFocusable:P,selectNodesOnDrag:D,sourcePosition:R,targetPosition:L,hidden:$,resizeObserver:V,dragHandle:j,zIndex:T,isParent:Z,noDragClassName:A,noPanClassName:U,initialized:M,disableKeyboardA11y:X,ariaLabel:F,rfId:q,hasHandleBounds:J})=>{const ie=Yn(),C=Y.useRef(null),H=Y.useRef(null),K=Y.useRef(R),Q=Y.useRef(L),ne=Y.useRef(r),ae=S||b||c||d||p||h,se=ZR(),ce=Md(n,ie.getState,d),ye=Md(n,ie.getState,p),Ae=Md(n,ie.getState,h),je=Md(n,ie.getState,w),Fe=Md(n,ie.getState,y),Ke=Re=>{const{nodeDragThreshold:xe}=ie.getState();if(S&&(!D||!b||xe>0)&&nx({id:n,store:ie,nodeRef:C}),c){const Se=ie.getState().nodeInternals.get(n);Se&&c(Re,{...Se})}},he=Re=>{if(!X_(Re)&&!X)if(yR.includes(Re.key)&&S){const xe=Re.key==="Escape";nx({id:n,store:ie,unselect:xe,nodeRef:C})}else b&&u&&Object.prototype.hasOwnProperty.call(oc,Re.key)&&(ie.setState({ariaLiveMessage:`Moved selected node ${Re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~a}`}),se({x:oc[Re.key].x,y:oc[Re.key].y,isShiftPressed:Re.shiftKey}))};Y.useEffect(()=>()=>{H.current&&(V==null||V.unobserve(H.current),H.current=null)},[]),Y.useEffect(()=>{if(C.current&&!$){const Re=C.current;(!M||!J||H.current!==Re)&&(H.current&&(V==null||V.unobserve(H.current)),V==null||V.observe(Re),H.current=Re)}},[$,M,J]),Y.useEffect(()=>{const Re=ne.current!==r,xe=K.current!==R,Se=Q.current!==L;C.current&&(Re||xe||Se)&&(Re&&(ne.current=r),xe&&(K.current=R),Se&&(Q.current=L),ie.getState().updateNodeDimensions([{id:n,nodeElement:C.current,forceUpdate:!0}]))},[n,r,R,L]);const re=KR({nodeRef:C,disabled:$||!b,noDragClassName:A,handleSelector:j,nodeId:n,isSelectable:S,selectNodesOnDrag:D});return $?null:ve.createElement("div",{className:jr(["react-flow__node",`react-flow__node-${r}`,{[U]:b},m,{selected:u,selectable:S,parent:Z,dragging:re}]),ref:C,style:{zIndex:T,transform:`translate(${o}px,${l}px)`,pointerEvents:ae?"all":"none",visibility:M?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ce,onMouseMove:ye,onMouseLeave:Ae,onContextMenu:je,onClick:Ke,onDoubleClick:Fe,onKeyDown:P?he:void 0,tabIndex:P?0:void 0,role:P?"button":void 0,"aria-describedby":X?void 0:`${qR}-${q}`,"aria-label":F},ve.createElement(aW,{value:n},ve.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:a,selected:u,isConnectable:k,sourcePosition:R,targetPosition:L,dragging:re,dragHandle:j,zIndex:T})))};return t.displayName="NodeWrapper",Y.memo(t)};const GW=e=>{const t=e.getNodes().filter(n=>n.selected);return{...W3(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function KW({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Yn(),{width:i,height:s,x:a,y:o,transformString:l,userSelectionActive:u}=pn(GW,vr),c=ZR(),d=Y.useRef(null);if(Y.useEffect(()=>{var w;n||(w=d.current)==null||w.focus({preventScroll:!0})},[n]),KR({nodeRef:d}),u||!i||!s)return null;const p=e?w=>{const y=r.getState().getNodes().filter(_=>_.selected);e(w,y)}:void 0,h=w=>{Object.prototype.hasOwnProperty.call(oc,w.key)&&c({x:oc[w.key].x,y:oc[w.key].y,isShiftPressed:w.shiftKey})};return ve.createElement("div",{className:jr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},ve.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s,top:o,left:a}}))}var ZW=Y.memo(KW);const YW=e=>e.nodesSelectionActive,YR=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,deleteKeyCode:o,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:p,selectionMode:h,onSelectionStart:w,onSelectionEnd:y,multiSelectionKeyCode:_,panActivationKeyCode:m,zoomActivationKeyCode:b,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:P,panOnScroll:D,panOnScrollSpeed:R,panOnScrollMode:L,zoomOnDoubleClick:$,panOnDrag:V,defaultViewport:j,translateExtent:T,minZoom:Z,maxZoom:A,preventScrolling:U,onSelectionContextMenu:M,noWheelClassName:X,noPanClassName:F,disableKeyboardA11y:q})=>{const J=pn(YW),ie=Gf(d),C=Gf(m),H=C||V,K=C||D,Q=ie||p&&H!==!0;return OW({deleteKeyCode:o,multiSelectionKeyCode:_}),ve.createElement(DW,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:P,panOnScroll:K,panOnScrollSpeed:R,panOnScrollMode:L,zoomOnDoubleClick:$,panOnDrag:!ie&&H,defaultViewport:j,translateExtent:T,minZoom:Z,maxZoom:A,zoomActivationKeyCode:b,preventScrolling:U,noWheelClassName:X,noPanClassName:F},ve.createElement(HR,{onSelectionStart:w,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,panOnDrag:H,isSelecting:!!Q,selectionMode:h},e,J&&ve.createElement(ZW,{onSelectionContextMenu:M,noPanClassName:F,disableKeyboardA11y:q})))};YR.displayName="FlowRenderer";var XW=Y.memo(YR);function JW(e){return pn(Y.useCallback(n=>e?kR(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function QW(e){const t={input:Fd(e.input||TR),default:Fd(e.default||tx),output:Fd(e.output||MR),group:Fd(e.group||K3)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Fd(e[s]||tx),i),n);return{...t,...r}}const eG=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},tG=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),XR=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:a}=pn(tG,vr),o=JW(e.onlyRenderVisibleElements),l=Y.useRef(),u=Y.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const p=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(p)});return l.current=c,c},[]);return Y.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),ve.createElement("div",{className:"react-flow__nodes",style:Y3},o.map(c=>{var P,D,R;let d=c.type||"default";e.nodeTypes[d]||(a==null||a("003",Sa.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),w=!!(c.selectable||i&&typeof c.selectable>"u"),y=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?B3(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,b=(m==null?void 0:m.x)??0,S=(m==null?void 0:m.y)??0,k=eG({x:b,y:S,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return ve.createElement(p,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||tt.Bottom,targetPosition:c.targetPosition||tt.Top,hidden:c.hidden,xPos:b,yPos:S,xPosOrigin:k.x,yPosOrigin:k.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:w,isConnectable:y,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((P=c[wn])==null?void 0:P.z)??0,isParent:!!((D=c[wn])!=null&&D.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((R=c[wn])!=null&&R.handleBounds)})}))};XR.displayName="NodeRenderer";var nG=Y.memo(XR);const rG=(e,t,n)=>n===tt.Left?e-t:n===tt.Right?e+t:e,iG=(e,t,n)=>n===tt.Top?e-t:n===tt.Bottom?e+t:e,Hk="react-flow__edgeupdater",Wk=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:a,type:o})=>ve.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:a,className:jr([Hk,`${Hk}-${o}`]),cx:rG(t,r,e),cy:iG(n,r,e),r,stroke:"transparent",fill:"transparent"}),sG=()=>!0;var _u=e=>{const t=({id:n,className:r,type:i,data:s,onClick:a,onEdgeDoubleClick:o,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:w,labelBgBorderRadius:y,style:_,source:m,target:b,sourceX:S,sourceY:k,targetX:P,targetY:D,sourcePosition:R,targetPosition:L,elementsSelectable:$,hidden:V,sourceHandleId:j,targetHandleId:T,onContextMenu:Z,onMouseEnter:A,onMouseMove:U,onMouseLeave:M,reconnectRadius:X,onReconnect:F,onReconnectStart:q,onReconnectEnd:J,markerEnd:ie,markerStart:C,rfId:H,ariaLabel:K,isFocusable:Q,isReconnectable:ne,pathOptions:ae,interactionWidth:se,disableKeyboardA11y:ce})=>{const ye=Y.useRef(null),[Ae,je]=Y.useState(!1),[Fe,Ke]=Y.useState(!1),he=Yn(),re=Y.useMemo(()=>`url('#${Q_(C,H)}')`,[C,H]),Re=Y.useMemo(()=>`url('#${Q_(ie,H)}')`,[ie,H]);if(V)return null;const xe=Me=>{var _n;const{edges:qt,addSelectedEdges:st,unselectNodesAndEdges:Yt,multiSelectionActive:Lt}=he.getState(),Rt=qt.find(At=>At.id===n);Rt&&($&&(he.setState({nodesSelectionActive:!1}),Rt.selected&&Lt?(Yt({nodes:[],edges:[Rt]}),(_n=ye.current)==null||_n.blur()):st([n])),a&&a(Me,Rt))},Se=Od(n,he.getState,o),qe=Od(n,he.getState,Z),De=Od(n,he.getState,A),Oe=Od(n,he.getState,U),ze=Od(n,he.getState,M),Ye=(Me,qt)=>{if(Me.button!==0)return;const{edges:st,isValidConnection:Yt}=he.getState(),Lt=qt?b:m,Rt=(qt?T:j)||null,_n=qt?"target":"source",At=Yt||sG,Di=qt,Gt=st.find(zt=>zt.id===n);Ke(!0),q==null||q(Me,Gt,_n);const br=zt=>{Ke(!1),J==null||J(zt,Gt,_n)};LR({event:Me,handleId:Rt,nodeId:Lt,onConnect:zt=>F==null?void 0:F(Gt,zt),isTarget:Di,getState:he.getState,setState:he.setState,isValidConnection:At,edgeUpdaterType:_n,onReconnectEnd:br})},nt=Me=>Ye(Me,!0),ut=Me=>Ye(Me,!1),pt=()=>je(!0),bt=()=>je(!1),Xe=!$&&!a,dt=Me=>{var qt;if(!ce&&yR.includes(Me.key)&&$){const{unselectNodesAndEdges:st,addSelectedEdges:Yt,edges:Lt}=he.getState();Me.key==="Escape"?((qt=ye.current)==null||qt.blur(),st({edges:[Lt.find(_n=>_n.id===n)]})):Yt([n])}};return ve.createElement("g",{className:jr(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:Xe,updating:Ae}]),onClick:xe,onDoubleClick:Se,onContextMenu:qe,onMouseEnter:De,onMouseMove:Oe,onMouseLeave:ze,onKeyDown:Q?dt:void 0,tabIndex:Q?0:void 0,role:Q?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":K===null?void 0:K||`Edge from ${m} to ${b}`,"aria-describedby":Q?`${DR}-${H}`:void 0,ref:ye},!Fe&&ve.createElement(e,{id:n,source:m,target:b,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:w,labelBgBorderRadius:y,data:s,style:_,sourceX:S,sourceY:k,targetX:P,targetY:D,sourcePosition:R,targetPosition:L,sourceHandleId:j,targetHandleId:T,markerStart:re,markerEnd:Re,pathOptions:ae,interactionWidth:se}),ne&&ve.createElement(ve.Fragment,null,(ne==="source"||ne===!0)&&ve.createElement(Wk,{position:R,centerX:S,centerY:k,radius:X,onMouseDown:nt,onMouseEnter:pt,onMouseOut:bt,type:"source"}),(ne==="target"||ne===!0)&&ve.createElement(Wk,{position:L,centerX:P,centerY:D,radius:X,onMouseDown:ut,onMouseEnter:pt,onMouseOut:bt,type:"target"})))};return t.displayName="EdgeWrapper",Y.memo(t)};function aG(e){const t={default:_u(e.default||bg),straight:_u(e.bezier||V3),step:_u(e.step||U3),smoothstep:_u(e.step||d0),simplebezier:_u(e.simplebezier||$3)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=_u(e[s]||bg),i),n);return{...t,...r}}function Gk(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,a=(n==null?void 0:n.height)||t.height;switch(e){case tt.Top:return{x:r+s/2,y:i};case tt.Right:return{x:r+s,y:i+a/2};case tt.Bottom:return{x:r+s/2,y:i+a};case tt.Left:return{x:r,y:i+a/2}}}function Kk(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const oG=(e,t,n,r,i,s)=>{const a=Gk(n,e,t),o=Gk(s,r,i);return{sourceX:a.x,sourceY:a.y,targetX:o.x,targetY:o.y}};function lG({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:a,height:o,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=z3({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:o/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),p=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*p)>0}function Zk(e){var r,i,s,a,o;const t=((r=e==null?void 0:e[wn])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const uG=[{level:0,isMaxLevel:!0,edges:[]}];function cG(e,t,n=!1){let r=-1;const i=e.reduce((a,o)=>{var c,d;const l=Ii(o.zIndex);let u=l?o.zIndex:0;if(n){const p=t.get(o.target),h=t.get(o.source),w=o.selected||(p==null?void 0:p.selected)||(h==null?void 0:h.selected),y=Math.max(((c=h==null?void 0:h[wn])==null?void 0:c.z)||0,((d=p==null?void 0:p[wn])==null?void 0:d.z)||0,1e3);u=(l?o.zIndex:0)+(w?y:0)}return a[u]?a[u].push(o):a[u]=[o],r=u>r?u:r,a},{}),s=Object.entries(i).map(([a,o])=>{const l=+a;return{edges:o,level:l,isMaxLevel:l===r}});return s.length===0?uG:s}function dG(e,t,n){const r=pn(Y.useCallback(i=>e?i.edges.filter(s=>{const a=t.get(s.source),o=t.get(s.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&lG({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:o.width,targetHeight:o.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return cG(r,t,n)}const fG=({color:e="none",strokeWidth:t=1})=>ve.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hG=({color:e="none",strokeWidth:t=1})=>ve.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Yk={[yg.Arrow]:fG,[yg.ArrowClosed]:hG};function pG(e){const t=Yn();return Y.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(Yk,e)?Yk[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Sa.error009(e)),null)},[e])}const mG=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:a,orient:o="auto-start-reverse"})=>{const l=pG(t);return l?ve.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0"},ve.createElement(l,{color:n,strokeWidth:a})):null},gG=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const o=Q_(a,t);r.includes(o)||(i.push({id:o,color:a.color||e,...a}),r.push(o))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},JR=({defaultColor:e,rfId:t})=>{const n=pn(Y.useCallback(gG({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,a)=>s.id!==i[a].id)));return ve.createElement("defs",null,n.map(r=>ve.createElement(mG,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};JR.displayName="MarkerDefinitions";var vG=Y.memo(JR);const yG=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),QR=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:a,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:h,onReconnectEnd:w,reconnectRadius:y,children:_,disableKeyboardA11y:m})=>{const{edgesFocusable:b,edgesUpdatable:S,elementsSelectable:k,width:P,height:D,connectionMode:R,nodeInternals:L,onError:$}=pn(yG,vr),V=dG(t,L,n);return P?ve.createElement(ve.Fragment,null,V.map(({level:j,edges:T,isMaxLevel:Z})=>ve.createElement("svg",{key:j,style:{zIndex:j},width:P,height:D,className:"react-flow__edges react-flow__container"},Z&&ve.createElement(vG,{defaultColor:e,rfId:r}),ve.createElement("g",null,T.map(A=>{const[U,M,X]=Zk(L.get(A.source)),[F,q,J]=Zk(L.get(A.target));if(!X||!J)return null;let ie=A.type||"default";i[ie]||($==null||$("011",Sa.error011(ie)),ie="default");const C=i[ie]||i.default,H=R===Mo.Strict?q.target:(q.target??[]).concat(q.source??[]),K=Kk(M.source,A.sourceHandle),Q=Kk(H,A.targetHandle),ne=(K==null?void 0:K.position)||tt.Bottom,ae=(Q==null?void 0:Q.position)||tt.Top,se=!!(A.focusable||b&&typeof A.focusable>"u"),ce=A.reconnectable||A.updatable,ye=typeof p<"u"&&(ce||S&&typeof ce>"u");if(!K||!Q)return $==null||$("008",Sa.error008(K,A)),null;const{sourceX:Ae,sourceY:je,targetX:Fe,targetY:Ke}=oG(U,K,ne,F,Q,ae);return ve.createElement(C,{key:A.id,id:A.id,className:jr([A.className,s]),type:ie,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:Ae,sourceY:je,targetX:Fe,targetY:Ke,sourcePosition:ne,targetPosition:ae,elementsSelectable:k,onContextMenu:a,onMouseEnter:o,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:h,onReconnectEnd:w,reconnectRadius:y,rfId:r,ariaLabel:A.ariaLabel,isFocusable:se,isReconnectable:ye,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth,disableKeyboardA11y:m})})))),_):null};QR.displayName="EdgeRenderer";var bG=Y.memo(QR);const wG=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function _G({children:e}){const t=pn(wG);return ve.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function xG(e){const t=Z3(),n=Y.useRef(!1);Y.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const NG={[tt.Left]:tt.Right,[tt.Right]:tt.Left,[tt.Top]:tt.Bottom,[tt.Bottom]:tt.Top},eI=({nodeId:e,handleType:t,style:n,type:r=fo.Bezier,CustomComponent:i,connectionStatus:s})=>{var D,R,L;const{fromNode:a,handleId:o,toX:l,toY:u,connectionMode:c}=pn(Y.useCallback($=>({fromNode:$.nodeInternals.get(e),handleId:$.connectionHandleId,toX:($.connectionPosition.x-$.transform[0])/$.transform[2],toY:($.connectionPosition.y-$.transform[1])/$.transform[2],connectionMode:$.connectionMode}),[e]),vr),d=(D=a==null?void 0:a[wn])==null?void 0:D.handleBounds;let p=d==null?void 0:d[t];if(c===Mo.Loose&&(p=p||(d==null?void 0:d[t==="source"?"target":"source"])),!a||!p)return null;const h=o?p.find($=>$.id===o):p[0],w=h?h.x+h.width/2:(a.width??0)/2,y=h?h.y+h.height/2:a.height??0,_=(((R=a.positionAbsolute)==null?void 0:R.x)??0)+w,m=(((L=a.positionAbsolute)==null?void 0:L.y)??0)+y,b=h==null?void 0:h.position,S=b?NG[b]:null;if(!b||!S)return null;if(i)return ve.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:h,fromX:_,fromY:m,toX:l,toY:u,fromPosition:b,toPosition:S,connectionStatus:s});let k="";const P={sourceX:_,sourceY:m,sourcePosition:b,targetX:l,targetY:u,targetPosition:S};return r===fo.Bezier?[k]=NR(P):r===fo.Step?[k]=J_({...P,borderRadius:0}):r===fo.SmoothStep?[k]=J_(P):r===fo.SimpleBezier?[k]=xR(P):k=`M${_},${m} ${l},${u}`,ve.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:n})};eI.displayName="ConnectionLine";const SG=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function kG({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:a,width:o,height:l,connectionStatus:u}=pn(SG,vr);return!(i&&s&&o&&a)?null:ve.createElement("svg",{style:e,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ve.createElement("g",{className:jr(["react-flow__connection",u])},ve.createElement(eI,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Xk(e,t){return Y.useRef(null),Yn(),Y.useMemo(()=>t(e),[e])}const tI=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:h,onSelectionContextMenu:w,onSelectionStart:y,onSelectionEnd:_,connectionLineType:m,connectionLineStyle:b,connectionLineComponent:S,connectionLineContainerStyle:k,selectionKeyCode:P,selectionOnDrag:D,selectionMode:R,multiSelectionKeyCode:L,panActivationKeyCode:$,zoomActivationKeyCode:V,deleteKeyCode:j,onlyRenderVisibleElements:T,elementsSelectable:Z,selectNodesOnDrag:A,defaultViewport:U,translateExtent:M,minZoom:X,maxZoom:F,preventScrolling:q,defaultMarkerColor:J,zoomOnScroll:ie,zoomOnPinch:C,panOnScroll:H,panOnScrollSpeed:K,panOnScrollMode:Q,zoomOnDoubleClick:ne,panOnDrag:ae,onPaneClick:se,onPaneMouseEnter:ce,onPaneMouseMove:ye,onPaneMouseLeave:Ae,onPaneScroll:je,onPaneContextMenu:Fe,onEdgeContextMenu:Ke,onEdgeMouseEnter:he,onEdgeMouseMove:re,onEdgeMouseLeave:Re,onReconnect:xe,onReconnectStart:Se,onReconnectEnd:qe,reconnectRadius:De,noDragClassName:Oe,noWheelClassName:ze,noPanClassName:Ye,elevateEdgesOnSelect:nt,disableKeyboardA11y:ut,nodeOrigin:pt,nodeExtent:bt,rfId:Xe})=>{const dt=Xk(e,QW),Me=Xk(t,aG);return xG(s),ve.createElement(XW,{onPaneClick:se,onPaneMouseEnter:ce,onPaneMouseMove:ye,onPaneMouseLeave:Ae,onPaneContextMenu:Fe,onPaneScroll:je,deleteKeyCode:j,selectionKeyCode:P,selectionOnDrag:D,selectionMode:R,onSelectionStart:y,onSelectionEnd:_,multiSelectionKeyCode:L,panActivationKeyCode:$,zoomActivationKeyCode:V,elementsSelectable:Z,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:ie,zoomOnPinch:C,zoomOnDoubleClick:ne,panOnScroll:H,panOnScrollSpeed:K,panOnScrollMode:Q,panOnDrag:ae,defaultViewport:U,translateExtent:M,minZoom:X,maxZoom:F,onSelectionContextMenu:w,preventScrolling:q,noDragClassName:Oe,noWheelClassName:ze,noPanClassName:Ye,disableKeyboardA11y:ut},ve.createElement(_G,null,ve.createElement(bG,{edgeTypes:Me,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:T,onEdgeContextMenu:Ke,onEdgeMouseEnter:he,onEdgeMouseMove:re,onEdgeMouseLeave:Re,onReconnect:xe,onReconnectStart:Se,onReconnectEnd:qe,reconnectRadius:De,defaultMarkerColor:J,noPanClassName:Ye,elevateEdgesOnSelect:!!nt,disableKeyboardA11y:ut,rfId:Xe},ve.createElement(kG,{style:b,type:m,component:S,containerStyle:k})),ve.createElement("div",{className:"react-flow__edgelabel-renderer"}),ve.createElement(nG,{nodeTypes:dt,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:h,selectNodesOnDrag:A,onlyRenderVisibleElements:T,noPanClassName:Ye,noDragClassName:Oe,disableKeyboardA11y:ut,nodeOrigin:pt,nodeExtent:bt,rfId:Xe})))};tI.displayName="GraphView";var EG=Y.memo(tI);const rx=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:rx,nodeExtent:rx,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Mo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:eW,isValidConnection:void 0},AG=()=>h$((e,t)=>({...Qa,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:pv(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",a=i?pv(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:a,fitViewOnInitOptions:o,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((y,_)=>{const m=i.get(_.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[wn]:{...m[wn],handleBounds:void 0}});else if(m){const b=D3(_.nodeElement);!!(b.width&&b.height&&(m.width!==b.width||m.height!==b.height||_.forceUpdate))&&(i.set(m.id,{...m,[wn]:{...m[wn],handleBounds:{source:Vk(".source",_.nodeElement,p,u),target:Vk(".target",_.nodeElement,p,u)}},...b}),y.push({id:m.id,type:"dimensions",dimensions:b}))}return y},[]);zR(i,u);const w=a||s&&!a&&$R(t,{initial:!0,...o});e({nodeInternals:new Map(i),fitViewOnInitDone:w}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),a=n.map(o=>{const l={id:o.id,type:"position",dragging:i};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});s(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:a,getNodes:o,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const u=VR(n,o()),c=pv(u,i,a,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let a,o=null;r?a=n.map(l=>lo(l,!0)):(a=Vu(s(),n),o=Vu(i,[])),Jp({changedNodes:a,changedEdges:o,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let a,o=null;r?a=n.map(l=>lo(l,!0)):(a=Vu(i,n),o=Vu(s(),[])),Jp({changedNodes:o,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),a=n||s(),o=r||i,l=a.map(c=>(c.selected=!1,lo(c.id,!1))),u=o.map(c=>lo(c.id,!1));Jp({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(o=>o.selected).map(o=>lo(o.id,!1)),a=n.filter(o=>o.selected).map(o=>lo(o.id,!1));Jp({changedNodes:s,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=B3(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:a,d3Selection:o,translateExtent:l}=t();if(!a||!o||!n.x&&!n.y)return!1;const u=Co.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,s]],d=a==null?void 0:a.constrain()(u,c,l);return a.transform(o,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Qa.connectionNodeId,connectionHandleId:Qa.connectionHandleId,connectionHandleType:Qa.connectionHandleType,connectionStatus:Qa.connectionStatus,connectionStartHandle:Qa.connectionStartHandle,connectionEndHandle:Qa.connectionEndHandle}),reset:()=>e({...Qa})}),Object.is),nI=({children:e})=>{const t=Y.useRef(null);return t.current||(t.current=AG()),ve.createElement(WH,{value:t.current},e)};nI.displayName="ReactFlowProvider";const rI=({children:e})=>Y.useContext(c0)?ve.createElement(ve.Fragment,null,e):ve.createElement(nI,null,e);rI.displayName="ReactFlowWrapper";const CG={input:TR,default:tx,output:MR,group:K3},jG={default:bg,straight:V3,step:U3,smoothstep:d0,simplebezier:$3},LG=[0,0],PG=[15,15],RG={x:0,y:0,zoom:1},IG={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},iI=Y.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=CG,edgeTypes:a=jG,onNodeClick:o,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:p,onConnect:h,onConnectStart:w,onConnectEnd:y,onClickConnectStart:_,onClickConnectEnd:m,onNodeMouseEnter:b,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:P,onNodeDoubleClick:D,onNodeDragStart:R,onNodeDrag:L,onNodeDragStop:$,onNodesDelete:V,onEdgesDelete:j,onSelectionChange:T,onSelectionDragStart:Z,onSelectionDrag:A,onSelectionDragStop:U,onSelectionContextMenu:M,onSelectionStart:X,onSelectionEnd:F,connectionMode:q=Mo.Strict,connectionLineType:J=fo.Bezier,connectionLineStyle:ie,connectionLineComponent:C,connectionLineContainerStyle:H,deleteKeyCode:K="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:ne=!1,selectionMode:ae=Wf.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:ce=vg()?"Meta":"Control",zoomActivationKeyCode:ye=vg()?"Meta":"Control",snapToGrid:Ae=!1,snapGrid:je=PG,onlyRenderVisibleElements:Fe=!1,selectNodesOnDrag:Ke=!0,nodesDraggable:he,nodesConnectable:re,nodesFocusable:Re,nodeOrigin:xe=LG,edgesFocusable:Se,edgesUpdatable:qe,elementsSelectable:De,defaultViewport:Oe=RG,minZoom:ze=.5,maxZoom:Ye=2,translateExtent:nt=rx,preventScrolling:ut=!0,nodeExtent:pt,defaultMarkerColor:bt="#b1b1b7",zoomOnScroll:Xe=!0,zoomOnPinch:dt=!0,panOnScroll:Me=!1,panOnScrollSpeed:qt=.5,panOnScrollMode:st=hl.Free,zoomOnDoubleClick:Yt=!0,panOnDrag:Lt=!0,onPaneClick:Rt,onPaneMouseEnter:_n,onPaneMouseMove:At,onPaneMouseLeave:Di,onPaneScroll:Gt,onPaneContextMenu:br,children:vi,onEdgeContextMenu:zt,onEdgeDoubleClick:ft,onEdgeMouseEnter:Ft,onEdgeMouseMove:Ws,onEdgeMouseLeave:Fn,onEdgeUpdate:yi,onEdgeUpdateStart:bi,onEdgeUpdateEnd:rt,onReconnect:Zr,onReconnectStart:wi,onReconnectEnd:ir,reconnectRadius:xn=10,edgeUpdaterRadius:mn=10,onNodesChange:wr,onEdgesChange:La,noDragClassName:Bi="nodrag",noWheelClassName:Yr="nowheel",noPanClassName:Lr="nopan",fitView:Xr=!1,fitViewOptions:_i,connectOnClick:Pr=!0,attributionPosition:xi,proOptions:Gs,defaultEdgeOptions:Pa,elevateNodesOnSelect:Ra=!0,elevateEdgesOnSelect:Ia=!1,disableKeyboardA11y:Ks=!1,autoPanOnConnect:Vl=!0,autoPanOnNodeDrag:$c=!0,connectionRadius:Uc=20,isValidConnection:Ta,onError:Hl,style:Vc,id:Oa,nodeDragThreshold:Hc,...Wl},Wc)=>{const bs=Oa||"1";return ve.createElement("div",{...Wl,style:{...Vc,...IG},ref:Wc,className:jr(["react-flow",i]),"data-testid":"rf__wrapper",id:Oa},ve.createElement(rI,null,ve.createElement(EG,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:p,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:b,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:P,onNodeDoubleClick:D,nodeTypes:s,edgeTypes:a,connectionLineType:J,connectionLineStyle:ie,connectionLineComponent:C,connectionLineContainerStyle:H,selectionKeyCode:Q,selectionOnDrag:ne,selectionMode:ae,deleteKeyCode:K,multiSelectionKeyCode:ce,panActivationKeyCode:se,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Fe,selectNodesOnDrag:Ke,defaultViewport:Oe,translateExtent:nt,minZoom:ze,maxZoom:Ye,preventScrolling:ut,zoomOnScroll:Xe,zoomOnPinch:dt,zoomOnDoubleClick:Yt,panOnScroll:Me,panOnScrollSpeed:qt,panOnScrollMode:st,panOnDrag:Lt,onPaneClick:Rt,onPaneMouseEnter:_n,onPaneMouseMove:At,onPaneMouseLeave:Di,onPaneScroll:Gt,onPaneContextMenu:br,onSelectionContextMenu:M,onSelectionStart:X,onSelectionEnd:F,onEdgeContextMenu:zt,onEdgeDoubleClick:ft,onEdgeMouseEnter:Ft,onEdgeMouseMove:Ws,onEdgeMouseLeave:Fn,onReconnect:Zr??yi,onReconnectStart:wi??bi,onReconnectEnd:ir??rt,reconnectRadius:xn??mn,defaultMarkerColor:bt,noDragClassName:Bi,noWheelClassName:Yr,noPanClassName:Lr,elevateEdgesOnSelect:Ia,rfId:bs,disableKeyboardA11y:Ks,nodeOrigin:xe,nodeExtent:pt}),ve.createElement(NW,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:w,onConnectEnd:y,onClickConnectStart:_,onClickConnectEnd:m,nodesDraggable:he,nodesConnectable:re,nodesFocusable:Re,edgesFocusable:Se,edgesUpdatable:qe,elementsSelectable:De,elevateNodesOnSelect:Ra,minZoom:ze,maxZoom:Ye,nodeExtent:pt,onNodesChange:wr,onEdgesChange:La,snapToGrid:Ae,snapGrid:je,connectionMode:q,translateExtent:nt,connectOnClick:Pr,defaultEdgeOptions:Pa,fitView:Xr,fitViewOptions:_i,onNodesDelete:V,onEdgesDelete:j,onNodeDragStart:R,onNodeDrag:L,onNodeDragStop:$,onSelectionDrag:A,onSelectionDragStart:Z,onSelectionDragStop:U,noPanClassName:Lr,nodeOrigin:xe,rfId:bs,autoPanOnConnect:Vl,autoPanOnNodeDrag:$c,onError:Hl,connectionRadius:Uc,isValidConnection:Ta,nodeDragThreshold:Hc}),ve.createElement(_W,{onSelectionChange:T}),vi,ve.createElement(KH,{proOptions:Gs,position:xi}),ve.createElement(CW,{rfId:bs,disableKeyboardA11y:Ks})))});iI.displayName="ReactFlow";function sI(e){return t=>{const[n,r]=Y.useState(t),i=Y.useCallback(s=>r(a=>e(s,a)),[]);return[n,r,i]}}const TG=sI(VR),OG=sI($W);function MG(){return ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ve.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function FG(){return ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ve.createElement("path",{d:"M0 0h32v4.2H0z"}))}function qG(){return ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ve.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function DG(){return ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ve.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function BG(){return ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ve.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Hd=({children:e,className:t,...n})=>ve.createElement("button",{type:"button",className:jr(["react-flow__controls-button",t]),...n},e);Hd.displayName="ControlButton";const zG=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),aI=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:a,onFitView:o,onInteractiveChange:l,className:u,children:c,position:d="bottom-left"})=>{const p=Yn(),[h,w]=Y.useState(!1),{isInteractive:y,minZoomReached:_,maxZoomReached:m}=pn(zG,vr),{zoomIn:b,zoomOut:S,fitView:k}=Z3();if(Y.useEffect(()=>{w(!0)},[]),!h)return null;const P=()=>{b(),s==null||s()},D=()=>{S(),a==null||a()},R=()=>{k(i),o==null||o()},L=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)};return ve.createElement(q3,{className:jr(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&ve.createElement(ve.Fragment,null,ve.createElement(Hd,{onClick:P,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},ve.createElement(MG,null)),ve.createElement(Hd,{onClick:D,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},ve.createElement(FG,null))),n&&ve.createElement(Hd,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},ve.createElement(qG,null)),r&&ve.createElement(Hd,{className:"react-flow__controls-interactive",onClick:L,title:"toggle interactivity","aria-label":"toggle interactivity"},y?ve.createElement(BG,null):ve.createElement(DG,null)),c)};aI.displayName="Controls";var $G=Y.memo(aI),ls;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ls||(ls={}));function UG({color:e,dimensions:t,lineWidth:n}){return ve.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function VG({color:e,radius:t}){return ve.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const HG={[ls.Dots]:"#91919a",[ls.Lines]:"#eee",[ls.Cross]:"#e2e2e2"},WG={[ls.Dots]:1,[ls.Lines]:1,[ls.Cross]:6},GG=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function oI({id:e,variant:t=ls.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:a,style:o,className:l}){const u=Y.useRef(null),{transform:c,patternId:d}=pn(GG,vr),p=a||HG[t],h=r||WG[t],w=t===ls.Dots,y=t===ls.Cross,_=Array.isArray(n)?n:[n,n],m=[_[0]*c[2]||1,_[1]*c[2]||1],b=h*c[2],S=y?[b,b]:m,k=w?[b/s,b/s]:[S[0]/s,S[1]/s];return ve.createElement("svg",{className:jr(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},ve.createElement("pattern",{id:d+e,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`},w?ve.createElement(VG,{color:p,radius:b/s}):ve.createElement(UG,{dimensions:S,color:p,lineWidth:i})),ve.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}oI.displayName="Background";var KG=Y.memo(oI);function X3(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yv,Jk;function ZG(){if(Jk)return yv;Jk=1;function e(){this.__data__=[],this.size=0}return yv=e,yv}var bv,Qk;function Rc(){if(Qk)return bv;Qk=1;function e(t,n){return t===n||t!==t&&n!==n}return bv=e,bv}var wv,e6;function f0(){if(e6)return wv;e6=1;var e=Rc();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return wv=t,wv}var _v,t6;function YG(){if(t6)return _v;t6=1;var e=f0(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,a=e(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return _v=r,_v}var xv,n6;function XG(){if(n6)return xv;n6=1;var e=f0();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return xv=t,xv}var Nv,r6;function JG(){if(r6)return Nv;r6=1;var e=f0();function t(n){return e(this.__data__,n)>-1}return Nv=t,Nv}var Sv,i6;function QG(){if(i6)return Sv;i6=1;var e=f0();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Sv=t,Sv}var kv,s6;function h0(){if(s6)return kv;s6=1;var e=ZG(),t=YG(),n=XG(),r=JG(),i=QG();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,kv=s,kv}var Ev,a6;function eK(){if(a6)return Ev;a6=1;var e=h0();function t(){this.__data__=new e,this.size=0}return Ev=t,Ev}var Av,o6;function tK(){if(o6)return Av;o6=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Av=e,Av}var Cv,l6;function nK(){if(l6)return Cv;l6=1;function e(t){return this.__data__.get(t)}return Cv=e,Cv}var jv,u6;function rK(){if(u6)return jv;u6=1;function e(t){return this.__data__.has(t)}return jv=e,jv}var Lv,c6;function lI(){if(c6)return Lv;c6=1;var e=typeof Np=="object"&&Np&&Np.Object===Object&&Np;return Lv=e,Lv}var Pv,d6;function ms(){if(d6)return Pv;d6=1;var e=lI(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Pv=n,Pv}var Rv,f6;function Ic(){if(f6)return Rv;f6=1;var e=ms(),t=e.Symbol;return Rv=t,Rv}var Iv,h6;function iK(){if(h6)return Iv;h6=1;var e=Ic(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var u=!0}catch{}var c=r.call(a);return u&&(o?a[i]=l:delete a[i]),c}return Iv=s,Iv}var Tv,p6;function sK(){if(p6)return Tv;p6=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Tv=n,Tv}var Ov,m6;function ql(){if(m6)return Ov;m6=1;var e=Ic(),t=iK(),n=sK(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?t(o):n(o)}return Ov=a,Ov}var Mv,g6;function Fi(){if(g6)return Mv;g6=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Mv=e,Mv}var Fv,v6;function xh(){if(v6)return Fv;v6=1;var e=ql(),t=Fi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!t(o))return!1;var l=e(o);return l==r||l==i||l==n||l==s}return Fv=a,Fv}var qv,y6;function aK(){if(y6)return qv;y6=1;var e=ms(),t=e["__core-js_shared__"];return qv=t,qv}var Dv,b6;function oK(){if(b6)return Dv;b6=1;var e=aK(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Dv=n,Dv}var Bv,w6;function uI(){if(w6)return Bv;w6=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Bv=n,Bv}var zv,_6;function lK(){if(_6)return zv;_6=1;var e=xh(),t=oK(),n=Fi(),r=uI(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!n(p)||t(p))return!1;var h=e(p)?c:s;return h.test(r(p))}return zv=d,zv}var $v,x6;function uK(){if(x6)return $v;x6=1;function e(t,n){return t==null?void 0:t[n]}return $v=e,$v}var Uv,N6;function Dl(){if(N6)return Uv;N6=1;var e=lK(),t=uK();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return Uv=n,Uv}var Vv,S6;function J3(){if(S6)return Vv;S6=1;var e=Dl(),t=ms(),n=e(t,"Map");return Vv=n,Vv}var Hv,k6;function p0(){if(k6)return Hv;k6=1;var e=Dl(),t=e(Object,"create");return Hv=t,Hv}var Wv,E6;function cK(){if(E6)return Wv;E6=1;var e=p0();function t(){this.__data__=e?e(null):{},this.size=0}return Wv=t,Wv}var Gv,A6;function dK(){if(A6)return Gv;A6=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Gv=e,Gv}var Kv,C6;function fK(){if(C6)return Kv;C6=1;var e=p0(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(e){var o=a[s];return o===t?void 0:o}return r.call(a,s)?a[s]:void 0}return Kv=i,Kv}var Zv,j6;function hK(){if(j6)return Zv;j6=1;var e=p0(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return Zv=r,Zv}var Yv,L6;function pK(){if(L6)return Yv;L6=1;var e=p0(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return Yv=n,Yv}var Xv,P6;function mK(){if(P6)return Xv;P6=1;var e=cK(),t=dK(),n=fK(),r=hK(),i=pK();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Xv=s,Xv}var Jv,R6;function gK(){if(R6)return Jv;R6=1;var e=mK(),t=h0(),n=J3();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Jv=r,Jv}var Qv,I6;function vK(){if(I6)return Qv;I6=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Qv=e,Qv}var e2,T6;function m0(){if(T6)return e2;T6=1;var e=vK();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return e2=t,e2}var t2,O6;function yK(){if(O6)return t2;O6=1;var e=m0();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return t2=t,t2}var n2,M6;function bK(){if(M6)return n2;M6=1;var e=m0();function t(n){return e(this,n).get(n)}return n2=t,n2}var r2,F6;function wK(){if(F6)return r2;F6=1;var e=m0();function t(n){return e(this,n).has(n)}return r2=t,r2}var i2,q6;function _K(){if(q6)return i2;q6=1;var e=m0();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return i2=t,i2}var s2,D6;function Q3(){if(D6)return s2;D6=1;var e=gK(),t=yK(),n=bK(),r=wK(),i=_K();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,s2=s,s2}var a2,B6;function xK(){if(B6)return a2;B6=1;var e=h0(),t=J3(),n=Q3(),r=200;function i(s,a){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return a2=i,a2}var o2,z6;function g0(){if(z6)return o2;z6=1;var e=h0(),t=eK(),n=tK(),r=nK(),i=rK(),s=xK();function a(o){var l=this.__data__=new e(o);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,o2=a,o2}var l2,$6;function e4(){if($6)return l2;$6=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return l2=e,l2}var u2,U6;function cI(){if(U6)return u2;U6=1;var e=Dl(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return u2=t,u2}var c2,V6;function v0(){if(V6)return c2;V6=1;var e=cI();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return c2=t,c2}var d2,H6;function y0(){if(H6)return d2;H6=1;var e=v0(),t=Rc(),n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o){var l=s[a];(!(r.call(s,a)&&t(l,o))||o===void 0&&!(a in s))&&e(s,a,o)}return d2=i,d2}var f2,W6;function Nh(){if(W6)return f2;W6=1;var e=y0(),t=v0();function n(r,i,s,a){var o=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=a?a(s[c],r[c],c,s,r):void 0;d===void 0&&(d=r[c]),o?t(s,c,d):e(s,c,d)}return s}return f2=n,f2}var h2,G6;function NK(){if(G6)return h2;G6=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return h2=e,h2}var p2,K6;function Hs(){if(K6)return p2;K6=1;function e(t){return t!=null&&typeof t=="object"}return p2=e,p2}var m2,Z6;function SK(){if(Z6)return m2;Z6=1;var e=ql(),t=Hs(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return m2=r,m2}var g2,Y6;function Sh(){if(Y6)return g2;Y6=1;var e=SK(),t=Hs(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return g2=s,g2}var v2,X6;function Mn(){if(X6)return v2;X6=1;var e=Array.isArray;return v2=e,v2}var Wd={exports:{}},y2,J6;function kK(){if(J6)return y2;J6=1;function e(){return!1}return y2=e,y2}Wd.exports;var Q6;function Tc(){return Q6||(Q6=1,function(e,t){var n=ms(),r=kK(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;e.exports=u}(Wd,Wd.exports)),Wd.exports}var b2,eE;function b0(){if(eE)return b2;eE=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return b2=n,b2}var w2,tE;function t4(){if(tE)return w2;tE=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return w2=t,w2}var _2,nE;function EK(){if(nE)return _2;nE=1;var e=ql(),t=t4(),n=Hs(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",p="[object RegExp]",h="[object Set]",w="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",m="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",k="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",$="[object Uint16Array]",V="[object Uint32Array]",j={};j[b]=j[S]=j[k]=j[P]=j[D]=j[R]=j[L]=j[$]=j[V]=!0,j[r]=j[i]=j[_]=j[s]=j[m]=j[a]=j[o]=j[l]=j[u]=j[c]=j[d]=j[p]=j[h]=j[w]=j[y]=!1;function T(Z){return n(Z)&&t(Z.length)&&!!j[e(Z)]}return _2=T,_2}var x2,rE;function w0(){if(rE)return x2;rE=1;function e(t){return function(n){return t(n)}}return x2=e,x2}var Gd={exports:{}};Gd.exports;var iE;function n4(){return iE||(iE=1,function(e,t){var n=lI(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=o}(Gd,Gd.exports)),Gd.exports}var N2,sE;function kh(){if(sE)return N2;sE=1;var e=EK(),t=w0(),n=n4(),r=n&&n.isTypedArray,i=r?t(r):e;return N2=i,N2}var S2,aE;function dI(){if(aE)return S2;aE=1;var e=NK(),t=Sh(),n=Mn(),r=Tc(),i=b0(),s=kh(),a=Object.prototype,o=a.hasOwnProperty;function l(u,c){var d=n(u),p=!d&&t(u),h=!d&&!p&&r(u),w=!d&&!p&&!h&&s(u),y=d||p||h||w,_=y?e(u.length,String):[],m=_.length;for(var b in u)(c||o.call(u,b))&&!(y&&(b=="length"||h&&(b=="offset"||b=="parent")||w&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,m)))&&_.push(b);return _}return S2=l,S2}var k2,oE;function _0(){if(oE)return k2;oE=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return k2=t,k2}var E2,lE;function fI(){if(lE)return E2;lE=1;function e(t,n){return function(r){return t(n(r))}}return E2=e,E2}var A2,uE;function AK(){if(uE)return A2;uE=1;var e=fI(),t=e(Object.keys,Object);return A2=t,A2}var C2,cE;function r4(){if(cE)return C2;cE=1;var e=_0(),t=AK(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return C2=i,C2}var j2,dE;function Ca(){if(dE)return j2;dE=1;var e=xh(),t=t4();function n(r){return r!=null&&t(r.length)&&!e(r)}return j2=n,j2}var L2,fE;function Wo(){if(fE)return L2;fE=1;var e=dI(),t=r4(),n=Ca();function r(i){return n(i)?e(i):t(i)}return L2=r,L2}var P2,hE;function CK(){if(hE)return P2;hE=1;var e=Nh(),t=Wo();function n(r,i){return r&&e(i,t(i),r)}return P2=n,P2}var R2,pE;function jK(){if(pE)return R2;pE=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return R2=e,R2}var I2,mE;function LK(){if(mE)return I2;mE=1;var e=Fi(),t=_0(),n=jK(),r=Object.prototype,i=r.hasOwnProperty;function s(a){if(!e(a))return n(a);var o=t(a),l=[];for(var u in a)u=="constructor"&&(o||!i.call(a,u))||l.push(u);return l}return I2=s,I2}var T2,gE;function Bl(){if(gE)return T2;gE=1;var e=dI(),t=LK(),n=Ca();function r(i){return n(i)?e(i,!0):t(i)}return T2=r,T2}var O2,vE;function PK(){if(vE)return O2;vE=1;var e=Nh(),t=Bl();function n(r,i){return r&&e(i,t(i),r)}return O2=n,O2}var Kd={exports:{}};Kd.exports;var yE;function hI(){return yE||(yE=1,function(e,t){var n=ms(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,p=o?o(d):new u.constructor(d);return u.copy(p),p}e.exports=l}(Kd,Kd.exports)),Kd.exports}var M2,bE;function pI(){if(bE)return M2;bE=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return M2=e,M2}var F2,wE;function mI(){if(wE)return F2;wE=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,a=[];++r<i;){var o=t[r];n(o,r,t)&&(a[s++]=o)}return a}return F2=e,F2}var q2,_E;function gI(){if(_E)return q2;_E=1;function e(){return[]}return q2=e,q2}var D2,xE;function i4(){if(xE)return D2;xE=1;var e=mI(),t=gI(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(o){return r.call(a,o)}))}:t;return D2=s,D2}var B2,NE;function RK(){if(NE)return B2;NE=1;var e=Nh(),t=i4();function n(r,i){return e(r,t(r),i)}return B2=n,B2}var z2,SE;function s4(){if(SE)return z2;SE=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return z2=e,z2}var $2,kE;function x0(){if(kE)return $2;kE=1;var e=fI(),t=e(Object.getPrototypeOf,Object);return $2=t,$2}var U2,EE;function vI(){if(EE)return U2;EE=1;var e=s4(),t=x0(),n=i4(),r=gI(),i=Object.getOwnPropertySymbols,s=i?function(a){for(var o=[];a;)e(o,n(a)),a=t(a);return o}:r;return U2=s,U2}var V2,AE;function IK(){if(AE)return V2;AE=1;var e=Nh(),t=vI();function n(r,i){return e(r,t(r),i)}return V2=n,V2}var H2,CE;function yI(){if(CE)return H2;CE=1;var e=s4(),t=Mn();function n(r,i,s){var a=i(r);return t(r)?a:e(a,s(r))}return H2=n,H2}var W2,jE;function bI(){if(jE)return W2;jE=1;var e=yI(),t=i4(),n=Wo();function r(i){return e(i,n,t)}return W2=r,W2}var G2,LE;function TK(){if(LE)return G2;LE=1;var e=yI(),t=vI(),n=Bl();function r(i){return e(i,n,t)}return G2=r,G2}var K2,PE;function OK(){if(PE)return K2;PE=1;var e=Dl(),t=ms(),n=e(t,"DataView");return K2=n,K2}var Z2,RE;function MK(){if(RE)return Z2;RE=1;var e=Dl(),t=ms(),n=e(t,"Promise");return Z2=n,Z2}var Y2,IE;function wI(){if(IE)return Y2;IE=1;var e=Dl(),t=ms(),n=e(t,"Set");return Y2=n,Y2}var X2,TE;function FK(){if(TE)return X2;TE=1;var e=Dl(),t=ms(),n=e(t,"WeakMap");return X2=n,X2}var J2,OE;function Oc(){if(OE)return J2;OE=1;var e=OK(),t=J3(),n=MK(),r=wI(),i=FK(),s=ql(),a=uI(),o="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",p="[object DataView]",h=a(e),w=a(t),y=a(n),_=a(r),m=a(i),b=s;return(e&&b(new e(new ArrayBuffer(1)))!=p||t&&b(new t)!=o||n&&b(n.resolve())!=u||r&&b(new r)!=c||i&&b(new i)!=d)&&(b=function(S){var k=s(S),P=k==l?S.constructor:void 0,D=P?a(P):"";if(D)switch(D){case h:return p;case w:return o;case y:return u;case _:return c;case m:return d}return k}),J2=b,J2}var Q2,ME;function qK(){if(ME)return Q2;ME=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return Q2=n,Q2}var ey,FE;function _I(){if(FE)return ey;FE=1;var e=ms(),t=e.Uint8Array;return ey=t,ey}var ty,qE;function a4(){if(qE)return ty;qE=1;var e=_I();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return ty=t,ty}var ny,DE;function DK(){if(DE)return ny;DE=1;var e=a4();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return ny=t,ny}var ry,BE;function BK(){if(BE)return ry;BE=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return ry=t,ry}var iy,zE;function zK(){if(zE)return iy;zE=1;var e=Ic(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return iy=r,iy}var sy,$E;function xI(){if($E)return sy;$E=1;var e=a4();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return sy=t,sy}var ay,UE;function $K(){if(UE)return ay;UE=1;var e=a4(),t=DK(),n=BK(),r=zK(),i=xI(),s="[object Boolean]",a="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",p="[object Symbol]",h="[object ArrayBuffer]",w="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",m="[object Int8Array]",b="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",P="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function L($,V,j){var T=$.constructor;switch(V){case h:return e($);case s:case a:return new T(+$);case w:return t($,j);case y:case _:case m:case b:case S:case k:case P:case D:case R:return i($,j);case o:return new T;case l:case d:return new T($);case u:return n($);case c:return new T;case p:return r($)}}return ay=L,ay}var oy,VE;function NI(){if(VE)return oy;VE=1;var e=Fi(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return oy=n,oy}var ly,HE;function SI(){if(HE)return ly;HE=1;var e=NI(),t=x0(),n=_0();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return ly=r,ly}var uy,WE;function UK(){if(WE)return uy;WE=1;var e=Oc(),t=Hs(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return uy=r,uy}var cy,GE;function VK(){if(GE)return cy;GE=1;var e=UK(),t=w0(),n=n4(),r=n&&n.isMap,i=r?t(r):e;return cy=i,cy}var dy,KE;function HK(){if(KE)return dy;KE=1;var e=Oc(),t=Hs(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return dy=r,dy}var fy,ZE;function WK(){if(ZE)return fy;ZE=1;var e=HK(),t=w0(),n=n4(),r=n&&n.isSet,i=r?t(r):e;return fy=i,fy}var hy,YE;function kI(){if(YE)return hy;YE=1;var e=g0(),t=e4(),n=y0(),r=CK(),i=PK(),s=hI(),a=pI(),o=RK(),l=IK(),u=bI(),c=TK(),d=Oc(),p=qK(),h=$K(),w=SI(),y=Mn(),_=Tc(),m=VK(),b=Fi(),S=WK(),k=Wo(),P=Bl(),D=1,R=2,L=4,$="[object Arguments]",V="[object Array]",j="[object Boolean]",T="[object Date]",Z="[object Error]",A="[object Function]",U="[object GeneratorFunction]",M="[object Map]",X="[object Number]",F="[object Object]",q="[object RegExp]",J="[object Set]",ie="[object String]",C="[object Symbol]",H="[object WeakMap]",K="[object ArrayBuffer]",Q="[object DataView]",ne="[object Float32Array]",ae="[object Float64Array]",se="[object Int8Array]",ce="[object Int16Array]",ye="[object Int32Array]",Ae="[object Uint8Array]",je="[object Uint8ClampedArray]",Fe="[object Uint16Array]",Ke="[object Uint32Array]",he={};he[$]=he[V]=he[K]=he[Q]=he[j]=he[T]=he[ne]=he[ae]=he[se]=he[ce]=he[ye]=he[M]=he[X]=he[F]=he[q]=he[J]=he[ie]=he[C]=he[Ae]=he[je]=he[Fe]=he[Ke]=!0,he[Z]=he[A]=he[H]=!1;function re(Re,xe,Se,qe,De,Oe){var ze,Ye=xe&D,nt=xe&R,ut=xe&L;if(Se&&(ze=De?Se(Re,qe,De,Oe):Se(Re)),ze!==void 0)return ze;if(!b(Re))return Re;var pt=y(Re);if(pt){if(ze=p(Re),!Ye)return a(Re,ze)}else{var bt=d(Re),Xe=bt==A||bt==U;if(_(Re))return s(Re,Ye);if(bt==F||bt==$||Xe&&!De){if(ze=nt||Xe?{}:w(Re),!Ye)return nt?l(Re,i(ze,Re)):o(Re,r(ze,Re))}else{if(!he[bt])return De?Re:{};ze=h(Re,bt,Ye)}}Oe||(Oe=new e);var dt=Oe.get(Re);if(dt)return dt;Oe.set(Re,ze),S(Re)?Re.forEach(function(st){ze.add(re(st,xe,Se,st,Re,Oe))}):m(Re)&&Re.forEach(function(st,Yt){ze.set(Yt,re(st,xe,Se,Yt,Re,Oe))});var Me=ut?nt?c:u:nt?P:k,qt=pt?void 0:Me(Re);return t(qt||Re,function(st,Yt){qt&&(Yt=st,st=Re[Yt]),n(ze,Yt,re(st,xe,Se,Yt,Re,Oe))}),ze}return hy=re,hy}var py,XE;function GK(){if(XE)return py;XE=1;var e=kI(),t=4;function n(r){return e(r,t)}return py=n,py}var my,JE;function o4(){if(JE)return my;JE=1;function e(t){return function(){return t}}return my=e,my}var gy,QE;function KK(){if(QE)return gy;QE=1;function e(t){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var u=o[t?l:++s];if(r(a[u],u,a)===!1)break}return n}}return gy=e,gy}var vy,eA;function l4(){if(eA)return vy;eA=1;var e=KK(),t=e();return vy=t,vy}var yy,tA;function u4(){if(tA)return yy;tA=1;var e=l4(),t=Wo();function n(r,i){return r&&e(r,i,t)}return yy=n,yy}var by,nA;function ZK(){if(nA)return by;nA=1;var e=Ca();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return by=t,by}var wy,rA;function N0(){if(rA)return wy;rA=1;var e=u4(),t=ZK(),n=t(e);return wy=n,wy}var _y,iA;function zl(){if(iA)return _y;iA=1;function e(t){return t}return _y=e,_y}var xy,sA;function EI(){if(sA)return xy;sA=1;var e=zl();function t(n){return typeof n=="function"?n:e}return xy=t,xy}var Ny,aA;function AI(){if(aA)return Ny;aA=1;var e=e4(),t=N0(),n=EI(),r=Mn();function i(s,a){var o=r(s)?e:t;return o(s,n(a))}return Ny=i,Ny}var Sy,oA;function CI(){return oA||(oA=1,Sy=AI()),Sy}var ky,lA;function YK(){if(lA)return ky;lA=1;var e=N0();function t(n,r){var i=[];return e(n,function(s,a,o){r(s,a,o)&&i.push(s)}),i}return ky=t,ky}var Ey,uA;function XK(){if(uA)return Ey;uA=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Ey=t,Ey}var Ay,cA;function JK(){if(cA)return Ay;cA=1;function e(t){return this.__data__.has(t)}return Ay=e,Ay}var Cy,dA;function jI(){if(dA)return Cy;dA=1;var e=Q3(),t=XK(),n=JK();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new e;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Cy=r,Cy}var jy,fA;function QK(){if(fA)return jy;fA=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return jy=e,jy}var Ly,hA;function LI(){if(hA)return Ly;hA=1;function e(t,n){return t.has(n)}return Ly=e,Ly}var Py,pA;function PI(){if(pA)return Py;pA=1;var e=jI(),t=QK(),n=LI(),r=1,i=2;function s(a,o,l,u,c,d){var p=l&r,h=a.length,w=o.length;if(h!=w&&!(p&&w>h))return!1;var y=d.get(a),_=d.get(o);if(y&&_)return y==o&&_==a;var m=-1,b=!0,S=l&i?new e:void 0;for(d.set(a,o),d.set(o,a);++m<h;){var k=a[m],P=o[m];if(u)var D=p?u(P,k,m,o,a,d):u(k,P,m,a,o,d);if(D!==void 0){if(D)continue;b=!1;break}if(S){if(!t(o,function(R,L){if(!n(S,L)&&(k===R||c(k,R,l,u,d)))return S.push(L)})){b=!1;break}}else if(!(k===P||c(k,P,l,u,d))){b=!1;break}}return d.delete(a),d.delete(o),b}return Py=s,Py}var Ry,mA;function eZ(){if(mA)return Ry;mA=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return Ry=e,Ry}var Iy,gA;function c4(){if(gA)return Iy;gA=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Iy=e,Iy}var Ty,vA;function tZ(){if(vA)return Ty;vA=1;var e=Ic(),t=_I(),n=Rc(),r=PI(),i=eZ(),s=c4(),a=1,o=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",p="[object Number]",h="[object RegExp]",w="[object Set]",y="[object String]",_="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",S=e?e.prototype:void 0,k=S?S.valueOf:void 0;function P(D,R,L,$,V,j,T){switch(L){case b:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case m:return!(D.byteLength!=R.byteLength||!j(new t(D),new t(R)));case l:case u:case p:return n(+D,+R);case c:return D.name==R.name&&D.message==R.message;case h:case y:return D==R+"";case d:var Z=i;case w:var A=$&a;if(Z||(Z=s),D.size!=R.size&&!A)return!1;var U=T.get(D);if(U)return U==R;$|=o,T.set(D,R);var M=r(Z(D),Z(R),$,V,j,T);return T.delete(D),M;case _:if(k)return k.call(D)==k.call(R)}return!1}return Ty=P,Ty}var Oy,yA;function nZ(){if(yA)return Oy;yA=1;var e=bI(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,u,c){var d=o&t,p=e(s),h=p.length,w=e(a),y=w.length;if(h!=y&&!d)return!1;for(var _=h;_--;){var m=p[_];if(!(d?m in a:r.call(a,m)))return!1}var b=c.get(s),S=c.get(a);if(b&&S)return b==a&&S==s;var k=!0;c.set(s,a),c.set(a,s);for(var P=d;++_<h;){m=p[_];var D=s[m],R=a[m];if(l)var L=d?l(R,D,m,a,s,c):l(D,R,m,s,a,c);if(!(L===void 0?D===R||u(D,R,o,l,c):L)){k=!1;break}P||(P=m=="constructor")}if(k&&!P){var $=s.constructor,V=a.constructor;$!=V&&"constructor"in s&&"constructor"in a&&!(typeof $=="function"&&$ instanceof $&&typeof V=="function"&&V instanceof V)&&(k=!1)}return c.delete(s),c.delete(a),k}return Oy=i,Oy}var My,bA;function rZ(){if(bA)return My;bA=1;var e=g0(),t=PI(),n=tZ(),r=nZ(),i=Oc(),s=Mn(),a=Tc(),o=kh(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function w(y,_,m,b,S,k){var P=s(y),D=s(_),R=P?c:i(y),L=D?c:i(_);R=R==u?d:R,L=L==u?d:L;var $=R==d,V=L==d,j=R==L;if(j&&a(y)){if(!a(_))return!1;P=!0,$=!1}if(j&&!$)return k||(k=new e),P||o(y)?t(y,_,m,b,S,k):n(y,_,R,m,b,S,k);if(!(m&l)){var T=$&&h.call(y,"__wrapped__"),Z=V&&h.call(_,"__wrapped__");if(T||Z){var A=T?y.value():y,U=Z?_.value():_;return k||(k=new e),S(A,U,m,b,k)}}return j?(k||(k=new e),r(y,_,m,b,S,k)):!1}return My=w,My}var Fy,wA;function RI(){if(wA)return Fy;wA=1;var e=rZ(),t=Hs();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,a,n,o)}return Fy=n,Fy}var qy,_A;function iZ(){if(_A)return qy;_A=1;var e=g0(),t=RI(),n=1,r=2;function i(s,a,o,l){var u=o.length,c=u,d=!l;if(s==null)return!c;for(s=Object(s);u--;){var p=o[u];if(d&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++u<c;){p=o[u];var h=p[0],w=s[h],y=p[1];if(d&&p[2]){if(w===void 0&&!(h in s))return!1}else{var _=new e;if(l)var m=l(w,y,h,s,a,_);if(!(m===void 0?t(y,w,n|r,l,_):m))return!1}}return!0}return qy=i,qy}var Dy,xA;function II(){if(xA)return Dy;xA=1;var e=Fi();function t(n){return n===n&&!e(n)}return Dy=t,Dy}var By,NA;function sZ(){if(NA)return By;NA=1;var e=II(),t=Wo();function n(r){for(var i=t(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,e(o)]}return i}return By=n,By}var zy,SA;function TI(){if(SA)return zy;SA=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return zy=e,zy}var $y,kA;function aZ(){if(kA)return $y;kA=1;var e=iZ(),t=sZ(),n=TI();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||e(a,i,s)}}return $y=r,$y}var Uy,EA;function Mc(){if(EA)return Uy;EA=1;var e=ql(),t=Hs(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Uy=r,Uy}var Vy,AA;function d4(){if(AA)return Vy;AA=1;var e=Mn(),t=Mc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(e(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return Vy=i,Vy}var Hy,CA;function oZ(){if(CA)return Hy;CA=1;var e=Q3(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var u=r.apply(this,a);return s.cache=l.set(o,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,Hy=n,Hy}var Wy,jA;function lZ(){if(jA)return Wy;jA=1;var e=oZ(),t=500;function n(r){var i=e(r,function(a){return s.size===t&&s.clear(),a}),s=i.cache;return i}return Wy=n,Wy}var Gy,LA;function uZ(){if(LA)return Gy;LA=1;var e=lZ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(a,o,l,u){s.push(l?u.replace(n,"$1"):o||a)}),s});return Gy=r,Gy}var Ky,PA;function S0(){if(PA)return Ky;PA=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return Ky=e,Ky}var Zy,RA;function cZ(){if(RA)return Zy;RA=1;var e=Ic(),t=S0(),n=Mn(),r=Mc(),i=1/0,s=e?e.prototype:void 0,a=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(r(l))return a?a.call(l):"";var u=l+"";return u=="0"&&1/l==-i?"-0":u}return Zy=o,Zy}var Yy,IA;function OI(){if(IA)return Yy;IA=1;var e=cZ();function t(n){return n==null?"":e(n)}return Yy=t,Yy}var Xy,TA;function k0(){if(TA)return Xy;TA=1;var e=Mn(),t=d4(),n=uZ(),r=OI();function i(s,a){return e(s)?s:t(s,a)?[s]:n(r(s))}return Xy=i,Xy}var Jy,OA;function Eh(){if(OA)return Jy;OA=1;var e=Mc(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return Jy=n,Jy}var Qy,MA;function E0(){if(MA)return Qy;MA=1;var e=k0(),t=Eh();function n(r,i){i=e(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[t(i[s++])];return s&&s==a?r:void 0}return Qy=n,Qy}var e5,FA;function dZ(){if(FA)return e5;FA=1;var e=E0();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return e5=t,e5}var t5,qA;function fZ(){if(qA)return t5;qA=1;function e(t,n){return t!=null&&n in Object(t)}return t5=e,t5}var n5,DA;function MI(){if(DA)return n5;DA=1;var e=k0(),t=Sh(),n=Mn(),r=b0(),i=t4(),s=Eh();function a(o,l,u){l=e(l,o);for(var c=-1,d=l.length,p=!1;++c<d;){var h=s(l[c]);if(!(p=o!=null&&u(o,h)))break;o=o[h]}return p||++c!=d?p:(d=o==null?0:o.length,!!d&&i(d)&&r(h,d)&&(n(o)||t(o)))}return n5=a,n5}var r5,BA;function FI(){if(BA)return r5;BA=1;var e=fZ(),t=MI();function n(r,i){return r!=null&&t(r,i,e)}return r5=n,r5}var i5,zA;function hZ(){if(zA)return i5;zA=1;var e=RI(),t=dZ(),n=FI(),r=d4(),i=II(),s=TI(),a=Eh(),o=1,l=2;function u(c,d){return r(c)&&i(d)?s(a(c),d):function(p){var h=t(p,c);return h===void 0&&h===d?n(p,c):e(d,h,o|l)}}return i5=u,i5}var s5,$A;function qI(){if($A)return s5;$A=1;function e(t){return function(n){return n==null?void 0:n[t]}}return s5=e,s5}var a5,UA;function pZ(){if(UA)return a5;UA=1;var e=E0();function t(n){return function(r){return e(r,n)}}return a5=t,a5}var o5,VA;function mZ(){if(VA)return o5;VA=1;var e=qI(),t=pZ(),n=d4(),r=Eh();function i(s){return n(s)?e(r(s)):t(s)}return o5=i,o5}var l5,HA;function ja(){if(HA)return l5;HA=1;var e=aZ(),t=hZ(),n=zl(),r=Mn(),i=mZ();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return l5=s,l5}var u5,WA;function DI(){if(WA)return u5;WA=1;var e=mI(),t=YK(),n=ja(),r=Mn();function i(s,a){var o=r(s)?e:t;return o(s,n(a,3))}return u5=i,u5}var c5,GA;function gZ(){if(GA)return c5;GA=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return c5=n,c5}var d5,KA;function BI(){if(KA)return d5;KA=1;var e=gZ(),t=MI();function n(r,i){return r!=null&&t(r,i,e)}return d5=n,d5}var f5,ZA;function vZ(){if(ZA)return f5;ZA=1;var e=r4(),t=Oc(),n=Sh(),r=Mn(),i=Ca(),s=Tc(),a=_0(),o=kh(),l="[object Map]",u="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function p(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||s(h)||o(h)||n(h)))return!h.length;var w=t(h);if(w==l||w==u)return!h.size;if(a(h))return!e(h).length;for(var y in h)if(d.call(h,y))return!1;return!0}return f5=p,f5}var h5,YA;function zI(){if(YA)return h5;YA=1;function e(t){return t===void 0}return h5=e,h5}var p5,XA;function $I(){if(XA)return p5;XA=1;var e=N0(),t=Ca();function n(r,i){var s=-1,a=t(r)?Array(r.length):[];return e(r,function(o,l,u){a[++s]=i(o,l,u)}),a}return p5=n,p5}var m5,JA;function UI(){if(JA)return m5;JA=1;var e=S0(),t=ja(),n=$I(),r=Mn();function i(s,a){var o=r(s)?e:n;return o(s,t(a,3))}return m5=i,m5}var g5,QA;function yZ(){if(QA)return g5;QA=1;function e(t,n,r,i){var s=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++s]);++s<a;)r=n(r,t[s],s,t);return r}return g5=e,g5}var v5,e8;function bZ(){if(e8)return v5;e8=1;function e(t,n,r,i,s){return s(t,function(a,o,l){r=i?(i=!1,a):n(r,a,o,l)}),r}return v5=e,v5}var y5,t8;function VI(){if(t8)return y5;t8=1;var e=yZ(),t=N0(),n=ja(),r=bZ(),i=Mn();function s(a,o,l){var u=i(a)?e:r,c=arguments.length<3;return u(a,n(o,4),l,c,t)}return y5=s,y5}var b5,n8;function wZ(){if(n8)return b5;n8=1;var e=ql(),t=Mn(),n=Hs(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return b5=i,b5}var w5,r8;function _Z(){if(r8)return w5;r8=1;var e=qI(),t=e("length");return w5=t,w5}var _5,i8;function xZ(){if(i8)return _5;i8=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+e+i+s+"]");function l(u){return o.test(u)}return _5=l,_5}var x5,s8;function NZ(){if(s8)return x5;s8=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",a="["+e+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",w=u+"?",y="["+s+"]?",_="(?:"+h+"(?:"+[c,d,p].join("|")+")"+y+w+")*",m=y+w+_,b="(?:"+[c+o+"?",o,d,p,a].join("|")+")",S=RegExp(l+"(?="+l+")|"+b+m,"g");function k(P){for(var D=S.lastIndex=0;S.test(P);)++D;return D}return x5=k,x5}var N5,a8;function SZ(){if(a8)return N5;a8=1;var e=_Z(),t=xZ(),n=NZ();function r(i){return t(i)?n(i):e(i)}return N5=r,N5}var S5,o8;function kZ(){if(o8)return S5;o8=1;var e=r4(),t=Oc(),n=Ca(),r=wZ(),i=SZ(),s="[object Map]",a="[object Set]";function o(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==s||u==a?l.size:e(l).length}return S5=o,S5}var k5,l8;function EZ(){if(l8)return k5;l8=1;var e=e4(),t=NI(),n=u4(),r=ja(),i=x0(),s=Mn(),a=Tc(),o=xh(),l=Fi(),u=kh();function c(d,p,h){var w=s(d),y=w||a(d)||u(d);if(p=r(p,4),h==null){var _=d&&d.constructor;y?h=w?new _:[]:l(d)?h=o(_)?t(i(d)):{}:h={}}return(y?e:n)(d,function(m,b,S){return p(h,m,b,S)}),h}return k5=c,k5}var E5,u8;function AZ(){if(u8)return E5;u8=1;var e=Ic(),t=Sh(),n=Mn(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return E5=i,E5}var A5,c8;function f4(){if(c8)return A5;c8=1;var e=s4(),t=AZ();function n(r,i,s,a,o){var l=-1,u=r.length;for(s||(s=t),o||(o=[]);++l<u;){var c=r[l];i>0&&s(c)?i>1?n(c,i-1,s,a,o):e(o,c):a||(o[o.length]=c)}return o}return A5=n,A5}var C5,d8;function CZ(){if(d8)return C5;d8=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return C5=e,C5}var j5,f8;function HI(){if(f8)return j5;f8=1;var e=CZ(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=t(a.length-i,0),u=Array(l);++o<l;)u[o]=a[i+o];o=-1;for(var c=Array(i+1);++o<i;)c[o]=a[o];return c[i]=s(u),e(r,this,c)}}return j5=n,j5}var L5,h8;function jZ(){if(h8)return L5;h8=1;var e=o4(),t=cI(),n=zl(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return L5=r,L5}var P5,p8;function LZ(){if(p8)return P5;p8=1;var e=800,t=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=t-(o-a);if(a=o,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return P5=r,P5}var R5,m8;function WI(){if(m8)return R5;m8=1;var e=jZ(),t=LZ(),n=t(e);return R5=n,R5}var I5,g8;function A0(){if(g8)return I5;g8=1;var e=zl(),t=HI(),n=WI();function r(i,s){return n(t(i,s,e),i+"")}return I5=r,I5}var T5,v8;function GI(){if(v8)return T5;v8=1;function e(t,n,r,i){for(var s=t.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(t[a],a,t))return a;return-1}return T5=e,T5}var O5,y8;function PZ(){if(y8)return O5;y8=1;function e(t){return t!==t}return O5=e,O5}var M5,b8;function RZ(){if(b8)return M5;b8=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return M5=e,M5}var F5,w8;function IZ(){if(w8)return F5;w8=1;var e=GI(),t=PZ(),n=RZ();function r(i,s,a){return s===s?n(i,s,a):e(i,t,a)}return F5=r,F5}var q5,_8;function TZ(){if(_8)return q5;_8=1;var e=IZ();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return q5=t,q5}var D5,x8;function OZ(){if(x8)return D5;x8=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return D5=e,D5}var B5,N8;function MZ(){if(N8)return B5;N8=1;function e(){}return B5=e,B5}var z5,S8;function FZ(){if(S8)return z5;S8=1;var e=wI(),t=MZ(),n=c4(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return z5=i,z5}var $5,k8;function qZ(){if(k8)return $5;k8=1;var e=jI(),t=TZ(),n=OZ(),r=LI(),i=FZ(),s=c4(),a=200;function o(l,u,c){var d=-1,p=t,h=l.length,w=!0,y=[],_=y;if(c)w=!1,p=n;else if(h>=a){var m=u?null:i(l);if(m)return s(m);w=!1,p=r,_=new e}else _=u?[]:y;e:for(;++d<h;){var b=l[d],S=u?u(b):b;if(b=c||b!==0?b:0,w&&S===S){for(var k=_.length;k--;)if(_[k]===S)continue e;u&&_.push(S),y.push(b)}else p(_,S,c)||(_!==y&&_.push(S),y.push(b))}return y}return $5=o,$5}var U5,E8;function KI(){if(E8)return U5;E8=1;var e=Ca(),t=Hs();function n(r){return t(r)&&e(r)}return U5=n,U5}var V5,A8;function DZ(){if(A8)return V5;A8=1;var e=f4(),t=A0(),n=qZ(),r=KI(),i=t(function(s){return n(e(s,1,r,!0))});return V5=i,V5}var H5,C8;function BZ(){if(C8)return H5;C8=1;var e=S0();function t(n,r){return e(r,function(i){return n[i]})}return H5=t,H5}var W5,j8;function ZI(){if(j8)return W5;j8=1;var e=BZ(),t=Wo();function n(r){return r==null?[]:e(r,t(r))}return W5=n,W5}var G5,L8;function qi(){if(L8)return G5;L8=1;var e;if(typeof X3=="function")try{e={clone:GK(),constant:o4(),each:CI(),filter:DI(),has:BI(),isArray:Mn(),isEmpty:vZ(),isFunction:xh(),isUndefined:zI(),keys:Wo(),map:UI(),reduce:VI(),size:kZ(),transform:EZ(),union:DZ(),values:ZI()}}catch{}return e||(e=window._),G5=e,G5}var K5,P8;function h4(){if(P8)return K5;P8=1;var e=qi();K5=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var p=arguments,h=this;return e.each(c,function(w){p.length>1?h.setNode(w,d):h.setNode(w)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var p=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){d.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),p),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),p),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var p=d;!e.isUndefined(p);p=this.parent(p))if(p===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var p=this;e.each(this._nodes,function(y,_){c(_)&&d.setNode(_,y)}),e.each(this._edgeObjs,function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,p.edge(y))});var h={};function w(y){var _=p.parent(y);return _===void 0||d.hasNode(_)?(h[y]=_,_):_ in h?h[_]:w(_)}return this._isCompound&&e.each(d.nodes(),function(y){d.setParent(y,w(y))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var p=this,h=arguments;return e.reduce(c,function(w,y){return h.length>1?p.setEdge(w,y,d):p.setEdge(w,y),y}),this},i.prototype.setEdge=function(){var c,d,p,h,w=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,d=y.w,p=y.name,arguments.length===2&&(h=arguments[1],w=!0)):(c=y,d=arguments[1],p=arguments[3],arguments.length>2&&(h=arguments[2],w=!0)),c=""+c,d=""+d,e.isUndefined(p)||(p=""+p);var _=o(this._isDirected,c,d,p);if(e.has(this._edgeLabels,_))return w&&(this._edgeLabels[_]=h),this;if(!e.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[_]=w?h:this._defaultEdgeLabelFn(c,d,p);var m=l(this._isDirected,c,d,p);return c=m.v,d=m.w,Object.freeze(m),this._edgeObjs[_]=m,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][_]=m,this._out[c][_]=m,this._edgeCount++,this},i.prototype.edge=function(c,d,p){var h=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,p);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,d,p){var h=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,p);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,d,p){var h=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,p),w=this._edgeObjs[h];return w&&(c=w.v,d=w.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[d],c),a(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var p=this._in[c];if(p){var h=e.values(p);return d?e.filter(h,function(w){return w.v===d}):h}},i.prototype.outEdges=function(c,d){var p=this._out[c];if(p){var h=e.values(p);return d?e.filter(h,function(w){return w.w===d}):h}},i.prototype.nodeEdges=function(c,d){var p=this.inEdges(c,d);if(p)return p.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function a(c,d){--c[d]||delete c[d]}function o(c,d,p,h){var w=""+d,y=""+p;if(!c&&w>y){var _=w;w=y,y=_}return w+r+y+r+(e.isUndefined(h)?t:h)}function l(c,d,p,h){var w=""+d,y=""+p;if(!c&&w>y){var _=w;w=y,y=_}var m={v:w,w:y};return h&&(m.name=h),m}function u(c,d){return o(c,d.v,d.w,d.name)}return K5}var Z5,R8;function zZ(){return R8||(R8=1,Z5="2.1.8"),Z5}var Y5,I8;function $Z(){return I8||(I8=1,Y5={Graph:h4(),version:zZ()}),Y5}var X5,T8;function UZ(){if(T8)return X5;T8=1;var e=qi(),t=h4();X5={write:n,read:s};function n(a){var o={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(o.value=e.clone(a.graph())),o}function r(a){return e.map(a.nodes(),function(o){var l=a.node(o),u=a.parent(o),c={v:o};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(a){return e.map(a.edges(),function(o){var l=a.edge(o),u={v:o.v,w:o.w};return e.isUndefined(o.name)||(u.name=o.name),e.isUndefined(l)||(u.value=l),u})}function s(a){var o=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),e.each(a.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return X5}var J5,O8;function VZ(){if(O8)return J5;O8=1;var e=qi();J5=t;function t(n){var r={},i=[],s;function a(o){e.has(r,o)||(r[o]=!0,s.push(o),e.each(n.successors(o),a),e.each(n.predecessors(o),a))}return e.each(n.nodes(),function(o){s=[],a(o),s.length&&i.push(s)}),i}return J5}var Q5,M8;function YI(){if(M8)return Q5;M8=1;var e=qi();Q5=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,a=s.length;return i[n]=a,s.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,s<r.length&&(a=r[s].priority<r[a].priority?s:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,a=i[n],o=i[r];i[n]=o,i[r]=a,s[o.key]=n,s[a.key]=r},Q5}var eb,F8;function XI(){if(F8)return eb;F8=1;var e=qi(),t=YI();eb=r;var n=e.constant(1);function r(s,a,o,l){return i(s,String(a),o||n,l||function(u){return s.outEdges(u)})}function i(s,a,o,l){var u={},c=new t,d,p,h=function(w){var y=w.v!==d?w.v:w.w,_=u[y],m=o(w),b=p.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+w+" Weight: "+m);b<_.distance&&(_.distance=b,_.predecessor=d,c.decrease(y,b))};for(s.nodes().forEach(function(w){var y=w===a?0:Number.POSITIVE_INFINITY;u[w]={distance:y},c.add(w,y)});c.size()>0&&(d=c.removeMin(),p=u[d],p.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(h);return u}return eb}var tb,q8;function HZ(){if(q8)return tb;q8=1;var e=XI(),t=qi();tb=n;function n(r,i,s){return t.transform(r.nodes(),function(a,o){a[o]=e(r,o,i,s)},{})}return tb}var nb,D8;function JI(){if(D8)return nb;D8=1;var e=qi();nb=t;function t(n){var r=0,i=[],s={},a=[];function o(l){var u=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(p){e.has(s,p)?s[p].onStack&&(u.lowlink=Math.min(u.lowlink,s[p].index)):(o(p),u.lowlink=Math.min(u.lowlink,s[p].lowlink))}),u.lowlink===u.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(l!==d);a.push(c)}}return n.nodes().forEach(function(l){e.has(s,l)||o(l)}),a}return nb}var rb,B8;function WZ(){if(B8)return rb;B8=1;var e=qi(),t=JI();rb=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return rb}var ib,z8;function GZ(){if(z8)return ib;z8=1;var e=qi();ib=n;var t=e.constant(1);function n(i,s,a){return r(i,s||t,a||function(o){return i.outEdges(o)})}function r(i,s,a){var o={},l=i.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(c){u!==c&&(o[u][c]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(c){var d=c.v===u?c.w:c.v,p=s(c);o[u][d]={distance:p,predecessor:u}})}),l.forEach(function(u){var c=o[u];l.forEach(function(d){var p=o[d];l.forEach(function(h){var w=p[u],y=c[h],_=p[h],m=w.distance+y.distance;m<_.distance&&(_.distance=m,_.predecessor=y.predecessor)})})}),o}return ib}var sb,$8;function QI(){if($8)return sb;$8=1;var e=qi();sb=t,t.CycleException=n;function t(r){var i={},s={},a=[];function o(l){if(e.has(s,l))throw new n;e.has(i,l)||(s[l]=!0,i[l]=!0,e.each(r.predecessors(l),o),delete s[l],a.push(l))}if(e.each(r.sinks(),o),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,sb}var ab,U8;function KZ(){if(U8)return ab;U8=1;var e=QI();ab=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return ab}var ob,V8;function eT(){if(V8)return ob;V8=1;var e=qi();ob=t;function t(r,i,s){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,s==="post",l,a,o)}),o}function n(r,i,s,a,o,l){e.has(a,i)||(a[i]=!0,s||l.push(i),e.each(o(i),function(u){n(r,u,s,a,o,l)}),s&&l.push(i))}return ob}var lb,H8;function ZZ(){if(H8)return lb;H8=1;var e=eT();lb=t;function t(n,r){return e(n,r,"post")}return lb}var ub,W8;function YZ(){if(W8)return ub;W8=1;var e=eT();ub=t;function t(n,r){return e(n,r,"pre")}return ub}var cb,G8;function XZ(){if(G8)return cb;G8=1;var e=qi(),t=h4(),n=YI();cb=r;function r(i,s){var a=new t,o={},l=new n,u;function c(p){var h=p.v===u?p.w:p.v,w=l.priority(h);if(w!==void 0){var y=s(p);y<w&&(o[h]=u,l.decrease(h,y))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(p){l.add(p,Number.POSITIVE_INFINITY),a.setNode(p)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),e.has(o,u))a.setEdge(u,o[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(c)}return a}return cb}var db,K8;function JZ(){return K8||(K8=1,db={components:VZ(),dijkstra:XI(),dijkstraAll:HZ(),findCycles:WZ(),floydWarshall:GZ(),isAcyclic:KZ(),postorder:ZZ(),preorder:YZ(),prim:XZ(),tarjan:JI(),topsort:QI()}),db}var fb,Z8;function QZ(){if(Z8)return fb;Z8=1;var e=$Z();return fb={Graph:e.Graph,json:UZ(),alg:JZ(),version:e.version},fb}var _g;if(typeof X3=="function")try{_g=QZ()}catch{}_g||(_g=window.graphlib);var gs=_g,hb,Y8;function eY(){if(Y8)return hb;Y8=1;var e=kI(),t=1,n=4;function r(i){return e(i,t|n)}return hb=r,hb}var pb,X8;function C0(){if(X8)return pb;X8=1;var e=Rc(),t=Ca(),n=b0(),r=Fi();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?t(o)&&n(a,o.length):l=="string"&&a in o)?e(o[a],s):!1}return pb=i,pb}var mb,J8;function tY(){if(J8)return mb;J8=1;var e=A0(),t=Rc(),n=C0(),r=Bl(),i=Object.prototype,s=i.hasOwnProperty,a=e(function(o,l){o=Object(o);var u=-1,c=l.length,d=c>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(c=1);++u<c;)for(var p=l[u],h=r(p),w=-1,y=h.length;++w<y;){var _=h[w],m=o[_];(m===void 0||t(m,i[_])&&!s.call(o,_))&&(o[_]=p[_])}return o});return mb=a,mb}var gb,Q8;function nY(){if(Q8)return gb;Q8=1;var e=ja(),t=Ca(),n=Wo();function r(i){return function(s,a,o){var l=Object(s);if(!t(s)){var u=e(a,3);s=n(s),a=function(d){return u(l[d],d,l)}}var c=i(s,a,o);return c>-1?l[u?s[c]:c]:void 0}}return gb=r,gb}var vb,eC;function rY(){if(eC)return vb;eC=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return vb=t,vb}var yb,tC;function iY(){if(tC)return yb;tC=1;var e=rY(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return yb=n,yb}var bb,nC;function sY(){if(nC)return bb;nC=1;var e=iY(),t=Fi(),n=Mc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=s.test(u);return d||a.test(u)?o(u.slice(2),d?2:8):i.test(u)?r:+u}return bb=l,bb}var wb,rC;function tT(){if(rC)return wb;rC=1;var e=sY(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return wb=r,wb}var _b,iC;function aY(){if(iC)return _b;iC=1;var e=tT();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return _b=t,_b}var xb,sC;function oY(){if(sC)return xb;sC=1;var e=GI(),t=ja(),n=aY(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var u=o==null?0:n(o);return u<0&&(u=r(l+u,0)),e(s,t(a,3),u)}return xb=i,xb}var Nb,aC;function lY(){if(aC)return Nb;aC=1;var e=nY(),t=oY(),n=e(t);return Nb=n,Nb}var Sb,oC;function nT(){if(oC)return Sb;oC=1;var e=f4();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Sb=t,Sb}var kb,lC;function uY(){if(lC)return kb;lC=1;var e=l4(),t=EI(),n=Bl();function r(i,s){return i==null?i:e(i,t(s),n)}return kb=r,kb}var Eb,uC;function cY(){if(uC)return Eb;uC=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Eb=e,Eb}var Ab,cC;function dY(){if(cC)return Ab;cC=1;var e=v0(),t=u4(),n=ja();function r(i,s){var a={};return s=n(s,3),t(i,function(o,l,u){e(a,l,s(o,l,u))}),a}return Ab=r,Ab}var Cb,dC;function p4(){if(dC)return Cb;dC=1;var e=Mc();function t(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=o}return c}return Cb=t,Cb}var jb,fC;function fY(){if(fC)return jb;fC=1;function e(t,n){return t>n}return jb=e,jb}var Lb,hC;function hY(){if(hC)return Lb;hC=1;var e=p4(),t=fY(),n=zl();function r(i){return i&&i.length?e(i,n,t):void 0}return Lb=r,Lb}var Pb,pC;function rT(){if(pC)return Pb;pC=1;var e=v0(),t=Rc();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Pb=n,Pb}var Rb,mC;function pY(){if(mC)return Rb;mC=1;var e=ql(),t=x0(),n=Hs(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var p=o.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==l}return Rb=u,Rb}var Ib,gC;function iT(){if(gC)return Ib;gC=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Ib=e,Ib}var Tb,vC;function mY(){if(vC)return Tb;vC=1;var e=Nh(),t=Bl();function n(r){return e(r,t(r))}return Tb=n,Tb}var Ob,yC;function gY(){if(yC)return Ob;yC=1;var e=rT(),t=hI(),n=xI(),r=pI(),i=SI(),s=Sh(),a=Mn(),o=KI(),l=Tc(),u=xh(),c=Fi(),d=pY(),p=kh(),h=iT(),w=mY();function y(_,m,b,S,k,P,D){var R=h(_,b),L=h(m,b),$=D.get(L);if($){e(_,b,$);return}var V=P?P(R,L,b+"",_,m,D):void 0,j=V===void 0;if(j){var T=a(L),Z=!T&&l(L),A=!T&&!Z&&p(L);V=L,T||Z||A?a(R)?V=R:o(R)?V=r(R):Z?(j=!1,V=t(L,!0)):A?(j=!1,V=n(L,!0)):V=[]:d(L)||s(L)?(V=R,s(R)?V=w(R):(!c(R)||u(R))&&(V=i(L))):j=!1}j&&(D.set(L,V),k(V,L,S,P,D),D.delete(L)),e(_,b,V)}return Ob=y,Ob}var Mb,bC;function vY(){if(bC)return Mb;bC=1;var e=g0(),t=rT(),n=l4(),r=gY(),i=Fi(),s=Bl(),a=iT();function o(l,u,c,d,p){l!==u&&n(u,function(h,w){if(p||(p=new e),i(h))r(l,u,w,c,o,d,p);else{var y=d?d(a(l,w),h,w+"",l,u,p):void 0;y===void 0&&(y=h),t(l,w,y)}},s)}return Mb=o,Mb}var Fb,wC;function yY(){if(wC)return Fb;wC=1;var e=A0(),t=C0();function n(r){return e(function(i,s){var a=-1,o=s.length,l=o>1?s[o-1]:void 0,u=o>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,u&&t(s[0],s[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++a<o;){var c=s[a];c&&r(i,c,a,l)}return i})}return Fb=n,Fb}var qb,_C;function bY(){if(_C)return qb;_C=1;var e=vY(),t=yY(),n=t(function(r,i,s){e(r,i,s)});return qb=n,qb}var Db,xC;function sT(){if(xC)return Db;xC=1;function e(t,n){return t<n}return Db=e,Db}var Bb,NC;function wY(){if(NC)return Bb;NC=1;var e=p4(),t=sT(),n=zl();function r(i){return i&&i.length?e(i,n,t):void 0}return Bb=r,Bb}var zb,SC;function _Y(){if(SC)return zb;SC=1;var e=p4(),t=ja(),n=sT();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return zb=r,zb}var $b,kC;function xY(){if(kC)return $b;kC=1;var e=ms(),t=function(){return e.Date.now()};return $b=t,$b}var Ub,EC;function NY(){if(EC)return Ub;EC=1;var e=y0(),t=k0(),n=b0(),r=Fi(),i=Eh();function s(a,o,l,u){if(!r(a))return a;o=t(o,a);for(var c=-1,d=o.length,p=d-1,h=a;h!=null&&++c<d;){var w=i(o[c]),y=l;if(w==="__proto__"||w==="constructor"||w==="prototype")return a;if(c!=p){var _=h[w];y=u?u(_,w,h):void 0,y===void 0&&(y=r(_)?_:n(o[c+1])?[]:{})}e(h,w,y),h=h[w]}return a}return Ub=s,Ub}var Vb,AC;function SY(){if(AC)return Vb;AC=1;var e=E0(),t=NY(),n=k0();function r(i,s,a){for(var o=-1,l=s.length,u={};++o<l;){var c=s[o],d=e(i,c);a(d,c)&&t(u,n(c,i),d)}return u}return Vb=r,Vb}var Hb,CC;function kY(){if(CC)return Hb;CC=1;var e=SY(),t=FI();function n(r,i){return e(r,i,function(s,a){return t(r,a)})}return Hb=n,Hb}var Wb,jC;function EY(){if(jC)return Wb;jC=1;var e=nT(),t=HI(),n=WI();function r(i){return n(t(i,void 0,e),i+"")}return Wb=r,Wb}var Gb,LC;function AY(){if(LC)return Gb;LC=1;var e=kY(),t=EY(),n=t(function(r,i){return r==null?{}:e(r,i)});return Gb=n,Gb}var Kb,PC;function CY(){if(PC)return Kb;PC=1;var e=Math.ceil,t=Math.max;function n(r,i,s,a){for(var o=-1,l=t(e((i-r)/(s||1)),0),u=Array(l);l--;)u[a?l:++o]=r,r+=s;return u}return Kb=n,Kb}var Zb,RC;function jY(){if(RC)return Zb;RC=1;var e=CY(),t=C0(),n=tT();function r(i){return function(s,a,o){return o&&typeof o!="number"&&t(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),e(s,a,o,i)}}return Zb=r,Zb}var Yb,IC;function LY(){if(IC)return Yb;IC=1;var e=jY(),t=e();return Yb=t,Yb}var Xb,TC;function PY(){if(TC)return Xb;TC=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Xb=e,Xb}var Jb,OC;function RY(){if(OC)return Jb;OC=1;var e=Mc();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=e(n),l=r!==void 0,u=r===null,c=r===r,d=e(r);if(!u&&!d&&!o&&n>r||o&&l&&c&&!u&&!d||s&&l&&c||!i&&c||!a)return 1;if(!s&&!o&&!d&&n<r||d&&i&&a&&!s&&!o||u&&i&&a||!l&&a||!c)return-1}return 0}return Jb=t,Jb}var Qb,MC;function IY(){if(MC)return Qb;MC=1;var e=RY();function t(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,u=i.length;++s<l;){var c=e(a[s],o[s]);if(c){if(s>=u)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return n.index-r.index}return Qb=t,Qb}var ew,FC;function TY(){if(FC)return ew;FC=1;var e=S0(),t=E0(),n=ja(),r=$I(),i=PY(),s=w0(),a=IY(),o=zl(),l=Mn();function u(c,d,p){d.length?d=e(d,function(y){return l(y)?function(_){return t(_,y.length===1?y[0]:y)}:y}):d=[o];var h=-1;d=e(d,s(n));var w=r(c,function(y,_,m){var b=e(d,function(S){return S(y)});return{criteria:b,index:++h,value:y}});return i(w,function(y,_){return a(y,_,p)})}return ew=u,ew}var tw,qC;function OY(){if(qC)return tw;qC=1;var e=f4(),t=TY(),n=A0(),r=C0(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(s,e(a,1),[])});return tw=i,tw}var nw,DC;function MY(){if(DC)return nw;DC=1;var e=OI(),t=0;function n(r){var i=++t;return e(r)+i}return nw=n,nw}var rw,BC;function FY(){if(BC)return rw;BC=1;function e(t,n,r){for(var i=-1,s=t.length,a=n.length,o={};++i<s;){var l=i<a?n[i]:void 0;r(o,t[i],l)}return o}return rw=e,rw}var iw,zC;function qY(){if(zC)return iw;zC=1;var e=y0(),t=FY();function n(r,i){return t(r||[],i||[],e)}return iw=n,iw}var xg;if(typeof X3=="function")try{xg={cloneDeep:eY(),constant:o4(),defaults:tY(),each:CI(),filter:DI(),find:lY(),flatten:nT(),forEach:AI(),forIn:uY(),has:BI(),isUndefined:zI(),last:cY(),map:UI(),mapValues:dY(),max:hY(),merge:bY(),min:wY(),minBy:_Y(),now:xY(),pick:AY(),range:LY(),reduce:VI(),sortBy:OY(),uniqueId:MY(),values:ZI(),zipObject:qY()}}catch{}xg||(xg=window._);var on=xg,DY=j0;function j0(){var e={};e._next=e._prev=e,this._sentinel=e}j0.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return aT(t),t};j0.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&aT(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};j0.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,BY)),n=n._prev;return"["+e.join(", ")+"]"};function aT(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function BY(e,t){if(e!=="_next"&&e!=="_prev")return t}var ga=on,zY=gs.Graph,$Y=DY,UY=HY,VY=ga.constant(1);function HY(e,t){if(e.nodeCount()<=1)return[];var n=GY(e,t||VY),r=WY(n.graph,n.buckets,n.zeroIdx);return ga.flatten(ga.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function WY(e,t,n){for(var r=[],i=t[t.length-1],s=t[0],a;e.nodeCount();){for(;a=s.dequeue();)sw(e,t,n,a);for(;a=i.dequeue();)sw(e,t,n,a);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(a=t[o].dequeue(),a){r=r.concat(sw(e,t,n,a,!0));break}}}return r}function sw(e,t,n,r,i){var s=i?[]:void 0;return ga.forEach(e.inEdges(r.v),function(a){var o=e.edge(a),l=e.node(a.v);i&&s.push({v:a.v,w:a.w}),l.out-=o,ix(t,n,l)}),ga.forEach(e.outEdges(r.v),function(a){var o=e.edge(a),l=a.w,u=e.node(l);u.in-=o,ix(t,n,u)}),e.removeNode(r.v),s}function GY(e,t){var n=new zY,r=0,i=0;ga.forEach(e.nodes(),function(o){n.setNode(o,{v:o,in:0,out:0})}),ga.forEach(e.edges(),function(o){var l=n.edge(o.v,o.w)||0,u=t(o),c=l+u;n.setEdge(o.v,o.w,c),i=Math.max(i,n.node(o.v).out+=u),r=Math.max(r,n.node(o.w).in+=u)});var s=ga.range(i+r+3).map(function(){return new $Y}),a=r+1;return ga.forEach(n.nodes(),function(o){ix(s,a,n.node(o))}),{graph:n,buckets:s,zeroIdx:a}}function ix(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var pl=on,KY=UY,ZY={run:YY,undo:JY};function YY(e){var t=e.graph().acyclicer==="greedy"?KY(e,n(e)):XY(e);pl.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,pl.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function XY(e){var t=[],n={},r={};function i(s){pl.has(r,s)||(r[s]=!0,n[s]=!0,pl.forEach(e.outEdges(s),function(a){pl.has(n,a.w)?t.push(a):i(a.w)}),delete n[s])}return pl.forEach(e.nodes(),i),t}function JY(e){pl.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var Bt=on,oT=gs.Graph,Wr={addDummyNode:lT,simplify:QY,asNonCompoundGraph:eX,successorWeights:tX,predecessorWeights:nX,intersectRect:rX,buildLayerMatrix:iX,normalizeRanks:sX,removeEmptyRanks:aX,addBorderNode:oX,maxRank:uT,partition:lX,time:uX,notime:cX};function lT(e,t,n,r){var i;do i=Bt.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function QY(e){var t=new oT().setGraph(e.graph());return Bt.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),Bt.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function eX(e){var t=new oT({multigraph:e.isMultigraph()}).setGraph(e.graph());return Bt.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),Bt.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function tX(e){var t=Bt.map(e.nodes(),function(n){var r={};return Bt.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return Bt.zipObject(e.nodes(),t)}function nX(e){var t=Bt.map(e.nodes(),function(n){var r={};return Bt.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return Bt.zipObject(e.nodes(),t)}function rX(e,t){var n=e.x,r=e.y,i=t.x-n,s=t.y-r,a=e.width/2,o=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=o*i/s,u=o):(i<0&&(a=-a),l=a,u=a*s/i),{x:n+l,y:r+u}}function iX(e){var t=Bt.map(Bt.range(uT(e)+1),function(){return[]});return Bt.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;Bt.isUndefined(i)||(t[i][r.order]=n)}),t}function sX(e){var t=Bt.min(Bt.map(e.nodes(),function(n){return e.node(n).rank}));Bt.forEach(e.nodes(),function(n){var r=e.node(n);Bt.has(r,"rank")&&(r.rank-=t)})}function aX(e){var t=Bt.min(Bt.map(e.nodes(),function(s){return e.node(s).rank})),n=[];Bt.forEach(e.nodes(),function(s){var a=e.node(s).rank-t;n[a]||(n[a]=[]),n[a].push(s)});var r=0,i=e.graph().nodeRankFactor;Bt.forEach(n,function(s,a){Bt.isUndefined(s)&&a%i!==0?--r:r&&Bt.forEach(s,function(o){e.node(o).rank+=r})})}function oX(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),lT(e,"border",i,t)}function uT(e){return Bt.max(Bt.map(e.nodes(),function(t){var n=e.node(t).rank;if(!Bt.isUndefined(n))return n}))}function lX(e,t){var n={lhs:[],rhs:[]};return Bt.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function uX(e,t){var n=Bt.now();try{return t()}finally{console.log(e+" time: "+(Bt.now()-n)+"ms")}}function cX(e,t){return t()}var cT=on,dX=Wr,fX={run:hX,undo:mX};function hX(e){e.graph().dummyChains=[],cT.forEach(e.edges(),function(t){pX(e,t)})}function pX(e,t){var n=t.v,r=e.node(n).rank,i=t.w,s=e.node(i).rank,a=t.name,o=e.edge(t),l=o.labelRank;if(s!==r+1){e.removeEdge(t);var u,c,d;for(d=0,++r;r<s;++d,++r)o.points=[],c={width:0,height:0,edgeLabel:o,edgeObj:t,rank:r},u=dX.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=o.width,c.height=o.height,c.dummy="edge-label",c.labelpos=o.labelpos),e.setEdge(n,u,{weight:o.weight},a),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:o.weight},a)}}function mX(e){cT.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var em=on,L0={longestPath:gX,slack:vX};function gX(e){var t={};function n(r){var i=e.node(r);if(em.has(t,r))return i.rank;t[r]=!0;var s=em.min(em.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}em.forEach(e.sources(),n)}function vX(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Ng=on,yX=gs.Graph,Sg=L0.slack,dT=bX;function bX(e){var t=new yX({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,s;wX(t,e)<r;)i=_X(t,e),s=t.hasNode(i.v)?Sg(e,i):-Sg(e,i),xX(t,e,s);return t}function wX(e,t){function n(r){Ng.forEach(t.nodeEdges(r),function(i){var s=i.v,a=r===s?i.w:s;!e.hasNode(a)&&!Sg(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Ng.forEach(e.nodes(),n),e.nodeCount()}function _X(e,t){return Ng.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Sg(t,n)})}function xX(e,t,n){Ng.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var ka=on,NX=dT,SX=L0.slack,kX=L0.longestPath,EX=gs.alg.preorder,AX=gs.alg.postorder,CX=Wr.simplify,jX=$l;$l.initLowLimValues=g4;$l.initCutValues=m4;$l.calcCutValue=fT;$l.leaveEdge=pT;$l.enterEdge=mT;$l.exchangeEdges=gT;function $l(e){e=CX(e),kX(e);var t=NX(e);g4(t),m4(t,e);for(var n,r;n=pT(t);)r=mT(t,e,n),gT(t,e,n,r)}function m4(e,t){var n=AX(e,e.nodes());n=n.slice(0,n.length-1),ka.forEach(n,function(r){LX(e,t,r)})}function LX(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=fT(e,t,n)}function fT(e,t,n){var r=e.node(n),i=r.parent,s=!0,a=t.edge(n,i),o=0;return a||(s=!1,a=t.edge(i,n)),o=a.weight,ka.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var d=u===s,p=t.edge(l).weight;if(o+=d?p:-p,RX(e,n,c)){var h=e.edge(n,c).cutvalue;o+=d?-h:h}}}),o}function g4(e,t){arguments.length<2&&(t=e.nodes()[0]),hT(e,{},1,t)}function hT(e,t,n,r,i){var s=n,a=e.node(r);return t[r]=!0,ka.forEach(e.neighbors(r),function(o){ka.has(t,o)||(n=hT(e,t,n,o,r))}),a.low=s,a.lim=n++,i?a.parent=i:delete a.parent,n}function pT(e){return ka.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function mT(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),a=e.node(i),o=s,l=!1;s.lim>a.lim&&(o=a,l=!0);var u=ka.filter(t.edges(),function(c){return l===$C(e,e.node(c.v),o)&&l!==$C(e,e.node(c.w),o)});return ka.minBy(u,function(c){return SX(t,c)})}function gT(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),g4(e),m4(e,t),PX(e,t)}function PX(e,t){var n=ka.find(e.nodes(),function(i){return!t.node(i).parent}),r=EX(e,n);r=r.slice(1),ka.forEach(r,function(i){var s=e.node(i).parent,a=t.edge(i,s),o=!1;a||(a=t.edge(s,i),o=!0),t.node(i).rank=t.node(s).rank+(o?a.minlen:-a.minlen)})}function RX(e,t,n){return e.hasEdge(t,n)}function $C(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var IX=L0,vT=IX.longestPath,TX=dT,OX=jX,MX=FX;function FX(e){switch(e.graph().ranker){case"network-simplex":UC(e);break;case"tight-tree":DX(e);break;case"longest-path":qX(e);break;default:UC(e)}}var qX=vT;function DX(e){vT(e),TX(e)}function UC(e){OX(e)}var sx=on,BX=zX;function zX(e){var t=UX(e);sx.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=$X(e,t,i.v,i.w),a=s.path,o=s.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==o&&e.node(u).maxRank<r.rank;)l++;u===o&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function $X(e,t,n,r){var i=[],s=[],a=Math.min(t[n].low,t[r].low),o=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||o>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function UX(e){var t={},n=0;function r(i){var s=n;sx.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return sx.forEach(e.children(),r),t}var va=on,ax=Wr,VX={run:HX,cleanup:KX};function HX(e){var t=ax.addDummyNode(e,"root",{},"_root"),n=WX(e),r=va.max(va.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,va.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var s=GX(e)+1;va.forEach(e.children(),function(a){yT(e,t,i,s,r,n,a)}),e.graph().nodeRankFactor=i}function yT(e,t,n,r,i,s,a){var o=e.children(a);if(!o.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=ax.addBorderNode(e,"_bt"),u=ax.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(l,a),c.borderTop=l,e.setParent(u,a),c.borderBottom=u,va.forEach(o,function(d){yT(e,t,n,r,i,s,d);var p=e.node(d),h=p.borderTop?p.borderTop:d,w=p.borderBottom?p.borderBottom:d,y=p.borderTop?r:2*r,_=h!==w?1:i-s[a]+1;e.setEdge(l,h,{weight:y,minlen:_,nestingEdge:!0}),e.setEdge(w,u,{weight:y,minlen:_,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+s[a]})}function WX(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&va.forEach(s,function(a){n(a,i+1)}),t[r]=i}return va.forEach(e.children(),function(r){n(r,1)}),t}function GX(e){return va.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function KX(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,va.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var aw=on,ZX=Wr,YX=XX;function XX(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&aw.forEach(r,t),aw.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,a=i.maxRank+1;s<a;++s)VC(e,"borderLeft","_bl",n,i,s),VC(e,"borderRight","_br",n,i,s)}}aw.forEach(e.children(),t)}function VC(e,t,n,r,i,s){var a={width:0,height:0,rank:s,borderType:t},o=i[t][s-1],l=ZX.addDummyNode(e,"border",a,n);i[t][s]=l,e.setParent(l,r),o&&e.setEdge(o,l,{weight:1})}var Is=on,JX={adjust:QX,undo:eJ};function QX(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&bT(e)}function eJ(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&tJ(e),(t==="lr"||t==="rl")&&(nJ(e),bT(e))}function bT(e){Is.forEach(e.nodes(),function(t){HC(e.node(t))}),Is.forEach(e.edges(),function(t){HC(e.edge(t))})}function HC(e){var t=e.width;e.width=e.height,e.height=t}function tJ(e){Is.forEach(e.nodes(),function(t){ow(e.node(t))}),Is.forEach(e.edges(),function(t){var n=e.edge(t);Is.forEach(n.points,ow),Is.has(n,"y")&&ow(n)})}function ow(e){e.y=-e.y}function nJ(e){Is.forEach(e.nodes(),function(t){lw(e.node(t))}),Is.forEach(e.edges(),function(t){var n=e.edge(t);Is.forEach(n.points,lw),Is.has(n,"x")&&lw(n)})}function lw(e){var t=e.x;e.x=e.y,e.y=t}var aa=on,rJ=iJ;function iJ(e){var t={},n=aa.filter(e.nodes(),function(o){return!e.children(o).length}),r=aa.max(aa.map(n,function(o){return e.node(o).rank})),i=aa.map(aa.range(r+1),function(){return[]});function s(o){if(!aa.has(t,o)){t[o]=!0;var l=e.node(o);i[l.rank].push(o),aa.forEach(e.successors(o),s)}}var a=aa.sortBy(n,function(o){return e.node(o).rank});return aa.forEach(a,s),i}var eo=on,sJ=aJ;function aJ(e,t){for(var n=0,r=1;r<t.length;++r)n+=oJ(e,t[r-1],t[r]);return n}function oJ(e,t,n){for(var r=eo.zipObject(n,eo.map(n,function(u,c){return c})),i=eo.flatten(eo.map(t,function(u){return eo.sortBy(eo.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var o=eo.map(new Array(a),function(){return 0}),l=0;return eo.forEach(i.forEach(function(u){var c=u.pos+s;o[c]+=u.weight;for(var d=0;c>0;)c%2&&(d+=o[c+1]),c=c-1>>1,o[c]+=u.weight;l+=u.weight*d})),l}var WC=on,lJ=uJ;function uJ(e,t){return WC.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=WC.reduce(r,function(s,a){var o=e.edge(a),l=e.node(a.v);return{sum:s.sum+o.weight*l.order,weight:s.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var ai=on,cJ=dJ;function dJ(e,t){var n={};ai.forEach(e,function(i,s){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};ai.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),ai.forEach(t.edges(),function(i){var s=n[i.v],a=n[i.w];!ai.isUndefined(s)&&!ai.isUndefined(a)&&(a.indegree++,s.out.push(n[i.w]))});var r=ai.filter(n,function(i){return!i.indegree});return fJ(r)}function fJ(e){var t=[];function n(s){return function(a){a.merged||(ai.isUndefined(a.barycenter)||ai.isUndefined(s.barycenter)||a.barycenter>=s.barycenter)&&hJ(s,a)}}function r(s){return function(a){a.in.push(s),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),ai.forEach(i.in.reverse(),n(i)),ai.forEach(i.out,r(i))}return ai.map(ai.filter(t,function(s){return!s.merged}),function(s){return ai.pick(s,["vs","i","barycenter","weight"])})}function hJ(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Zd=on,pJ=Wr,mJ=gJ;function gJ(e,t){var n=pJ.partition(e,function(c){return Zd.has(c,"barycenter")}),r=n.lhs,i=Zd.sortBy(n.rhs,function(c){return-c.i}),s=[],a=0,o=0,l=0;r.sort(vJ(!!t)),l=GC(s,i,l),Zd.forEach(r,function(c){l+=c.vs.length,s.push(c.vs),a+=c.barycenter*c.weight,o+=c.weight,l=GC(s,i,l)});var u={vs:Zd.flatten(s,!0)};return o&&(u.barycenter=a/o,u.weight=o),u}function GC(e,t,n){for(var r;t.length&&(r=Zd.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function vJ(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var ho=on,yJ=lJ,bJ=cJ,wJ=mJ,_J=wT;function wT(e,t,n,r){var i=e.children(t),s=e.node(t),a=s?s.borderLeft:void 0,o=s?s.borderRight:void 0,l={};a&&(i=ho.filter(i,function(w){return w!==a&&w!==o}));var u=yJ(e,i);ho.forEach(u,function(w){if(e.children(w.v).length){var y=wT(e,w.v,n,r);l[w.v]=y,ho.has(y,"barycenter")&&NJ(w,y)}});var c=bJ(u,n);xJ(c,l);var d=wJ(c,r);if(a&&(d.vs=ho.flatten([a,d.vs,o],!0),e.predecessors(a).length)){var p=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(o)[0]);ho.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+p.order+h.order)/(d.weight+2),d.weight+=2}return d}function xJ(e,t){ho.forEach(e,function(n){n.vs=ho.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function NJ(e,t){ho.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Yd=on,SJ=gs.Graph,kJ=EJ;function EJ(e,t,n){var r=AJ(e),i=new SJ({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return e.node(s)});return Yd.forEach(e.nodes(),function(s){var a=e.node(s),o=e.parent(s);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(s),i.setParent(s,o||r),Yd.forEach(e[n](s),function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),d=Yd.isUndefined(c)?0:c.weight;i.setEdge(u,s,{weight:e.edge(l).weight+d})}),Yd.has(a,"minRank")&&i.setNode(s,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function AJ(e){for(var t;e.hasNode(t=Yd.uniqueId("_root")););return t}var CJ=on,jJ=LJ;function LJ(e,t,n){var r={},i;CJ.forEach(n,function(s){for(var a=e.parent(s),o,l;a;){if(o=e.parent(a),o?(l=r[o],r[o]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=o}})}var Lo=on,PJ=rJ,RJ=sJ,IJ=_J,TJ=kJ,OJ=jJ,MJ=gs.Graph,KC=Wr,FJ=qJ;function qJ(e){var t=KC.maxRank(e),n=ZC(e,Lo.range(1,t+1),"inEdges"),r=ZC(e,Lo.range(t-1,-1,-1),"outEdges"),i=PJ(e);YC(e,i);for(var s=Number.POSITIVE_INFINITY,a,o=0,l=0;l<4;++o,++l){DJ(o%2?n:r,o%4>=2),i=KC.buildLayerMatrix(e);var u=RJ(e,i);u<s&&(l=0,a=Lo.cloneDeep(i),s=u)}YC(e,a)}function ZC(e,t,n){return Lo.map(t,function(r){return TJ(e,r,n)})}function DJ(e,t){var n=new MJ;Lo.forEach(e,function(r){var i=r.graph().root,s=IJ(r,i,n,t);Lo.forEach(s.vs,function(a,o){r.node(a).order=o}),OJ(r,n,s.vs)})}function YC(e,t){Lo.forEach(t,function(n){Lo.forEach(n,function(r,i){e.node(r).order=i})})}var vt=on,BJ=gs.Graph,zJ=Wr,$J={positionX:HJ,findType1Conflicts:_T,findType2Conflicts:xT,addConflict:v4,hasConflict:NT,verticalAlignment:ST,horizontalCompaction:kT,alignCoordinates:AT,findSmallestWidthAlignment:ET,balance:CT};function _T(e,t){var n={};function r(i,s){var a=0,o=0,l=i.length,u=vt.last(s);return vt.forEach(s,function(c,d){var p=UJ(e,c),h=p?e.node(p).order:l;(p||c===u)&&(vt.forEach(s.slice(o,d+1),function(w){vt.forEach(e.predecessors(w),function(y){var _=e.node(y),m=_.order;(m<a||h<m)&&!(_.dummy&&e.node(w).dummy)&&v4(n,y,w)})}),o=d+1,a=h)}),s}return vt.reduce(t,r),n}function xT(e,t){var n={};function r(s,a,o,l,u){var c;vt.forEach(vt.range(a,o),function(d){c=s[d],e.node(c).dummy&&vt.forEach(e.predecessors(c),function(p){var h=e.node(p);h.dummy&&(h.order<l||h.order>u)&&v4(n,p,c)})})}function i(s,a){var o=-1,l,u=0;return vt.forEach(a,function(c,d){if(e.node(c).dummy==="border"){var p=e.predecessors(c);p.length&&(l=e.node(p[0]).order,r(a,u,d,o,l),u=d,o=l)}r(a,u,a.length,l,s.length)}),a}return vt.reduce(t,i),n}function UJ(e,t){if(e.node(t).dummy)return vt.find(e.predecessors(t),function(n){return e.node(n).dummy})}function v4(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function NT(e,t,n){if(t>n){var r=t;t=n,n=r}return vt.has(e[t],n)}function ST(e,t,n,r){var i={},s={},a={};return vt.forEach(t,function(o){vt.forEach(o,function(l,u){i[l]=l,s[l]=l,a[l]=u})}),vt.forEach(t,function(o){var l=-1;vt.forEach(o,function(u){var c=r(u);if(c.length){c=vt.sortBy(c,function(y){return a[y]});for(var d=(c.length-1)/2,p=Math.floor(d),h=Math.ceil(d);p<=h;++p){var w=c[p];s[u]===u&&l<a[w]&&!NT(n,u,w)&&(s[w]=u,s[u]=i[u]=i[w],l=a[w])}}})}),{root:i,align:s}}function kT(e,t,n,r,i){var s={},a=VJ(e,t,n,i),o=i?"borderLeft":"borderRight";function l(d,p){for(var h=a.nodes(),w=h.pop(),y={};w;)y[w]?d(w):(y[w]=!0,h.push(w),h=h.concat(p(w))),w=h.pop()}function u(d){s[d]=a.inEdges(d).reduce(function(p,h){return Math.max(p,s[h.v]+a.edge(h))},0)}function c(d){var p=a.outEdges(d).reduce(function(w,y){return Math.min(w,s[y.w]-a.edge(y))},Number.POSITIVE_INFINITY),h=e.node(d);p!==Number.POSITIVE_INFINITY&&h.borderType!==o&&(s[d]=Math.max(s[d],p))}return l(u,a.predecessors.bind(a)),l(c,a.successors.bind(a)),vt.forEach(r,function(d){s[d]=s[n[d]]}),s}function VJ(e,t,n,r){var i=new BJ,s=e.graph(),a=WJ(s.nodesep,s.edgesep,r);return vt.forEach(t,function(o){var l;vt.forEach(o,function(u){var c=n[u];if(i.setNode(c),l){var d=n[l],p=i.edge(d,c);i.setEdge(d,c,Math.max(a(e,u,l),p||0))}l=u})}),i}function ET(e,t){return vt.minBy(vt.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return vt.forIn(n,function(s,a){var o=GJ(e,a)/2;r=Math.max(s+o,r),i=Math.min(s-o,i)}),r-i})}function AT(e,t){var n=vt.values(t),r=vt.min(n),i=vt.max(n);vt.forEach(["u","d"],function(s){vt.forEach(["l","r"],function(a){var o=s+a,l=e[o],u;if(l!==t){var c=vt.values(l);u=a==="l"?r-vt.min(c):i-vt.max(c),u&&(e[o]=vt.mapValues(l,function(d){return d+u}))}})})}function CT(e,t){return vt.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=vt.sortBy(vt.map(e,r));return(i[1]+i[2])/2})}function HJ(e){var t=zJ.buildLayerMatrix(e),n=vt.merge(_T(e,t),xT(e,t)),r={},i;vt.forEach(["u","d"],function(a){i=a==="u"?t:vt.values(t).reverse(),vt.forEach(["l","r"],function(o){o==="r"&&(i=vt.map(i,function(d){return vt.values(d).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),u=ST(e,i,n,l),c=kT(e,i,u.root,u.align,o==="r");o==="r"&&(c=vt.mapValues(c,function(d){return-d})),r[a+o]=c})});var s=ET(e,r);return AT(r,s),CT(r,e.graph().align)}function WJ(e,t,n){return function(r,i,s){var a=r.node(i),o=r.node(s),l=0,u;if(l+=a.width/2,vt.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?t:e)/2,l+=(o.dummy?t:e)/2,l+=o.width/2,vt.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function GJ(e,t){return e.node(t).width}var Xd=on,jT=Wr,KJ=$J.positionX,ZJ=YJ;function YJ(e){e=jT.asNonCompoundGraph(e),XJ(e),Xd.forEach(KJ(e),function(t,n){e.node(n).x=t})}function XJ(e){var t=jT.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Xd.forEach(t,function(i){var s=Xd.max(Xd.map(i,function(a){return e.node(a).height}));Xd.forEach(i,function(a){e.node(a).y=r+s/2}),r+=s+n})}var St=on,XC=ZY,JC=fX,JJ=MX,QJ=Wr.normalizeRanks,eQ=BX,tQ=Wr.removeEmptyRanks,QC=VX,nQ=YX,ej=JX,rQ=FJ,iQ=ZJ,Fo=Wr,sQ=gs.Graph,aQ=oQ;function oQ(e,t){var n=t&&t.debugTiming?Fo.time:Fo.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return yQ(e)});n("  runLayout",function(){lQ(r,n)}),n("  updateInputGraph",function(){uQ(e,r)})})}function lQ(e,t){t("    makeSpaceForEdgeLabels",function(){bQ(e)}),t("    removeSelfEdges",function(){CQ(e)}),t("    acyclic",function(){XC.run(e)}),t("    nestingGraph.run",function(){QC.run(e)}),t("    rank",function(){JJ(Fo.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){wQ(e)}),t("    removeEmptyRanks",function(){tQ(e)}),t("    nestingGraph.cleanup",function(){QC.cleanup(e)}),t("    normalizeRanks",function(){QJ(e)}),t("    assignRankMinMax",function(){_Q(e)}),t("    removeEdgeLabelProxies",function(){xQ(e)}),t("    normalize.run",function(){JC.run(e)}),t("    parentDummyChains",function(){eQ(e)}),t("    addBorderSegments",function(){nQ(e)}),t("    order",function(){rQ(e)}),t("    insertSelfEdges",function(){jQ(e)}),t("    adjustCoordinateSystem",function(){ej.adjust(e)}),t("    position",function(){iQ(e)}),t("    positionSelfEdges",function(){LQ(e)}),t("    removeBorderNodes",function(){AQ(e)}),t("    normalize.undo",function(){JC.undo(e)}),t("    fixupEdgeLabelCoords",function(){kQ(e)}),t("    undoCoordinateSystem",function(){ej.undo(e)}),t("    translateGraph",function(){NQ(e)}),t("    assignNodeIntersects",function(){SQ(e)}),t("    reversePoints",function(){EQ(e)}),t("    acyclic.undo",function(){XC.undo(e)})}function uQ(e,t){St.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),St.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,St.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var cQ=["nodesep","edgesep","ranksep","marginx","marginy"],dQ={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},fQ=["acyclicer","ranker","rankdir","align"],hQ=["width","height"],pQ={width:0,height:0},mQ=["minlen","weight","width","height","labeloffset"],gQ={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},vQ=["labelpos"];function yQ(e){var t=new sQ({multigraph:!0,compound:!0}),n=cw(e.graph());return t.setGraph(St.merge({},dQ,uw(n,cQ),St.pick(n,fQ))),St.forEach(e.nodes(),function(r){var i=cw(e.node(r));t.setNode(r,St.defaults(uw(i,hQ),pQ)),t.setParent(r,e.parent(r))}),St.forEach(e.edges(),function(r){var i=cw(e.edge(r));t.setEdge(r,St.merge({},gQ,uw(i,mQ),St.pick(i,vQ)))}),t}function bQ(e){var t=e.graph();t.ranksep/=2,St.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function wQ(e){St.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-r.rank)/2+r.rank,e:t};Fo.addDummyNode(e,"edge-proxy",s,"_ep")}})}function _Q(e){var t=0;St.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=St.max(t,r.maxRank))}),e.graph().maxRank=t}function xQ(e){St.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function NQ(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),a=s.marginx||0,o=s.marginy||0;function l(u){var c=u.x,d=u.y,p=u.width,h=u.height;t=Math.min(t,c-p/2),n=Math.max(n,c+p/2),r=Math.min(r,d-h/2),i=Math.max(i,d+h/2)}St.forEach(e.nodes(),function(u){l(e.node(u))}),St.forEach(e.edges(),function(u){var c=e.edge(u);St.has(c,"x")&&l(c)}),t-=a,r-=o,St.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),St.forEach(e.edges(),function(u){var c=e.edge(u);St.forEach(c.points,function(d){d.x-=t,d.y-=r}),St.has(c,"x")&&(c.x-=t),St.has(c,"y")&&(c.y-=r)}),s.width=n-t+a,s.height=i-r+o}function SQ(e){St.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),s,a;n.points?(s=n.points[0],a=n.points[n.points.length-1]):(n.points=[],s=i,a=r),n.points.unshift(Fo.intersectRect(r,s)),n.points.push(Fo.intersectRect(i,a))})}function kQ(e){St.forEach(e.edges(),function(t){var n=e.edge(t);if(St.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function EQ(e){St.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function AQ(e){St.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(St.last(n.borderLeft)),a=e.node(St.last(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),St.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function CQ(e){St.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function jQ(e){var t=Fo.buildLayerMatrix(e);St.forEach(t,function(n){var r=0;St.forEach(n,function(i,s){var a=e.node(i);a.order=s+r,St.forEach(a.selfEdges,function(o){Fo.addDummyNode(e,"selfedge",{width:o.label.width,height:o.label.height,rank:a.rank,order:s+ ++r,e:o.e,label:o.label},"_se")}),delete a.selfEdges})})}function LQ(e){St.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,a=n.x-i,o=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:s-o},{x:i+5*a/6,y:s-o},{x:i+a,y:s},{x:i+5*a/6,y:s+o},{x:i+2*a/3,y:s+o}],n.label.x=n.x,n.label.y=n.y}})}function uw(e,t){return St.mapValues(St.pick(e,t),Number)}function cw(e){var t={};return St.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var tm=on,PQ=Wr,RQ=gs.Graph,IQ={debugOrdering:TQ};function TQ(e){var t=PQ.buildLayerMatrix(e),n=new RQ({compound:!0,multigraph:!0}).setGraph({});return tm.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),tm.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),tm.forEach(t,function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),tm.reduce(r,function(a,o){return n.setEdge(a,o,{style:"invis"}),o})}),n}var OQ="0.8.5",MQ={graphlib:gs,layout:aQ,debug:IQ,util:{time:Wr.time,notime:Wr.notime},version:OQ};const tj=Px(MQ),to=300,no=150,FQ=300,qQ=200;function xu(e){return ve.createElement("div",{className:"p-2"},e)}function dw(e){var a,o,l,u;const t=[],n=[],r=new tj.graphlib.Graph;if(r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:"TB",ranksep:FQ,nodesep:qQ,rankAlignment:"UL"}),(a=e.solution)!=null&&a.solution_description){const c="solution";t.push({id:c,data:{label:xu([ve.createElement("div",{className:"font-bold",key:"title"},"Lösung"),ve.createElement("div",{className:"text-sm",key:"desc"},e.solution.solution_description)])},position:{x:0,y:0},className:"bg-gray-100 border-2 border-gray-500 rounded-md"}),r.setNode(c,{width:to,height:no,rank:0})}if((o=e.solution)!=null&&o.didactic_approach){const c="didactic_approach";t.push({id:c,data:{label:xu([ve.createElement("div",{className:"font-bold",key:"title"},"Didaktischer Ansatz"),ve.createElement("div",{className:"text-sm",key:"desc"},e.solution.didactic_approach)])},position:{x:0,y:0},className:"bg-gray-100 border-2 border-gray-500 rounded-md"}),r.setNode(c,{width:to,height:no,rank:0})}return(((u=(l=e.solution)==null?void 0:l.didactic_template)==null?void 0:u.learning_sequences)||[]).forEach((c,d)=>{var w,y,_;const p=c.sequence_id;t.push({id:p,data:{label:xu([ve.createElement("div",{className:"font-bold",key:"title"},c.sequence_name||c.sequence_id),ve.createElement("div",{className:"text-sm",key:"time"},`Zeit: ${c.time_frame}`),ve.createElement("div",{className:"text-sm",key:"goal"},`Ziel: ${c.learning_goal}`),ve.createElement("div",{className:"text-sm",key:"transition"},`Übergang: ${c.transition_type}`)])},position:{x:0,y:0},className:"bg-blue-100 border-2 border-blue-500 rounded-md"}),r.setNode(p,{width:to,height:no,rank:1}),(w=e.solution)!=null&&w.solution_description&&n.push({id:`edge-solution-${p}`,source:"solution",target:p,style:{strokeDasharray:"5,5"},label:"enthält"}),(y=e.solution)!=null&&y.didactic_approach&&n.push({id:`edge-approach-${p}`,source:"didactic_approach",target:p,style:{strokeDasharray:"5,5"},label:"implementiert"}),((_=c.prerequisite_learningsequences)==null?void 0:_.length)>0&&c.prerequisite_learningsequences.forEach(m=>{n.push({id:`prereq-${m}-${p}`,source:m,target:p,animated:!0,style:{stroke:c.transition_type==="parallel"?"#9333ea":"#FF8C00"},label:c.transition_type==="parallel"?"parallel":c.transition_type==="all_completed"?"alle abgeschlossen":c.transition_type==="one_of"?"eine von":c.transition_type==="conditional"?"bedingt":"sequenziell",labelStyle:{fill:c.transition_type==="parallel"?"#9333ea":"#FF8C00",fontWeight:"bold"}})}),(c.phases||[]).forEach((m,b)=>{const S=m.phase_id;t.push({id:S,data:{label:xu([ve.createElement("div",{className:"font-bold",key:"title"},m.phase_name||m.phase_id),ve.createElement("div",{className:"text-sm",key:"time"},`Zeit: ${m.time_frame}`),ve.createElement("div",{className:"text-sm",key:"goal"},`Ziel: ${m.learning_goal}`)])},position:{x:0,y:0},className:"bg-green-100 border-2 border-green-500 rounded-md"}),r.setNode(S,{width:to,height:no,rank:2,column:d}),n.push({id:`edge-${p}-${S}`,source:p,target:S,style:{strokeDasharray:"5,5"},label:"enthält"}),m.prerequisite_phase&&n.push({id:`flow-${m.prerequisite_phase}-${S}`,source:m.prerequisite_phase,target:S,animated:!0,style:{stroke:"#FF8C00"},label:`Phase ${b+1}`,labelStyle:{fill:"#FF8C00",fontWeight:"bold"}}),(m.activities||[]).forEach((P,D)=>{var $;const R=P.activity_id;if(t.push({id:R,data:{label:xu([ve.createElement("div",{className:"font-bold",key:"title"},P.name||P.activity_id),ve.createElement("div",{className:"text-sm",key:"duration"},`Dauer: ${P.duration} min`),ve.createElement("div",{className:"text-sm",key:"desc"},P.description),ve.createElement("div",{className:"text-sm",key:"goal"},`Ziel: ${P.goal}`),ve.createElement("div",{className:"text-sm",key:"assessment"},`Bewertung: ${(($=P.assessment)==null?void 0:$.type)==="formative"?"Formativ":"Summativ"}`)])},position:{x:0,y:0},className:"bg-yellow-100 border-2 border-yellow-500 rounded-md"}),r.setNode(R,{width:to,height:no,rank:3,column:d*2+b}),n.push({id:`edge-${S}-${R}`,source:S,target:R,style:{strokeDasharray:"5,5"},label:"enthält"}),P.prerequisite_activity){const V=P.transition_type==="parallel"?"#9333ea":"#FF8C00";n.push({id:`flow-${P.prerequisite_activity}-${R}`,source:P.prerequisite_activity,target:R,animated:!0,style:{stroke:V},label:P.transition_type,labelStyle:{fill:V,fontWeight:"bold"}})}const L=P.roles||[];L.forEach((V,j)=>{var q,J,ie,C,H,K,Q,ne;const T=V.role_id,Z=(q=e.actors)==null?void 0:q.find(ae=>ae.id===V.actor_id),A=(J=e.environments)==null?void 0:J.find(ae=>{var se;return ae.id===((se=V.learning_environment)==null?void 0:se.environment_id)}),U=((C=(ie=V.learning_environment)==null?void 0:ie.selected_materials)==null?void 0:C.map(ae=>{var ce;const se=(ce=A==null?void 0:A.materials)==null?void 0:ce.find(ye=>ye.id===ae);return se==null?void 0:se.name}).filter(Boolean))||[],M=((K=(H=V.learning_environment)==null?void 0:H.selected_tools)==null?void 0:K.map(ae=>{var ce;const se=(ce=A==null?void 0:A.tools)==null?void 0:ce.find(ye=>ye.id===ae);return se==null?void 0:se.name}).filter(Boolean))||[],X=((ne=(Q=V.learning_environment)==null?void 0:Q.selected_services)==null?void 0:ne.map(ae=>{var ce;const se=(ce=A==null?void 0:A.services)==null?void 0:ce.find(ye=>ye.id===ae);return se==null?void 0:se.name}).filter(Boolean))||[],F=[ve.createElement("div",{className:"font-bold",key:"title"},`${(Z==null?void 0:Z.name)||"Unbekannter Akteur"} (als ${V.role_name})`)];if(V.task_description&&F.push(ve.createElement("div",{className:"text-sm",key:"task"},`Aufgabe: ${V.task_description}`)),A&&F.push(ve.createElement("div",{className:"text-sm",key:"env"},`Lernumgebung: ${A.name}`)),U.length>0&&F.push(ve.createElement("div",{className:"text-sm",key:"materials"},`Lernressourcen: ${U.join(", ")}`)),M.length>0&&F.push(ve.createElement("div",{className:"text-sm",key:"tools"},`Werkzeuge: ${M.join(", ")}`)),X.length>0&&F.push(ve.createElement("div",{className:"text-sm",key:"services"},`Dienste: ${X.join(", ")}`)),t.push({id:T,data:{label:xu(F)},position:{x:0,y:0},className:"bg-orange-100 border-2 border-orange-500 rounded-md"}),r.setNode(T,{width:to,height:no*1.5,rank:4,column:j}),n.push({id:`edge-${R}-${T}`,source:R,target:T,style:{strokeDasharray:"5,5"},label:"führt aus"}),j>0){const ae=L[j-1].role_id;n.push({id:`parallel-${ae}-${T}`,source:ae,target:T,animated:!0,style:{stroke:"#9333ea"},label:"parallel",labelStyle:{fill:"#9333ea",fontWeight:"bold"}})}})})})}),t.forEach(c=>{r.setNode(c.id,{width:to,height:no})}),n.forEach(c=>{r.setEdge(c.source,c.target)}),tj.layout(r),{nodes:t.map(c=>{const d=r.node(c.id);return{...c,position:{x:d.x-to/2,y:d.y-no/2}}}),edges:n}}const DQ=()=>g.jsx(q3,{position:"top-left",className:"bg-white p-2 rounded shadow",children:g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-500"}),g.jsx("span",{children:"Lösung"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-500"}),g.jsx("span",{children:"Lernsequenzen"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-500"}),g.jsx("span",{children:"Phasen"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-500"}),g.jsx("span",{children:"Aktivitäten"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-orange-100 border-2 border-orange-500"}),g.jsx("span",{children:"Rollen"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-pink-100 border-2 border-pink-500"}),g.jsx("span",{children:"Akteure"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-purple-100 border-2 border-purple-500"}),g.jsx("span",{children:"Lernumgebungen"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-red-100 border-2 border-red-500"}),g.jsx("span",{children:"Lernressourcen"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-indigo-100 border-2 border-indigo-500"}),g.jsx("span",{children:"Werkzeuge"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 bg-teal-100 border-2 border-teal-500"}),g.jsx("span",{children:"Dienste"})]}),g.jsxs("div",{className:"mt-4 space-y-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-8 h-0 border-t-2 border-solid"}),g.jsx("span",{children:"Enthält/Implementiert"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-8 h-0 border-t-2 border-dashed"}),g.jsx("span",{children:"Referenziert"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-8 h-0 border-t-2 border-orange-500"}),g.jsx("span",{children:"Sequenzieller Ablauf"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-8 h-0 border-t-2 border-purple-500"}),g.jsx("span",{children:"Parallele Ausführung"})]})]})]})}),BQ=()=>{var c,d,p;const e=$s(),{nodes:t,edges:n}=dw(e),[r,i,s]=TG(t),[a,o,l]=OG(n);Y.useEffect(()=>{const{nodes:h,edges:w}=dw(e);i(h),o(w)},[e,i,o]);const u=Y.useCallback(()=>{const{nodes:h,edges:w}=dw(e);i(h),o(w)},[e,i,o]);return(p=(d=(c=e.solution)==null?void 0:c.didactic_template)==null?void 0:d.learning_sequences)!=null&&p.length?g.jsx("div",{className:"h-[800px] border rounded-lg overflow-hidden bg-white",children:g.jsxs(iI,{nodes:r,edges:a,onNodesChange:s,onEdgesChange:l,onInit:u,connectionMode:Mo.Loose,minZoom:.1,maxZoom:1.5,fitView:!0,children:[g.jsx(KG,{}),g.jsx($G,{}),g.jsx(DQ,{})]})}):g.jsx("div",{className:"h-[800px] border rounded-lg bg-white flex items-center justify-center",children:g.jsx("p",{className:"text-gray-500",children:"Keine Lernsequenzen verfügbar."})})};function zQ(){var l,u;const e=$s(),t=((u=(l=e.solution)==null?void 0:l.didactic_template)==null?void 0:u.learning_sequences)||[],n=e.actors||[],r=e.environments||[];if(!t.length)return g.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:g.jsx("p",{className:"text-gray-500",children:"Keine Lernsequenzen verfügbar."})});const i=c=>{const d=r.find(p=>p.id===c);return(d==null?void 0:d.name)||"Unbekannte Lernumgebung"},s=(c,d=[],p)=>{const h=r.find(w=>w.id===c);return h?d.map(w=>{var _;const y=h[p].find(m=>m.id===w);return y?{name:y.name,metadata:y.wlo_metadata,wwwUrl:(_=y.wlo_metadata)==null?void 0:_.wwwUrl,access_link:y.access_link}:null}).filter(w=>w!==null):[]},a=(c,d)=>d?g.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:c}):c,o=c=>c.some(p=>p.metadata)?g.jsxs("div",{className:"mt-2",children:[g.jsx("div",{className:"font-medium text-sm text-blue-600",children:"WLO empfiehlt:"}),g.jsx("ul",{className:"list-inside text-sm space-y-1",children:c.map((p,h)=>p.metadata?g.jsx("li",{children:a(p.metadata.title||p.name,p.metadata.wwwUrl||p.access_link)},h):null)})]}):null;return g.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktivitätsdetails"}),n.map(c=>g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c.name||"Unbenannter Akteur"},c.id))]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(c=>g.jsxs(ve.Fragment,{children:[g.jsx("tr",{className:"bg-blue-50",children:g.jsxs("td",{colSpan:n.length+1,className:"px-6 py-4",children:[g.jsx("div",{className:"font-medium",children:c.sequence_name||c.sequence_id}),g.jsxs("div",{className:"text-sm text-gray-500",children:["Zeit: ",c.time_frame]})]})}),(c.phases||[]).map(d=>g.jsxs(ve.Fragment,{children:[g.jsx("tr",{className:"bg-green-50",children:g.jsxs("td",{colSpan:n.length+1,className:"px-6 py-4 pl-8",children:[g.jsx("div",{className:"font-medium",children:d.phase_name||d.phase_id}),g.jsxs("div",{className:"text-sm text-gray-500",children:["Zeit: ",d.time_frame]})]})}),(d.activities||[]).map(p=>{const h={};return(p.roles||[]).forEach(w=>{h[w.actor_id]||(h[w.actor_id]=[]);const y=w.learning_environment;y&&h[w.actor_id].push({role:w,environmentName:i(y.environment_id),materials:s(y.environment_id,y.selected_materials,"materials"),tools:s(y.environment_id,y.selected_tools,"tools"),services:s(y.environment_id,y.selected_services,"services")})}),g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsxs("td",{className:"px-6 py-4 pl-12",children:[g.jsx("div",{className:"font-medium",children:p.name||p.activity_id}),g.jsx("div",{className:"text-sm text-gray-500",children:p.description}),g.jsxs("div",{className:"text-sm text-gray-500",children:["Dauer: ",p.duration," min"]})]}),n.map(w=>{var y;return g.jsx("td",{className:"px-6 py-4",children:(y=h[w.id])==null?void 0:y.map((_,m)=>g.jsxs("div",{className:"mb-4",children:[g.jsx("div",{className:"font-medium",children:_.role.role_name||"Unbenannte Rolle"}),g.jsx("div",{className:"text-sm text-gray-500",children:_.role.task_description}),g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsxs("div",{className:"text-sm text-gray-600",children:["Lernumgebung: ",_.environmentName]}),_.materials.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-sm text-gray-600",children:["Lernressourcen: ",_.materials.map((b,S)=>g.jsxs(ve.Fragment,{children:[S>0&&", ",a(b.name,b.wwwUrl||b.access_link)]},S))]}),o(_.materials)]}),_.tools.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-sm text-gray-600",children:["Werkzeuge: ",_.tools.map((b,S)=>g.jsxs(ve.Fragment,{children:[S>0&&", ",a(b.name,b.wwwUrl||b.access_link)]},S))]}),o(_.tools)]}),_.services.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-sm text-gray-600",children:["Dienste: ",_.services.map((b,S)=>g.jsxs(ve.Fragment,{children:[S>0&&", ",a(b.name,b.wwwUrl||b.access_link)]},S))]}),o(_.services)]})]})]},`${_.role.role_name}-${m}`))},w.id)})]},p.activity_id)})]},d.phase_id))]},c.sequence_id))})]})})}function $Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function VQ(e,t){if(e==null)return{};var n=UQ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HQ(e,t){return WQ(e)||GQ(e,t)||KQ(e,t)||ZQ()}function WQ(e){if(Array.isArray(e))return e}function GQ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=e[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function KQ(e,t){if(e){if(typeof e=="string")return ij(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ij(e,t)}}function ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){YQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,s){return s(i)},r)}}function Jd(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(i,o))}}}function kg(e){return{}.toString.call(e).includes("Object")}function JQ(e){return!Object.keys(e).length}function Kf(e){return typeof e=="function"}function QQ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eee(e,t){return kg(t)||Po("changeType"),Object.keys(t).some(function(n){return!QQ(e,n)})&&Po("changeField"),t}function tee(e){Kf(e)||Po("selectorType")}function nee(e){Kf(e)||kg(e)||Po("handlerType"),kg(e)&&Object.values(e).some(function(t){return!Kf(t)})&&Po("handlersType")}function ree(e){e||Po("initialIsRequired"),kg(e)||Po("initialType"),JQ(e)&&Po("initialContent")}function iee(e,t){throw new Error(e[t]||e.default)}var see={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Po=Jd(iee)(see),nm={changes:eee,selector:tee,handler:nee,initial:ree};function aee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};nm.initial(e),nm.handler(t);var n={current:e},r=Jd(uee)(n,t),i=Jd(lee)(n),s=Jd(nm.changes)(e),a=Jd(oee)(n);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return nm.selector(u),u(n.current)}function l(u){XQ(r,i,s,a)(u)}return[o,l]}function oee(e,t){return Kf(t)?t(e.current):t}function lee(e,t){return e.current=aj(aj({},e.current),t),t}function uee(e,t,n){return Kf(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var cee={create:aee},dee={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function fee(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(i,o))}}}function hee(e){return{}.toString.call(e).includes("Object")}function pee(e){return e||oj("configIsRequired"),hee(e)||oj("configType"),e.urls?(mee(),{paths:{vs:e.urls.monacoBase}}):e}function mee(){console.warn(LT.deprecation)}function gee(e,t){throw new Error(e[t]||e.default)}var LT={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},oj=fee(gee)(LT),vee={config:pee},yee=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,a){return a(s)},i)}};function PT(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],PT(e[n],t[n]))}),rj(rj({},e),t)}var bee={type:"cancelation",msg:"operation is manually canceled"};function fw(e){var t=!1,n=new Promise(function(r,i){e.then(function(s){return t?i(bee):r(s)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var wee=cee.create({config:dee,isInitialized:!1,resolve:null,reject:null,monaco:null}),RT=HQ(wee,2),Ah=RT[0],P0=RT[1];function _ee(e){var t=vee.config(e),n=t.monaco,r=VQ(t,["monaco"]);P0(function(i){return{config:PT(i.config,r),monaco:n}})}function xee(){var e=Ah(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(P0({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),fw(hw);if(window.monaco&&window.monaco.editor)return IT(window.monaco),e.resolve(window.monaco),fw(hw);yee(Nee,kee)(Eee)}return fw(hw)}function Nee(e){return document.body.appendChild(e)}function See(e){var t=document.createElement("script");return e&&(t.src=e),t}function kee(e){var t=Ah(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=See("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Eee(){var e=Ah(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){IT(n),e.resolve(n)},function(n){e.reject(n)})}function IT(e){Ah().monaco||P0({monaco:e})}function Aee(){return Ah(function(e){var t=e.monaco;return t})}var hw=new Promise(function(e,t){return P0({resolve:e,reject:t})}),TT={config:_ee,init:xee,__getMonacoInstance:Aee},Cee={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},pw=Cee,jee={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Lee=jee;function Pee({children:e}){return ve.createElement("div",{style:Lee.container},e)}var Ree=Pee,Iee=Ree;function Tee({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:a}){return ve.createElement("section",{style:{...pw.wrapper,width:e,height:t},...a},!n&&ve.createElement(Iee,null,r),ve.createElement("div",{ref:i,style:{...pw.fullWidth,...!n&&pw.hide},className:s}))}var Oee=Tee,OT=Y.memo(Oee);function Mee(e){Y.useEffect(e,[])}var MT=Mee;function Fee(e,t,n=!0){let r=Y.useRef(!0);Y.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var oi=Fee;function yf(){}function Hu(e,t,n,r){return qee(e,r)||Dee(e,t,n,r)}function qee(e,t){return e.editor.getModel(FT(e,t))}function Dee(e,t,n,r){return e.editor.createModel(t,n,r?FT(e,r):void 0)}function FT(e,t){return e.Uri.parse(t)}function Bee({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:d={},height:p="100%",width:h="100%",className:w,wrapperProps:y={},beforeMount:_=yf,onMount:m=yf}){let[b,S]=Y.useState(!1),[k,P]=Y.useState(!0),D=Y.useRef(null),R=Y.useRef(null),L=Y.useRef(null),$=Y.useRef(m),V=Y.useRef(_),j=Y.useRef(!1);MT(()=>{let U=TT.init();return U.then(M=>(R.current=M)&&P(!1)).catch(M=>(M==null?void 0:M.type)!=="cancelation"&&console.error("Monaco initialization: error:",M)),()=>D.current?A():U.cancel()}),oi(()=>{if(D.current&&R.current){let U=D.current.getOriginalEditor(),M=Hu(R.current,e||"",r||n||"text",s||"");M!==U.getModel()&&U.setModel(M)}},[s],b),oi(()=>{if(D.current&&R.current){let U=D.current.getModifiedEditor(),M=Hu(R.current,t||"",i||n||"text",a||"");M!==U.getModel()&&U.setModel(M)}},[a],b),oi(()=>{let U=D.current.getModifiedEditor();U.getOption(R.current.editor.EditorOption.readOnly)?U.setValue(t||""):t!==U.getValue()&&(U.executeEdits("",[{range:U.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),U.pushUndoStop())},[t],b),oi(()=>{var U,M;(M=(U=D.current)==null?void 0:U.getModel())==null||M.original.setValue(e||"")},[e],b),oi(()=>{let{original:U,modified:M}=D.current.getModel();R.current.editor.setModelLanguage(U,r||n||"text"),R.current.editor.setModelLanguage(M,i||n||"text")},[n,r,i],b),oi(()=>{var U;(U=R.current)==null||U.editor.setTheme(u)},[u],b),oi(()=>{var U;(U=D.current)==null||U.updateOptions(d)},[d],b);let T=Y.useCallback(()=>{var X;if(!R.current)return;V.current(R.current);let U=Hu(R.current,e||"",r||n||"text",s||""),M=Hu(R.current,t||"",i||n||"text",a||"");(X=D.current)==null||X.setModel({original:U,modified:M})},[n,t,i,e,r,s,a]),Z=Y.useCallback(()=>{var U;!j.current&&L.current&&(D.current=R.current.editor.createDiffEditor(L.current,{automaticLayout:!0,...d}),T(),(U=R.current)==null||U.editor.setTheme(u),S(!0),j.current=!0)},[d,u,T]);Y.useEffect(()=>{b&&$.current(D.current,R.current)},[b]),Y.useEffect(()=>{!k&&!b&&Z()},[k,b,Z]);function A(){var M,X,F,q;let U=(M=D.current)==null?void 0:M.getModel();o||((X=U==null?void 0:U.original)==null||X.dispose()),l||((F=U==null?void 0:U.modified)==null||F.dispose()),(q=D.current)==null||q.dispose()}return ve.createElement(OT,{width:h,height:p,isEditorReady:b,loading:c,_ref:L,className:w,wrapperProps:y})}var zee=Bee;Y.memo(zee);function $ee(e){let t=Y.useRef();return Y.useEffect(()=>{t.current=e},[e]),t.current}var Uee=$ee,rm=new Map;function Vee({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:s,theme:a="light",line:o,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:d=!0,keepCurrentModel:p=!1,width:h="100%",height:w="100%",className:y,wrapperProps:_={},beforeMount:m=yf,onMount:b=yf,onChange:S,onValidate:k=yf}){let[P,D]=Y.useState(!1),[R,L]=Y.useState(!0),$=Y.useRef(null),V=Y.useRef(null),j=Y.useRef(null),T=Y.useRef(b),Z=Y.useRef(m),A=Y.useRef(),U=Y.useRef(r),M=Uee(s),X=Y.useRef(!1),F=Y.useRef(!1);MT(()=>{let ie=TT.init();return ie.then(C=>($.current=C)&&L(!1)).catch(C=>(C==null?void 0:C.type)!=="cancelation"&&console.error("Monaco initialization: error:",C)),()=>V.current?J():ie.cancel()}),oi(()=>{var C,H,K,Q;let ie=Hu($.current,e||r||"",t||i||"",s||n||"");ie!==((C=V.current)==null?void 0:C.getModel())&&(d&&rm.set(M,(H=V.current)==null?void 0:H.saveViewState()),(K=V.current)==null||K.setModel(ie),d&&((Q=V.current)==null||Q.restoreViewState(rm.get(s))))},[s],P),oi(()=>{var ie;(ie=V.current)==null||ie.updateOptions(u)},[u],P),oi(()=>{!V.current||r===void 0||(V.current.getOption($.current.editor.EditorOption.readOnly)?V.current.setValue(r):r!==V.current.getValue()&&(F.current=!0,V.current.executeEdits("",[{range:V.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),V.current.pushUndoStop(),F.current=!1))},[r],P),oi(()=>{var C,H;let ie=(C=V.current)==null?void 0:C.getModel();ie&&i&&((H=$.current)==null||H.editor.setModelLanguage(ie,i))},[i],P),oi(()=>{var ie;o!==void 0&&((ie=V.current)==null||ie.revealLine(o))},[o],P),oi(()=>{var ie;(ie=$.current)==null||ie.editor.setTheme(a)},[a],P);let q=Y.useCallback(()=>{var ie;if(!(!j.current||!$.current)&&!X.current){Z.current($.current);let C=s||n,H=Hu($.current,r||e||"",t||i||"",C||"");V.current=(ie=$.current)==null?void 0:ie.editor.create(j.current,{model:H,automaticLayout:!0,...u},c),d&&V.current.restoreViewState(rm.get(C)),$.current.editor.setTheme(a),o!==void 0&&V.current.revealLine(o),D(!0),X.current=!0}},[e,t,n,r,i,s,u,c,d,a,o]);Y.useEffect(()=>{P&&T.current(V.current,$.current)},[P]),Y.useEffect(()=>{!R&&!P&&q()},[R,P,q]),U.current=r,Y.useEffect(()=>{var ie,C;P&&S&&((ie=A.current)==null||ie.dispose(),A.current=(C=V.current)==null?void 0:C.onDidChangeModelContent(H=>{F.current||S(V.current.getValue(),H)}))},[P,S]),Y.useEffect(()=>{if(P){let ie=$.current.editor.onDidChangeMarkers(C=>{var K;let H=(K=V.current.getModel())==null?void 0:K.uri;if(H&&C.find(Q=>Q.path===H.path)){let Q=$.current.editor.getModelMarkers({resource:H});k==null||k(Q)}});return()=>{ie==null||ie.dispose()}}return()=>{}},[P,k]);function J(){var ie,C;(ie=A.current)==null||ie.dispose(),p?d&&rm.set(s,V.current.saveViewState()):(C=V.current.getModel())==null||C.dispose(),V.current.dispose()}return ve.createElement(OT,{width:h,height:w,isEditorReady:P,loading:l,_ref:j,className:y,wrapperProps:_})}var Hee=Vee,Wee=Y.memo(Hee);function Gee({value:e,onChange:t,readOnly:n=!1}){const r=Y.useRef(null);Y.useEffect(()=>()=>{var s,a;r.current&&((a=(s=r.current).dispose)==null||a.call(s))},[]);const i=s=>{r.current=s};return g.jsx(Wee,{height:"100%",language:"json",theme:"vs-dark",value:e,onChange:s=>t(s||""),options:{minimap:{enabled:!1},readOnly:n,scrollBeyondLastLine:!1,fontSize:14,wordWrap:"on",automaticLayout:!0,formatOnPaste:!0,formatOnType:!0},onMount:i,loading:g.jsx("div",{className:"p-4 text-gray-500",children:"Loading editor..."})})}function Kee(){const e=$s(),t={metadata:e.metadata,problem:e.problem,context:e.context,influence_factors:e.influence_factors,solution:e.solution,consequences:e.consequences,implementation_notes:e.implementation_notes,related_patterns:e.related_patterns,feedback:e.feedback,sources:e.sources,actors:e.actors,environments:e.environments};return g.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:g.jsx("div",{className:"h-[500px] border rounded-lg overflow-hidden",children:g.jsx(Gee,{value:JSON.stringify(t,null,2),onChange:()=>{},readOnly:!0})})})}function Zee(){return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Vorschau"}),g.jsx(Ho,{})]}),g.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg shadow-sm mb-8",children:[g.jsx("p",{className:"text-indigo-900",children:"Hier sehen Sie Ihr didaktisches Template in verschiedenen Ansichten:"}),g.jsxs("ul",{className:"mt-4 space-y-2 text-indigo-800 list-disc list-inside",children:[g.jsxs("li",{children:[g.jsx("span",{className:"font-medium",children:"Tabellenansicht:"})," Detaillierte Übersicht aller Aktivitäten und Rollen, einschließlich der empfohlenen WLO-Bildungsressourcen nach erfolgtem Inhalte-Abruf"]}),g.jsxs("li",{children:[g.jsx("span",{className:"font-medium",children:"Graphansicht:"})," Visualisierung der Beziehungen und Abläufe zwischen allen Komponenten des Templates"]}),g.jsxs("li",{children:[g.jsx("span",{className:"font-medium",children:"Rohdaten:"})," Technische JSON-Struktur für Export/Import und Weiterverarbeitung"]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Tabellenansicht"}),g.jsx(zQ,{})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Graphansicht"}),g.jsx(BQ,{})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Rohdaten"}),g.jsx(Kee,{})]})]})}const ox="RFC3986",lx={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},Yee="RFC1738",Xee=Array.isArray,ks=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),mw=1024,Jee=(e,t,n,r,i)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=mw){const l=s.length>=mw?s.slice(o,o+mw):s,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===Yee&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=ks[d];continue}if(d<2048){u[u.length]=ks[192|d>>6]+ks[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=ks[224|d>>12]+ks[128|d>>6&63]+ks[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=ks[240|d>>18]+ks[128|d>>12&63]+ks[128|d>>6&63]+ks[128|d&63]}a+=u.join("")}return a};function Qee(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function lj(e,t){if(Xee(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const ete=Object.prototype.hasOwnProperty,qT={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},js=Array.isArray,tte=Array.prototype.push,DT=function(e,t){tte.apply(e,js(t)?t:[t])},nte=Date.prototype.toISOString,Bn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Jee,encodeValuesOnly:!1,format:ox,formatter:lx[ox],indices:!1,serializeDate(e){return nte.call(e)},skipNulls:!1,strictNullHandling:!1};function rte(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const gw={};function BT(e,t,n,r,i,s,a,o,l,u,c,d,p,h,w,y,_,m){let b=e,S=m,k=0,P=!1;for(;(S=S.get(gw))!==void 0&&!P;){const V=S.get(e);if(k+=1,typeof V<"u"){if(V===k)throw new RangeError("Cyclic object value");P=!0}typeof S.get(gw)>"u"&&(k=0)}if(typeof u=="function"?b=u(t,b):b instanceof Date?b=p==null?void 0:p(b):n==="comma"&&js(b)&&(b=lj(b,function(V){return V instanceof Date?p==null?void 0:p(V):V})),b===null){if(s)return l&&!y?l(t,Bn.encoder,_,"key",h):t;b=""}if(rte(b)||Qee(b)){if(l){const V=y?t:l(t,Bn.encoder,_,"key",h);return[(w==null?void 0:w(V))+"="+(w==null?void 0:w(l(b,Bn.encoder,_,"value",h)))]}return[(w==null?void 0:w(t))+"="+(w==null?void 0:w(String(b)))]}const D=[];if(typeof b>"u")return D;let R;if(n==="comma"&&js(b))y&&l&&(b=lj(b,l)),R=[{value:b.length>0?b.join(",")||null:void 0}];else if(js(u))R=u;else{const V=Object.keys(b);R=c?V.sort(c):V}const L=o?String(t).replace(/\./g,"%2E"):String(t),$=r&&js(b)&&b.length===1?L+"[]":L;if(i&&js(b)&&b.length===0)return $+"[]";for(let V=0;V<R.length;++V){const j=R[V],T=typeof j=="object"&&typeof j.value<"u"?j.value:b[j];if(a&&T===null)continue;const Z=d&&o?j.replace(/\./g,"%2E"):j,A=js(b)?typeof n=="function"?n($,Z):$:$+(d?"."+Z:"["+Z+"]");m.set(e,k);const U=new WeakMap;U.set(gw,m),DT(D,BT(T,A,n,r,i,s,a,o,n==="comma"&&y&&js(b)?null:l,u,c,d,p,h,w,y,_,U))}return D}function ite(e=Bn){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Bn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=ox;if(typeof e.format<"u"){if(!ete.call(lx,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=lx[n];let i=Bn.filter;(typeof e.filter=="function"||js(e.filter))&&(i=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in qT?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Bn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Bn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Bn.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Bn.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Bn.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Bn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Bn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Bn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Bn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Bn.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Bn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Bn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Bn.strictNullHandling}}function ste(e,t={}){let n=e;const r=ite(t);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):js(r.filter)&&(s=r.filter,i=s);const a=[];if(typeof n!="object"||n===null)return"";const o=qT[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let p=0;p<i.length;++p){const h=i[p];r.skipNulls&&n[h]===null||DT(a,BT(n[h],h,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}const Cu="4.71.1";let uj=!1,bf,zT,$T,ux,UT,VT,HT,WT,GT;function ate(e,t={auto:!1}){if(uj)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(bf)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${bf}'\``);uj=t.auto,bf=e.kind,zT=e.fetch,$T=e.FormData,ux=e.File,UT=e.ReadableStream,VT=e.getMultipartRequestOptions,HT=e.getDefaultAgent,WT=e.fileFromPath,GT=e.isFsReadStream}class ote{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function lte({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new ote(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}bf||ate(lte(),{auto:!0});class jt extends Error{}class rr extends jt{constructor(t,n,r,i){super(`${rr.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"];const s=n;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t)return new R0({message:r,cause:dx(n)});const s=n==null?void 0:n.error;return t===400?new KT(t,s,r,i):t===401?new ZT(t,s,r,i):t===403?new YT(t,s,r,i):t===404?new XT(t,s,r,i):t===409?new JT(t,s,r,i):t===422?new QT(t,s,r,i):t===429?new eO(t,s,r,i):t>=500?new tO(t,s,r,i):new rr(t,s,r,i)}}class rs extends rr{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class R0 extends rr{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class y4 extends R0{constructor({message:t}={}){super({message:t??"Request timed out."})}}class KT extends rr{constructor(){super(...arguments),this.status=400}}class ZT extends rr{constructor(){super(...arguments),this.status=401}}class YT extends rr{constructor(){super(...arguments),this.status=403}}class XT extends rr{constructor(){super(...arguments),this.status=404}}class JT extends rr{constructor(){super(...arguments),this.status=409}}class QT extends rr{constructor(){super(...arguments),this.status=422}}class eO extends rr{constructor(){super(...arguments),this.status=429}}class tO extends rr{}class nO extends jt{constructor(){super("Could not parse response content as the length limit was reached")}}class rO extends jt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class jl{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=jl.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(jl.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new jt(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new jt(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new jt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}jl.NEWLINE_CHARS=new Set([`
`,"\r"]);jl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Ts{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of ute(t,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new rr(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new rr(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new Ts(i,n)}static fromReadableStream(t,n){let r=!1;async function*i(){const a=new jl,o=iO(t);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Ts(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();t.push(a),n.push(a)}return s.shift()}});return[new Ts(()=>i(t),this.controller),new Ts(()=>i(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new UT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*ute(e,t){if(!e.body)throw t.abort(),new jt("Attempted to iterate over a response with no body");const n=new fte,r=new jl,i=iO(e.body);for await(const s of cte(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*cte(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let s;for(;(s=dte(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}function dte(e){for(let r=0;r<e.length-2;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}class fte{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=hte(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function hte(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function iO(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const sO=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",aO=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&I0(e),I0=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",pte=e=>aO(e)||sO(e)||GT(e);async function oO(e,t,n){var i;if(e=await e,aO(e))return e;if(sO(e)){const s=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=I0(s)?[await s.arrayBuffer()]:[s];return new ux(a,t,n)}const r=await mte(e);if(t||(t=vte(e)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new ux(r,t,n)}async function mte(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(I0(e))t.push(await e.arrayBuffer());else if(yte(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${gte(e)}`);return t}function gte(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function vte(e){var t;return vw(e.name)||vw(e.filename)||((t=vw(e.path))==null?void 0:t.split(/[\\/]/).pop())}const vw=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},yte=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",cj=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Sc=async e=>{const t=await bte(e.body);return VT(t,e)},bte=async e=>{const t=new $T;return await Promise.all(Object.entries(e||{}).map(([n,r])=>cx(t,n,r))),t},cx=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(pte(n)){const r=await oO(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>cx(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>cx(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var lc={},wte=function(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},_te=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},im;async function lO(e){const{response:t}=e;if(e.options.stream)return uc("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Ts.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await t.json();return uc("response",t.status,t.url,t.headers,s),uO(s,t)}const i=await t.text();return uc("response",t.status,t.url,t.headers,i),i}function uO(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class T0 extends Promise{constructor(t,n=lO){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new T0(this.responsePromise,async n=>uO(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class xte{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=t,this.maxRetries=yw("maxRetries",n),this.timeout=yw("timeout",r),this.httpAgent=i,this.fetch=s??zT}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Cte(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Rte()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&I0(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:t,path:n,...i,body:s}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var y;const{method:r,path:i,query:s,headers:a={}}=t,o=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:cj(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(o),u=this.buildURL(i,s);"timeout"in t&&yw("timeout",t.timeout);const c=t.timeout??this.timeout,d=t.httpAgent??this.httpAgent??HT(u),p=c+1e3;typeof((y=d==null?void 0:d.options)==null?void 0:y.timeout)=="number"&&p>(d.options.timeout??0)&&(d.options.timeout=p),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const h=this.buildHeaders({options:t,headers:a,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:t.signal??null},url:u,timeout:c}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const a=this.defaultHeaders(t);return pj(s,a),pj(s,n),cj(t.body)&&bf!=="node"&&delete s["content-type"],mj(a,"x-stainless-retry-count")===void 0&&mj(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,i){return rr.generate(t,n,r,i)}request(t,n=null){return new T0(this.makeRequest(t,n))}async makeRequest(t,n){var d,p;const r=await t,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:a,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:a,options:r}),uc("request",a,r,s.headers),(d=r.signal)!=null&&d.aborted)throw new rs;const l=new AbortController,u=await this.fetchWithTimeout(a,s,o,l).catch(dx);if(u instanceof Error){if((p=r.signal)!=null&&p.aborted)throw new rs;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new y4:new R0({cause:u})}const c=Ste(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const b=`retrying, ${n} attempts remaining`;return uc(`response (error; ${b})`,u.status,a,c),this.retryRequest(r,n,c)}const h=await u.text().catch(b=>dx(b).message),w=jte(h),y=w?void 0:h;throw uc(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,a,c,y),this.makeStatusError(u.status,w,y,c)}return{response:u,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new Nte(this,r,t)}buildURL(t,n){const r=Pte(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return dO(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new jt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:i.signal,...a}).finally(()=>{clearTimeout(o)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await Ch(i),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Cu}`}}class cO{constructor(t,n,r,i){im.set(this,void 0),wte(this,im,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new jt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[i,s]of r)t.url.searchParams.set(i,s);n.query=void 0,n.path=t.url.toString()}return await _te(this,im,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(im=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Nte extends T0{constructor(t,n,r){super(n,async i=>new r(t,i.response,await lO(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Ste=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),kte={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Gr=e=>typeof e=="object"&&e!==null&&!dO(e)&&Object.keys(e).every(t=>fO(kte,t)),Ete=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cu,"X-Stainless-OS":fj(Deno.build.os),"X-Stainless-Arch":dj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cu,"X-Stainless-OS":fj(process.platform),"X-Stainless-Arch":dj(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Ate();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ate(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const dj=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",fj=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let hj;const Cte=()=>hj??(hj=Ete()),jte=e=>{try{return JSON.parse(e)}catch{return}},Lte=new RegExp("^(?:[a-z]+:)?//","i"),Pte=e=>Lte.test(e),Ch=e=>new Promise(t=>setTimeout(t,e)),yw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new jt(`${e} must be an integer`);if(t<0)throw new jt(`${e} must be a positive integer`);return t},dx=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},sm=e=>{var t,n,r,i;if(typeof process<"u")return((t=lc==null?void 0:lc[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};function dO(e){if(!e)return!0;for(const t in e)return!1;return!0}function fO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pj(e,t){for(const n in t){if(!fO(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];i===null?delete e[r]:i!==void 0&&(e[r]=i)}}function uc(e,...t){typeof process<"u"&&(lc==null?void 0:lc.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const Rte=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Ite=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Tte=e=>typeof(e==null?void 0:e.get)=="function",mj=(e,t)=>{var r;const n=t.toLowerCase();if(Tte(e)){const i=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(s,a,o)=>a+o.toUpperCase());for(const s of[t,n,t.toUpperCase(),i]){const a=e.get(s);if(a)return a}}for(const[i,s]of Object.entries(e))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s};function bw(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Ote extends cO{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class vs extends cO{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Wt{constructor(t){this._client=t}}let hO=class extends Wt{create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}},b4=class extends Wt{constructor(){super(...arguments),this.completions=new hO(this._client)}};b4.Completions=hO;class pO extends Wt{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}}class mO extends Wt{create(t,n){return this._client.post("/audio/transcriptions",Sc({body:t,...n}))}}class gO extends Wt{create(t,n){return this._client.post("/audio/translations",Sc({body:t,...n}))}}class jh extends Wt{constructor(){super(...arguments),this.transcriptions=new mO(this._client),this.translations=new gO(this._client),this.speech=new pO(this._client)}}jh.Transcriptions=mO;jh.Translations=gO;jh.Speech=pO;class w4 extends Wt{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return Gr(t)?this.list({},t):this._client.getAPIList("/batches",_4,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class _4 extends vs{}w4.BatchesPage=_4;class x4 extends Wt{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Gr(t)?this.list({},t):this._client.getAPIList("/assistants",N4,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class N4 extends vs{}x4.AssistantsPage=N4;function gj(e){return typeof e.parse=="function"}const cc=e=>(e==null?void 0:e.role)==="assistant",vO=e=>(e==null?void 0:e.role)==="function",yO=e=>(e==null?void 0:e.role)==="tool";var Zi=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},un=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},fx,jm,Lm,Qd,ef,Pm,tf,ua,nf,Eg,Ag,ju,bO;class wO{constructor(){fx.add(this),this.controller=new AbortController,jm.set(this,void 0),Lm.set(this,()=>{}),Qd.set(this,()=>{}),ef.set(this,void 0),Pm.set(this,()=>{}),tf.set(this,()=>{}),ua.set(this,{}),nf.set(this,!1),Eg.set(this,!1),Ag.set(this,!1),ju.set(this,!1),Zi(this,jm,new Promise((t,n)=>{Zi(this,Lm,t,"f"),Zi(this,Qd,n,"f")}),"f"),Zi(this,ef,new Promise((t,n)=>{Zi(this,Pm,t,"f"),Zi(this,tf,n,"f")}),"f"),un(this,jm,"f").catch(()=>{}),un(this,ef,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},un(this,fx,"m",bO).bind(this))},0)}_connected(){this.ended||(un(this,Lm,"f").call(this),this._emit("connect"))}get ended(){return un(this,nf,"f")}get errored(){return un(this,Eg,"f")}get aborted(){return un(this,Ag,"f")}abort(){this.controller.abort()}on(t,n){return(un(this,ua,"f")[t]||(un(this,ua,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=un(this,ua,"f")[t];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(un(this,ua,"f")[t]||(un(this,ua,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Zi(this,ju,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Zi(this,ju,!0,"f"),await un(this,ef,"f")}_emit(t,...n){if(un(this,nf,"f"))return;t==="end"&&(Zi(this,nf,!0,"f"),un(this,Pm,"f").call(this));const r=un(this,ua,"f")[t];if(r&&(un(this,ua,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!un(this,ju,"f")&&!(r!=null&&r.length)&&Promise.reject(i),un(this,Qd,"f").call(this,i),un(this,tf,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!un(this,ju,"f")&&!(r!=null&&r.length)&&Promise.reject(i),un(this,Qd,"f").call(this,i),un(this,tf,"f").call(this,i),this._emit("end")}}_emitFinal(){}}jm=new WeakMap,Lm=new WeakMap,Qd=new WeakMap,ef=new WeakMap,Pm=new WeakMap,tf=new WeakMap,ua=new WeakMap,nf=new WeakMap,Eg=new WeakMap,Ag=new WeakMap,ju=new WeakMap,fx=new WeakSet,bO=function(t){if(Zi(this,Eg,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new rs),t instanceof rs)return Zi(this,Ag,!0,"f"),this._emit("abort",t);if(t instanceof jt)return this._emit("error",t);if(t instanceof Error){const n=new jt(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new jt(String(t)))};function _O(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Lh(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Mte(e,t){return!t||!xO(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:S4(e,t)}function S4(e,t){const n=e.choices.map(r=>{var i;if(r.finish_reason==="length")throw new nO;if(r.finish_reason==="content_filter")throw new rO;return{...r,message:{...r.message,tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>qte(t,s)))??[],parsed:r.message.content&&!r.message.refusal?Fte(t,r.message.content):null}}});return{...e,choices:n}}function Fte(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function qte(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Lh(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Dte(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return Lh(n)||(n==null?void 0:n.function.strict)||!1}function xO(e){var t;return _O(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Lh(n)||n.type==="function"&&n.function.strict===!0))??!1}function Bte(e){for(const t of e??[]){if(t.type!=="function")throw new jt(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new jt(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Fr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},hr,hx,Cg,px,mx,gx,NO,vx;const vj=10;class SO extends wO{constructor(){super(...arguments),hr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(vO(t)||yO(t))&&t.content)this._emit("functionCallResult",t.content);else if(cc(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(cc(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new jt("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),Fr(this,hr,"m",hx).call(this)}async finalMessage(){return await this.done(),Fr(this,hr,"m",Cg).call(this)}async finalFunctionCall(){return await this.done(),Fr(this,hr,"m",px).call(this)}async finalFunctionCallResult(){return await this.done(),Fr(this,hr,"m",mx).call(this)}async totalUsage(){return await this.done(),Fr(this,hr,"m",gx).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=Fr(this,hr,"m",Cg).call(this);n&&this._emit("finalMessage",n);const r=Fr(this,hr,"m",hx).call(this);r&&this._emit("finalContent",r);const i=Fr(this,hr,"m",px).call(this);i&&this._emit("finalFunctionCall",i);const s=Fr(this,hr,"m",mx).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",Fr(this,hr,"m",gx).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Fr(this,hr,"m",NO).call(this,n);const s=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(S4(s,n))}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var p;const i="function",{function_call:s="auto",stream:a,...o}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:u=vj}=r||{},c={};for(const h of n.functions)c[h.name||h.function.name]=h;const d=n.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of n.messages)this._addMessage(h,!1);for(let h=0;h<u;++h){const y=(p=(await this._createChatCompletion(t,{...o,function_call:s,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!y)throw new jt("missing message in ChatCompletion response");if(!y.function_call)return;const{name:_,arguments:m}=y.function_call,b=c[_];if(b){if(l&&l!==_){const D=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:_,content:D});continue}}else{const D=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${d.map(R=>JSON.stringify(R.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:_,content:D});continue}let S;try{S=gj(b)?await b.parse(m):m}catch(D){this._addMessage({role:i,name:_,content:D instanceof Error?D.message:String(D)});continue}const k=await b.function(S,this),P=Fr(this,hr,"m",vx).call(this,k);if(this._addMessage({role:i,name:_,content:P}),l)return}}async _runTools(t,n,r){var h,w,y;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,l=typeof s!="string"&&((h=s==null?void 0:s.function)==null?void 0:h.name),{maxChatCompletions:u=vj}=r||{},c=n.tools.map(_=>{if(Lh(_)){if(!_.$callback)throw new jt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),d={};for(const _ of c)_.type==="function"&&(d[_.function.name||_.function.function.name]=_.function);const p="tools"in n?c.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<u;++_){const b=(w=(await this._createChatCompletion(t,{...o,tool_choice:s,tools:p,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!b)throw new jt("missing message in ChatCompletion response");if(!((y=b.tool_calls)!=null&&y.length))return;for(const S of b.tool_calls){if(S.type!=="function")continue;const k=S.id,{name:P,arguments:D}=S.function,R=d[P];if(R){if(l&&l!==P){const j=`Invalid tool_call: ${JSON.stringify(P)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:k,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(P)}. Available options are: ${Object.keys(d).map(T=>JSON.stringify(T)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:k,content:j});continue}let L;try{L=gj(R)?await R.parse(D):D}catch(j){const T=j instanceof Error?j.message:String(j);this._addMessage({role:i,tool_call_id:k,content:T});continue}const $=await R.function(L,this),V=Fr(this,hr,"m",vx).call(this,$);if(this._addMessage({role:i,tool_call_id:k,content:V}),l)return}}}}hr=new WeakSet,hx=function(){return Fr(this,hr,"m",Cg).call(this).content??null},Cg=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(cc(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new jt("stream ended without producing a ChatCompletionMessage with role=assistant")},px=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(cc(i)&&(i!=null&&i.function_call))return i.function_call;if(cc(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},mx=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(vO(n)&&n.content!=null||yO(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},gx=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},NO=function(t){if(t.n!=null&&t.n>1)throw new jt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},vx=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Zf extends SO{static runFunctions(t,n,r){const i=new Zf,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new Zf,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}_addMessage(t,n=!0){super._addMessage(t,n),cc(t)&&t.content&&this._emit("content",t.content)}}const kO=1,EO=2,AO=4,CO=8,jO=16,LO=32,PO=64,RO=128,IO=256,TO=RO|IO,OO=jO|LO|TO|PO,MO=kO|EO|OO,FO=AO|CO,zte=MO|FO,Wn={STR:kO,NUM:EO,ARR:AO,OBJ:CO,NULL:jO,BOOL:LO,NAN:PO,INFINITY:RO,MINUS_INFINITY:IO,INF:TO,SPECIAL:OO,ATOM:MO,COLLECTION:FO,ALL:zte};class $te extends Error{}class Ute extends Error{}function Vte(e,t=Wn.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Hte(e.trim(),t)}const Hte=(e,t)=>{const n=e.length;let r=0;const i=p=>{throw new $te(`${p} at position ${r}`)},s=p=>{throw new Ute(`${p} at position ${r}`)},a=()=>(d(),r>=n&&i("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||Wn.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Wn.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Wn.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Wn.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Wn.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Wn.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),o=()=>{const p=r;let h=!1;for(r++;r<n&&(e[r]!=='"'||h&&e[r-1]==="\\");)h=e[r]==="\\"?!h:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(p,++r-Number(h)))}catch(w){s(String(w))}else if(Wn.STR&t)try{return JSON.parse(e.substring(p,r-Number(h))+'"')}catch{return JSON.parse(e.substring(p,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const p={};try{for(;e[r]!=="}";){if(d(),r>=n&&Wn.OBJ&t)return p;const h=o();d(),r++;try{const w=a();Object.defineProperty(p,h,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Wn.OBJ&t)return p;throw w}d(),e[r]===","&&r++}}catch{if(Wn.OBJ&t)return p;i("Expected '}' at end of object")}return r++,p},u=()=>{r++;const p=[];try{for(;e[r]!=="]";)p.push(a()),d(),e[r]===","&&r++}catch{if(Wn.ARR&t)return p;i("Expected ']' at end of array")}return r++,p},c=()=>{if(r===0){e==="-"&&Wn.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(h){if(Wn.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(h))}}const p=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Wn.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(p,r))}catch{e.substring(p,r)==="-"&&Wn.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(p,e.lastIndexOf("e")))}catch(w){s(String(w))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},yj=e=>Vte(e,Wn.ALL^Wn.NUM);var Nu=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Zt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Dn,oa,Su,ro,ww,am,_w,xw,Nw,om,Sw,bj;class Yf extends SO{constructor(t){super(),Dn.add(this),oa.set(this,void 0),Su.set(this,void 0),ro.set(this,void 0),Nu(this,oa,t,"f"),Nu(this,Su,[],"f")}get currentChatCompletionSnapshot(){return Zt(this,ro,"f")}static fromReadableStream(t){const n=new Yf(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new Yf(n);return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Zt(this,Dn,"m",ww).call(this);const s=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)Zt(this,Dn,"m",_w).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new rs;return this._addChatCompletion(Zt(this,Dn,"m",om).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Zt(this,Dn,"m",ww).call(this),this._connected();const i=Ts.fromReadableStream(t,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(Zt(this,Dn,"m",om).call(this)),Zt(this,Dn,"m",_w).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new rs;return this._addChatCompletion(Zt(this,Dn,"m",om).call(this))}[(oa=new WeakMap,Su=new WeakMap,ro=new WeakMap,Dn=new WeakSet,ww=function(){this.ended||Nu(this,ro,void 0,"f")},am=function(n){let r=Zt(this,Su,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Zt(this,Su,"f")[n.index]=r,r)},_w=function(n){var i,s,a,o,l,u,c,d,p,h,w,y,_,m,b;if(this.ended)return;const r=Zt(this,Dn,"m",bj).call(this,n);this._emit("chunk",n,r);for(const S of n.choices){const k=r.choices[S.index];S.delta.content!=null&&((i=k.message)==null?void 0:i.role)==="assistant"&&((s=k.message)!=null&&s.content)&&(this._emit("content",S.delta.content,k.message.content),this._emit("content.delta",{delta:S.delta.content,snapshot:k.message.content,parsed:k.message.parsed})),S.delta.refusal!=null&&((a=k.message)==null?void 0:a.role)==="assistant"&&((o=k.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:S.delta.refusal,snapshot:k.message.refusal}),((l=S.logprobs)==null?void 0:l.content)!=null&&((u=k.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=S.logprobs)==null?void 0:c.content,snapshot:((d=k.logprobs)==null?void 0:d.content)??[]}),((p=S.logprobs)==null?void 0:p.refusal)!=null&&((h=k.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=S.logprobs)==null?void 0:w.refusal,snapshot:((y=k.logprobs)==null?void 0:y.refusal)??[]});const P=Zt(this,Dn,"m",am).call(this,k);k.finish_reason&&(Zt(this,Dn,"m",Nw).call(this,k),P.current_tool_call_index!=null&&Zt(this,Dn,"m",xw).call(this,k,P.current_tool_call_index));for(const D of S.delta.tool_calls??[])P.current_tool_call_index!==D.index&&(Zt(this,Dn,"m",Nw).call(this,k),P.current_tool_call_index!=null&&Zt(this,Dn,"m",xw).call(this,k,P.current_tool_call_index)),P.current_tool_call_index=D.index;for(const D of S.delta.tool_calls??[]){const R=(_=k.message.tool_calls)==null?void 0:_[D.index];R!=null&&R.type&&((R==null?void 0:R.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=R.function)==null?void 0:m.name,index:D.index,arguments:R.function.arguments,parsed_arguments:R.function.parsed_arguments,arguments_delta:((b=D.function)==null?void 0:b.arguments)??""}):(R==null||R.type,void 0))}}},xw=function(n,r){var a,o,l;if(Zt(this,Dn,"m",am).call(this,n).done_tool_calls.has(r))return;const s=(a=n.message.tool_calls)==null?void 0:a[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const u=(l=(o=Zt(this,oa,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Lh(u)?u.$parseRaw(s.function.arguments):u!=null&&u.function.strict?JSON.parse(s.function.arguments):null})}else s.type},Nw=function(n){var i,s;const r=Zt(this,Dn,"m",am).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=Zt(this,Dn,"m",Sw).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},om=function(){if(this.ended)throw new jt("stream has ended, this shouldn't happen");const n=Zt(this,ro,"f");if(!n)throw new jt("request ended without sending any chunks");return Nu(this,ro,void 0,"f"),Nu(this,Su,[],"f"),Wte(n,Zt(this,oa,"f"))},Sw=function(){var r;const n=(r=Zt(this,oa,"f"))==null?void 0:r.response_format;return _O(n)?n:null},bj=function(n){var r,i,s,a;let o=Zt(this,ro,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=Nu(this,ro,{...u,choices:[]},"f");for(const{delta:c,finish_reason:d,index:p,logprobs:h=null,...w}of n.choices){let y=o.choices[p];if(y||(y=o.choices[p]={finish_reason:d,index:p,message:{},logprobs:h,...w}),h)if(!y.logprobs)y.logprobs=Object.assign({},h);else{const{content:D,refusal:R,...L}=h;Object.assign(y.logprobs,L),D&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(...D)),R&&((i=y.logprobs).refusal??(i.refusal=[]),y.logprobs.refusal.push(...R))}if(d&&(y.finish_reason=d,Zt(this,oa,"f")&&xO(Zt(this,oa,"f")))){if(d==="length")throw new nO;if(d==="content_filter")throw new rO}if(Object.assign(y,w),!c)continue;const{content:_,refusal:m,function_call:b,role:S,tool_calls:k,...P}=c;if(Object.assign(y.message,P),m&&(y.message.refusal=(y.message.refusal||"")+m),S&&(y.message.role=S),b&&(y.message.function_call?(b.name&&(y.message.function_call.name=b.name),b.arguments&&((s=y.message.function_call).arguments??(s.arguments=""),y.message.function_call.arguments+=b.arguments)):y.message.function_call=b),_&&(y.message.content=(y.message.content||"")+_,!y.message.refusal&&Zt(this,Dn,"m",Sw).call(this)&&(y.message.parsed=yj(y.message.content))),k){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:D,id:R,type:L,function:$,...V}of k){const j=(a=y.message.tool_calls)[D]??(a[D]={});Object.assign(j,V),R&&(j.id=R),L&&(j.type=L),$&&(j.function??(j.function={name:$.name??"",arguments:""})),$!=null&&$.name&&(j.function.name=$.name),$!=null&&$.arguments&&(j.function.arguments+=$.arguments,Dte(Zt(this,oa,"f"),j)&&(j.function.parsed_arguments=yj(j.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ts(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Wte(e,t){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:p,...h})=>{if(!c)throw new jt(`missing finish_reason for choice ${d}`);const{content:w=null,function_call:y,tool_calls:_,...m}=u,b=u.role;if(!b)throw new jt(`missing role for choice ${d}`);if(y){const{arguments:S,name:k}=y;if(S==null)throw new jt(`missing function_call.arguments for choice ${d}`);if(!k)throw new jt(`missing function_call.name for choice ${d}`);return{...h,message:{content:w,function_call:{arguments:S,name:k},role:b,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:p}}return _?{...h,index:d,finish_reason:c,logprobs:p,message:{...m,role:b,content:w,refusal:u.refusal??null,tool_calls:_.map((S,k)=>{const{function:P,type:D,id:R,...L}=S,{arguments:$,name:V,...j}=P||{};if(R==null)throw new jt(`missing choices[${d}].tool_calls[${k}].id
${lm(e)}`);if(D==null)throw new jt(`missing choices[${d}].tool_calls[${k}].type
${lm(e)}`);if(V==null)throw new jt(`missing choices[${d}].tool_calls[${k}].function.name
${lm(e)}`);if($==null)throw new jt(`missing choices[${d}].tool_calls[${k}].function.arguments
${lm(e)}`);return{...L,id:R,type:D,function:{...j,name:V,arguments:$}}})}}:{...h,message:{...m,content:w,role:b,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:p}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Mte(l,t)}function lm(e){return JSON.stringify(e)}class dc extends Yf{static fromReadableStream(t){const n=new dc(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const i=new dc(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new dc(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}}let qO=class extends Wt{parse(t,n){return Bte(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>S4(r,t))}runFunctions(t,n){return t.stream?dc.runFunctions(this._client,t,n):Zf.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?dc.runTools(this._client,t,n):Zf.runTools(this._client,t,n)}stream(t,n){return Yf.createChatCompletion(this._client,t,n)}};class yx extends Wt{constructor(){super(...arguments),this.completions=new qO(this._client)}}(function(e){e.Completions=qO})(yx||(yx={}));var Qe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ni=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},er,bx,Ls,Rm,Ji,ml,Wu,ll,jg,ii,Im,Tm,wf,rf,sf,wj,_j,xj,Nj,Sj,kj,Ej;class is extends wO{constructor(){super(...arguments),er.add(this),bx.set(this,[]),Ls.set(this,{}),Rm.set(this,{}),Ji.set(this,void 0),ml.set(this,void 0),Wu.set(this,void 0),ll.set(this,void 0),jg.set(this,void 0),ii.set(this,void 0),Im.set(this,void 0),Tm.set(this,void 0),wf.set(this,void 0)}[(bx=new WeakMap,Ls=new WeakMap,Rm=new WeakMap,Ji=new WeakMap,ml=new WeakMap,Wu=new WeakMap,ll=new WeakMap,jg=new WeakMap,ii=new WeakMap,Im=new WeakMap,Tm=new WeakMap,wf=new WeakMap,er=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new is;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Ts.fromReadableStream(t,this.controller);for await(const a of i)Qe(this,er,"m",rf).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new rs;return this._addRun(Qe(this,er,"m",sf).call(this))}toReadableStream(){return new Ts(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,i,s){const a=new is;return a._run(()=>a._runToolAssistantStream(t,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,n,r,i,s){var u;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},l=await t.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const c of l)Qe(this,er,"m",rf).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new rs;return this._addRun(Qe(this,er,"m",sf).call(this))}static createThreadAssistantStream(t,n,r){const i=new is;return i._run(()=>i._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,n,r,i){const s=new is;return s._run(()=>s._runAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return Qe(this,Im,"f")}currentRun(){return Qe(this,Tm,"f")}currentMessageSnapshot(){return Qe(this,Ji,"f")}currentRunStepSnapshot(){return Qe(this,wf,"f")}async finalRunSteps(){return await this.done(),Object.values(Qe(this,Ls,"f"))}async finalMessages(){return await this.done(),Object.values(Qe(this,Rm,"f"))}async finalRun(){if(await this.done(),!Qe(this,ml,"f"))throw Error("Final run was not received.");return Qe(this,ml,"f")}async _createThreadAssistantStream(t,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await t.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of a)Qe(this,er,"m",rf).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new rs;return this._addRun(Qe(this,er,"m",sf).call(this))}async _createAssistantStream(t,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const u of o)Qe(this,er,"m",rf).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new rs;return this._addRun(Qe(this,er,"m",sf).call(this))}static accumulateDelta(t,n){for(const[r,i]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=i;continue}let s=t[r];if(s==null){t[r]=i;continue}if(r==="index"||r==="type"){t[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(bw(s)&&bw(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!bw(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=s[o];l==null?s.push(a):s[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);t[r]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,i){return await this._createAssistantStream(n,t,r,i)}async _runToolAssistantStream(t,n,r,i,s){return await this._createToolAssistantStream(r,t,n,i,s)}}rf=function(t){if(!this.ended)switch(ni(this,Im,t,"f"),Qe(this,er,"m",xj).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Qe(this,er,"m",Ej).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Qe(this,er,"m",_j).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Qe(this,er,"m",wj).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},sf=function(){if(this.ended)throw new jt("stream has ended, this shouldn't happen");if(!Qe(this,ml,"f"))throw Error("Final run has not been received");return Qe(this,ml,"f")},wj=function(t){const[n,r]=Qe(this,er,"m",Sj).call(this,t,Qe(this,Ji,"f"));ni(this,Ji,n,"f"),Qe(this,Rm,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Qe(this,Wu,"f")){if(Qe(this,ll,"f"))switch(Qe(this,ll,"f").type){case"text":this._emit("textDone",Qe(this,ll,"f").text,Qe(this,Ji,"f"));break;case"image_file":this._emit("imageFileDone",Qe(this,ll,"f").image_file,Qe(this,Ji,"f"));break}ni(this,Wu,i.index,"f")}ni(this,ll,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Qe(this,Wu,"f")!==void 0){const i=t.data.content[Qe(this,Wu,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Qe(this,Ji,"f"));break;case"text":this._emit("textDone",i.text,Qe(this,Ji,"f"));break}}Qe(this,Ji,"f")&&this._emit("messageDone",t.data),ni(this,Ji,void 0,"f")}},_j=function(t){const n=Qe(this,er,"m",Nj).call(this,t);switch(ni(this,wf,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==Qe(this,jg,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(Qe(this,ii,"f")&&this._emit("toolCallDone",Qe(this,ii,"f")),ni(this,jg,s.index,"f"),ni(this,ii,n.step_details.tool_calls[s.index],"f"),Qe(this,ii,"f")&&this._emit("toolCallCreated",Qe(this,ii,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ni(this,wf,void 0,"f"),t.data.step_details.type=="tool_calls"&&Qe(this,ii,"f")&&(this._emit("toolCallDone",Qe(this,ii,"f")),ni(this,ii,void 0,"f")),this._emit("runStepDone",t.data,n);break}},xj=function(t){Qe(this,bx,"f").push(t),this._emit("event",t)},Nj=function(t){switch(t.event){case"thread.run.step.created":return Qe(this,Ls,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=Qe(this,Ls,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const i=is.accumulateDelta(n,r.delta);Qe(this,Ls,"f")[t.data.id]=i}return Qe(this,Ls,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Qe(this,Ls,"f")[t.data.id]=t.data;break}if(Qe(this,Ls,"f")[t.data.id])return Qe(this,Ls,"f")[t.data.id];throw new Error("No snapshot available")},Sj=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=Qe(this,er,"m",kj).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},kj=function(t,n){return is.accumulateDelta(n,t)},Ej=function(t){switch(ni(this,Tm,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ni(this,ml,t.data,"f"),Qe(this,ii,"f")&&(this._emit("toolCallDone",Qe(this,ii,"f")),ni(this,ii,void 0,"f"));break}};class k4 extends Wt{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return Gr(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,E4,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class E4 extends vs{}k4.MessagesPage=E4;class A4 extends Wt{retrieve(t,n,r,i={},s){return Gr(i)?this.retrieve(t,n,r,{},i):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n,r={},i){return Gr(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,C4,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class C4 extends vs{}A4.RunStepsPage=C4;class Ph extends Wt{constructor(){super(...arguments),this.steps=new A4(this._client)}create(t,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return Gr(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,j4,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}createAndStream(t,n,r){return is.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Ch(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,n,r){return is.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,i){const s=await this.submitToolOutputs(t,n,r,i);return await this.poll(t,s.id,i)}submitToolOutputsStream(t,n,r,i){return is.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,i)}}class j4 extends vs{}Ph.RunsPage=j4;Ph.Steps=A4;Ph.RunStepsPage=C4;class Fc extends Wt{constructor(){super(...arguments),this.runs=new Ph(this._client),this.messages=new k4(this._client)}create(t={},n){return Gr(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return is.createThreadAssistantStream(t,this._client.beta.threads,n)}}Fc.Runs=Ph;Fc.RunsPage=j4;Fc.Messages=k4;Fc.MessagesPage=E4;const Gte=async e=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)i.status==="fulfilled"&&r.push(i.value);return r};let L4=class extends Wt{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return Gr(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,O0,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(t,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Ch(o);break;case"failed":case"completed":return a}}}async upload(t,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:i.id},r)}async uploadAndPoll(t,n,r){const i=await this.upload(t,n,r);return await this.poll(t,i.id,r)}};class O0 extends vs{}L4.VectorStoreFilesPage=O0;class DO extends Wt{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n);return await this.poll(t,i.id,r)}listFiles(t,n,r={},i){return Gr(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,O0,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(t,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await Ch(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,l=n.values(),u=[...r];async function c(p){for(let h of p){const w=await o.files.create({file:h,purpose:"assistants"},i);u.push(w.id)}}const d=Array(a).fill(l).map(c);return await Gte(d),await this.createAndPoll(t,{file_ids:u})}}class qc extends Wt{constructor(){super(...arguments),this.files=new L4(this._client),this.fileBatches=new DO(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Gr(t)?this.list({},t):this._client.getAPIList("/vector_stores",P4,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class P4 extends vs{}qc.VectorStoresPage=P4;qc.Files=L4;qc.VectorStoreFilesPage=O0;qc.FileBatches=DO;class Ul extends Wt{constructor(){super(...arguments),this.vectorStores=new qc(this._client),this.chat=new yx(this._client),this.assistants=new x4(this._client),this.threads=new Fc(this._client)}}Ul.VectorStores=qc;Ul.VectorStoresPage=P4;Ul.Assistants=x4;Ul.AssistantsPage=N4;Ul.Threads=Fc;class BO extends Wt{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class zO extends Wt{create(t,n){return this._client.post("/embeddings",{body:t,...n})}}class R4 extends Wt{create(t,n){return this._client.post("/files",Sc({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return Gr(t)?this.list({},t):this._client.getAPIList("/files",I4,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(t);for(;!a.status||!i.has(a.status);)if(await Ch(n),a=await this.retrieve(t),Date.now()-s>r)throw new y4({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}}class I4 extends vs{}R4.FileObjectsPage=I4;class T4 extends Wt{list(t,n={},r){return Gr(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,O4,{query:n,...r})}}class O4 extends vs{}T4.FineTuningJobCheckpointsPage=O4;class Dc extends Wt{constructor(){super(...arguments),this.checkpoints=new T4(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return Gr(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",M4,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return Gr(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,F4,{query:n,...r})}}class M4 extends vs{}class F4 extends vs{}Dc.FineTuningJobsPage=M4;Dc.FineTuningJobEventsPage=F4;Dc.Checkpoints=T4;Dc.FineTuningJobCheckpointsPage=O4;class Rh extends Wt{constructor(){super(...arguments),this.jobs=new Dc(this._client)}}Rh.Jobs=Dc;Rh.FineTuningJobsPage=M4;Rh.FineTuningJobEventsPage=F4;class $O extends Wt{createVariation(t,n){return this._client.post("/images/variations",Sc({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Sc({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class q4 extends Wt{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",D4,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class D4 extends Ote{}q4.ModelsPage=D4;class UO extends Wt{create(t,n){return this._client.post("/moderations",{body:t,...n})}}class VO extends Wt{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Sc({body:n,...r}))}}class B4 extends Wt{constructor(){super(...arguments),this.parts=new VO(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}B4.Parts=VO;var HO;class Pt extends xte{constructor({baseURL:t=sm("OPENAI_BASE_URL"),apiKey:n=sm("OPENAI_API_KEY"),organization:r=sm("OPENAI_ORG_ID")??null,project:i=sm("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new jt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:t||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&Ite())throw new jt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new BO(this),this.chat=new b4(this),this.embeddings=new zO(this),this.files=new R4(this),this.images=new $O(this),this.audio=new jh(this),this.moderations=new UO(this),this.models=new q4(this),this.fineTuning=new Rh(this),this.beta=new Ul(this),this.batches=new w4(this),this.uploads=new B4(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return ste(t,{arrayFormat:"brackets"})}}HO=Pt;Pt.OpenAI=HO;Pt.DEFAULT_TIMEOUT=6e5;Pt.OpenAIError=jt;Pt.APIError=rr;Pt.APIConnectionError=R0;Pt.APIConnectionTimeoutError=y4;Pt.APIUserAbortError=rs;Pt.NotFoundError=XT;Pt.ConflictError=JT;Pt.RateLimitError=eO;Pt.BadRequestError=KT;Pt.AuthenticationError=ZT;Pt.InternalServerError=tO;Pt.PermissionDeniedError=YT;Pt.UnprocessableEntityError=QT;Pt.toFile=oO;Pt.fileFromPath=WT;Pt.Completions=BO;Pt.Chat=b4;Pt.Embeddings=zO;Pt.Files=R4;Pt.FileObjectsPage=I4;Pt.Images=$O;Pt.Audio=jh;Pt.Moderations=UO;Pt.Models=q4;Pt.ModelsPage=D4;Pt.FineTuning=Rh;Pt.Beta=Ul;Pt.Batches=w4;Pt.BatchesPage=_4;Pt.Uploads=B4;var Tt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Tt||(Tt={}));var wx;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(wx||(wx={}));const We=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),po=e=>{switch(typeof e){case"undefined":return We.undefined;case"string":return We.string;case"number":return isNaN(e)?We.nan:We.number;case"boolean":return We.boolean;case"function":return We.function;case"bigint":return We.bigint;case"symbol":return We.symbol;case"object":return Array.isArray(e)?We.array:e===null?We.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?We.promise:typeof Map<"u"&&e instanceof Map?We.map:typeof Set<"u"&&e instanceof Set?We.set:typeof Date<"u"&&e instanceof Date?We.date:We.object;default:return We.unknown}},Te=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Kte=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class di extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),r}static assert(t){if(!(t instanceof di))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}di.create=e=>new di(e);const kc=(e,t)=>{let n;switch(e.code){case Te.invalid_type:e.received===We.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Tt.jsonStringifyReplacer)}`;break;case Te.unrecognized_keys:n=`Unrecognized key(s) in object: ${Tt.joinValues(e.keys,", ")}`;break;case Te.invalid_union:n="Invalid input";break;case Te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Tt.joinValues(e.options)}`;break;case Te.invalid_enum_value:n=`Invalid enum value. Expected ${Tt.joinValues(e.options)}, received '${e.received}'`;break;case Te.invalid_arguments:n="Invalid function arguments";break;case Te.invalid_return_type:n="Invalid function return type";break;case Te.invalid_date:n="Invalid date";break;case Te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Tt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Te.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Te.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Te.custom:n="Invalid input";break;case Te.invalid_intersection_types:n="Intersection results could not be merged";break;case Te.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Te.not_finite:n="Number must be finite";break;default:n=t.defaultError,Tt.assertNever(e)}return{message:n}};let WO=kc;function Zte(e){WO=e}function Lg(){return WO}const Pg=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},Yte=[];function Ue(e,t){const n=Lg(),r=Pg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===kc?void 0:kc].filter(i=>!!i)});e.common.issues.push(r)}class yr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return ct;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return yr.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return ct;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:t.value,value:r}}}const ct=Object.freeze({status:"aborted"}),Gu=e=>({status:"dirty",value:e}),Er=e=>({status:"valid",value:e}),_x=e=>e.status==="aborted",xx=e=>e.status==="dirty",Xf=e=>e.status==="valid",Jf=e=>typeof Promise<"u"&&e instanceof Promise;function Rg(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function GO(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Je||(Je={}));var af,of;class Bs{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Aj=(e,t)=>{if(Xf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new di(e.common.issues);return this._error=n,this._error}}};function xt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,o)=>{var l,u;const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:o.defaultError}},description:i}}class Nt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return po(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:po(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new yr,ctx:{common:t.parent.common,data:t.data,parsedType:po(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Jf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:po(t)},s=this._parseSync({data:t,path:i.path,parent:i});return Aj(i,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:po(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(Jf(i)?i:Promise.resolve(i));return Aj(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=t(i),o=()=>s.addIssue({code:Te.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new ds({schema:this,typeName:lt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ds.create(this,this._def)}nullable(){return zo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this,this._def)}promise(){return Ac.create(this,this._def)}or(t){return nh.create([this,t],this._def)}and(t){return rh.create(this,t,this._def)}transform(t){return new ds({...xt(this._def),schema:this,typeName:lt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new lh({...xt(this._def),innerType:this,defaultValue:n,typeName:lt.ZodDefault})}brand(){return new z4({typeName:lt.ZodBranded,type:this,...xt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new uh({...xt(this._def),innerType:this,catchValue:n,typeName:lt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ih.create(this,t)}readonly(){return ch.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xte=/^c[^\s-]{8,}$/i,Jte=/^[0-9a-z]+$/,Qte=/^[0-9A-HJKMNP-TV-Z]{26}$/,ene=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tne=/^[a-z0-9_-]{21}$/i,nne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ine="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kw;const sne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ane=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,one=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lne=new RegExp(`^${KO}$`);function ZO(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function une(e){return new RegExp(`^${ZO(e)}$`)}function YO(e){let t=`${KO}T${ZO(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function cne(e,t){return!!((t==="v4"||!t)&&sne.test(e)||(t==="v6"||!t)&&ane.test(e))}class ss extends Nt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==We.string){const s=this._getOrReturnCtx(t);return Ue(s,{code:Te.invalid_type,expected:We.string,received:s.parsedType}),ct}const r=new yr;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,o=t.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(t,i),a?Ue(i,{code:Te.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Ue(i,{code:Te.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")rne.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"email",code:Te.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")kw||(kw=new RegExp(ine,"u")),kw.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"emoji",code:Te.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")ene.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"uuid",code:Te.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")tne.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"nanoid",code:Te.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Xte.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"cuid",code:Te.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Jte.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"cuid2",code:Te.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Qte.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"ulid",code:Te.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ue(i,{validation:"url",code:Te.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"regex",code:Te.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?YO(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?lne.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?une(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?nne.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"duration",code:Te.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?cne(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"ip",code:Te.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?one.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"base64",code:Te.invalid_string,message:s.message}),r.dirty()):Tt.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Te.invalid_string,...Je.errToObj(r)})}_addCheck(t){return new ss({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Je.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Je.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Je.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Je.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Je.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Je.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Je.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Je.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Je.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Je.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Je.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Je.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Je.errToObj(n)})}nonempty(t){return this.min(1,Je.errToObj(t))}trim(){return new ss({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ss({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ss.create=e=>{var t;return new ss({checks:[],typeName:lt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...xt(e)})};function dne(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(e.toFixed(i).replace(".","")),a=parseInt(t.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class qo extends Nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==We.number){const s=this._getOrReturnCtx(t);return Ue(s,{code:Te.invalid_type,expected:We.number,received:s.parsedType}),ct}let r;const i=new yr;for(const s of this._def.checks)s.kind==="int"?Tt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?dne(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.not_finite,message:s.message}),i.dirty()):Tt.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Je.toString(n))}setLimit(t,n,r,i){return new qo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(t){return new qo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Tt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}qo.create=e=>new qo({checks:[],typeName:lt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...xt(e)});class Do extends Nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==We.bigint){const s=this._getOrReturnCtx(t);return Ue(s,{code:Te.invalid_type,expected:We.bigint,received:s.parsedType}),ct}let r;const i=new yr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Te.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Tt.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Je.toString(n))}setLimit(t,n,r,i){return new Do({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(t){return new Do({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Do.create=e=>{var t;return new Do({checks:[],typeName:lt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...xt(e)})};class Qf extends Nt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==We.boolean){const r=this._getOrReturnCtx(t);return Ue(r,{code:Te.invalid_type,expected:We.boolean,received:r.parsedType}),ct}return Er(t.data)}}Qf.create=e=>new Qf({typeName:lt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...xt(e)});class Ll extends Nt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==We.date){const s=this._getOrReturnCtx(t);return Ue(s,{code:Te.invalid_type,expected:We.date,received:s.parsedType}),ct}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ue(s,{code:Te.invalid_date}),ct}const r=new yr;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Te.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Tt.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ll({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Je.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Je.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ll.create=e=>new Ll({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:lt.ZodDate,...xt(e)});class Ig extends Nt{_parse(t){if(this._getType(t)!==We.symbol){const r=this._getOrReturnCtx(t);return Ue(r,{code:Te.invalid_type,expected:We.symbol,received:r.parsedType}),ct}return Er(t.data)}}Ig.create=e=>new Ig({typeName:lt.ZodSymbol,...xt(e)});class eh extends Nt{_parse(t){if(this._getType(t)!==We.undefined){const r=this._getOrReturnCtx(t);return Ue(r,{code:Te.invalid_type,expected:We.undefined,received:r.parsedType}),ct}return Er(t.data)}}eh.create=e=>new eh({typeName:lt.ZodUndefined,...xt(e)});class th extends Nt{_parse(t){if(this._getType(t)!==We.null){const r=this._getOrReturnCtx(t);return Ue(r,{code:Te.invalid_type,expected:We.null,received:r.parsedType}),ct}return Er(t.data)}}th.create=e=>new th({typeName:lt.ZodNull,...xt(e)});class Ec extends Nt{constructor(){super(...arguments),this._any=!0}_parse(t){return Er(t.data)}}Ec.create=e=>new Ec({typeName:lt.ZodAny,...xt(e)});class _l extends Nt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Er(t.data)}}_l.create=e=>new _l({typeName:lt.ZodUnknown,...xt(e)});class Ea extends Nt{_parse(t){const n=this._getOrReturnCtx(t);return Ue(n,{code:Te.invalid_type,expected:We.never,received:n.parsedType}),ct}}Ea.create=e=>new Ea({typeName:lt.ZodNever,...xt(e)});class Tg extends Nt{_parse(t){if(this._getType(t)!==We.undefined){const r=this._getOrReturnCtx(t);return Ue(r,{code:Te.invalid_type,expected:We.void,received:r.parsedType}),ct}return Er(t.data)}}Tg.create=e=>new Tg({typeName:lt.ZodVoid,...xt(e)});class us extends Nt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==We.array)return Ue(n,{code:Te.invalid_type,expected:We.array,received:n.parsedType}),ct;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(Ue(n,{code:a?Te.too_big:Te.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ue(n,{code:Te.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ue(n,{code:Te.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Bs(n,a,n.path,o)))).then(a=>yr.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Bs(n,a,n.path,o)));return yr.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new us({...this._def,minLength:{value:t,message:Je.toString(n)}})}max(t,n){return new us({...this._def,maxLength:{value:t,message:Je.toString(n)}})}length(t,n){return new us({...this._def,exactLength:{value:t,message:Je.toString(n)}})}nonempty(t){return this.min(1,t)}}us.create=(e,t)=>new us({type:e,minLength:null,maxLength:null,exactLength:null,typeName:lt.ZodArray,...xt(t)});function Lu(e){if(e instanceof cn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ds.create(Lu(r))}return new cn({...e._def,shape:()=>t})}else return e instanceof us?new us({...e._def,type:Lu(e.element)}):e instanceof Ds?Ds.create(Lu(e.unwrap())):e instanceof zo?zo.create(Lu(e.unwrap())):e instanceof zs?zs.create(e.items.map(t=>Lu(t))):e}class cn extends Nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Tt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==We.object){const u=this._getOrReturnCtx(t);return Ue(u,{code:Te.invalid_type,expected:We.object,received:u.parsedType}),ct}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ea&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const c=s[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Bs(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ea){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(Ue(i,{code:Te.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Bs(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,p=await c.value;u.push({key:d,value:p,alwaysSet:c.alwaysSet})}return u}).then(u=>yr.mergeObjectSync(r,u)):yr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Je.errToObj,new cn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=Je.errToObj(t).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new cn({...this._def,unknownKeys:"strip"})}passthrough(){return new cn({...this._def,unknownKeys:"passthrough"})}extend(t){return new cn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new cn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:lt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new cn({...this._def,catchall:t})}pick(t){const n={};return Tt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new cn({...this._def,shape:()=>n})}omit(t){const n={};return Tt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new cn({...this._def,shape:()=>n})}deepPartial(){return Lu(this)}partial(t){const n={};return Tt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new cn({...this._def,shape:()=>n})}required(t){const n={};return Tt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ds;)s=s._def.innerType;n[r]=s}}),new cn({...this._def,shape:()=>n})}keyof(){return XO(Tt.objectKeys(this.shape))}}cn.create=(e,t)=>new cn({shape:()=>e,unknownKeys:"strip",catchall:Ea.create(),typeName:lt.ZodObject,...xt(t)});cn.strictCreate=(e,t)=>new cn({shape:()=>e,unknownKeys:"strict",catchall:Ea.create(),typeName:lt.ZodObject,...xt(t)});cn.lazycreate=(e,t)=>new cn({shape:e,unknownKeys:"strip",catchall:Ea.create(),typeName:lt.ZodObject,...xt(t)});class nh extends Nt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new di(o.ctx.common.issues));return Ue(n,{code:Te.invalid_union,unionErrors:a}),ct}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new di(l));return Ue(n,{code:Te.invalid_union,unionErrors:o}),ct}}get options(){return this._def.options}}nh.create=(e,t)=>new nh({options:e,typeName:lt.ZodUnion,...xt(t)});const ca=e=>e instanceof sh?ca(e.schema):e instanceof ds?ca(e.innerType()):e instanceof ah?[e.value]:e instanceof Bo?e.options:e instanceof oh?Tt.objectValues(e.enum):e instanceof lh?ca(e._def.innerType):e instanceof eh?[void 0]:e instanceof th?[null]:e instanceof Ds?[void 0,...ca(e.unwrap())]:e instanceof zo?[null,...ca(e.unwrap())]:e instanceof z4||e instanceof ch?ca(e.unwrap()):e instanceof uh?ca(e._def.innerType):[];class M0 extends Nt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==We.object)return Ue(n,{code:Te.invalid_type,expected:We.object,received:n.parsedType}),ct;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Ue(n,{code:Te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ct)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const a=ca(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);i.set(o,s)}}return new M0({typeName:lt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...xt(r)})}}function Nx(e,t){const n=po(e),r=po(t);if(e===t)return{valid:!0,data:e};if(n===We.object&&r===We.object){const i=Tt.objectKeys(t),s=Tt.objectKeys(e).filter(o=>i.indexOf(o)!==-1),a={...e,...t};for(const o of s){const l=Nx(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===We.array&&r===We.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const a=e[s],o=t[s],l=Nx(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===We.date&&r===We.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class rh extends Nt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,a)=>{if(_x(s)||_x(a))return ct;const o=Nx(s.value,a.value);return o.valid?((xx(s)||xx(a))&&n.dirty(),{status:n.value,value:o.data}):(Ue(r,{code:Te.invalid_intersection_types}),ct)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rh.create=(e,t,n)=>new rh({left:e,right:t,typeName:lt.ZodIntersection,...xt(n)});class zs extends Nt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==We.array)return Ue(r,{code:Te.invalid_type,expected:We.array,received:r.parsedType}),ct;if(r.data.length<this._def.items.length)return Ue(r,{code:Te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&r.data.length>this._def.items.length&&(Ue(r,{code:Te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Bs(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>yr.mergeArray(n,a)):yr.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new zs({...this._def,rest:t})}}zs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zs({items:e,typeName:lt.ZodTuple,rest:null,...xt(t)})};class ih extends Nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==We.object)return Ue(r,{code:Te.invalid_type,expected:We.object,received:r.parsedType}),ct;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new Bs(r,o,r.path,o)),value:a._parse(new Bs(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?yr.mergeObjectAsync(n,i):yr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Nt?new ih({keyType:t,valueType:n,typeName:lt.ZodRecord,...xt(r)}):new ih({keyType:ss.create(),valueType:t,typeName:lt.ZodRecord,...xt(n)})}}class Og extends Nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==We.map)return Ue(r,{code:Te.invalid_type,expected:We.map,received:r.parsedType}),ct;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],u)=>({key:i._parse(new Bs(r,o,r.path,[u,"key"])),value:s._parse(new Bs(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ct;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ct;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(u.value,c.value)}return{status:n.value,value:o}}}}Og.create=(e,t,n)=>new Og({valueType:t,keyType:e,typeName:lt.ZodMap,...xt(n)});class Pl extends Nt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==We.set)return Ue(r,{code:Te.invalid_type,expected:We.set,received:r.parsedType}),ct;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ue(r,{code:Te.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ue(r,{code:Te.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ct;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>s._parse(new Bs(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,n){return new Pl({...this._def,minSize:{value:t,message:Je.toString(n)}})}max(t,n){return new Pl({...this._def,maxSize:{value:t,message:Je.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Pl.create=(e,t)=>new Pl({valueType:e,minSize:null,maxSize:null,typeName:lt.ZodSet,...xt(t)});class fc extends Nt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==We.function)return Ue(n,{code:Te.invalid_type,expected:We.function,received:n.parsedType}),ct;function r(o,l){return Pg({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lg(),kc].filter(u=>!!u),issueData:{code:Te.invalid_arguments,argumentsError:l}})}function i(o,l){return Pg({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lg(),kc].filter(u=>!!u),issueData:{code:Te.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Ac){const o=this;return Er(async function(...l){const u=new di([]),c=await o._def.args.parseAsync(l,s).catch(h=>{throw u.addIssue(r(l,h)),u}),d=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(d,s).catch(h=>{throw u.addIssue(i(d,h)),u})})}else{const o=this;return Er(function(...l){const u=o._def.args.safeParse(l,s);if(!u.success)throw new di([r(l,u.error)]);const c=Reflect.apply(a,this,u.data),d=o._def.returns.safeParse(c,s);if(!d.success)throw new di([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new fc({...this._def,args:zs.create(t).rest(_l.create())})}returns(t){return new fc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new fc({args:t||zs.create([]).rest(_l.create()),returns:n||_l.create(),typeName:lt.ZodFunction,...xt(r)})}}class sh extends Nt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}sh.create=(e,t)=>new sh({getter:e,typeName:lt.ZodLazy,...xt(t)});class ah extends Nt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ue(n,{received:n.data,code:Te.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:t.data}}get value(){return this._def.value}}ah.create=(e,t)=>new ah({value:e,typeName:lt.ZodLiteral,...xt(t)});function XO(e,t){return new Bo({values:e,typeName:lt.ZodEnum,...xt(t)})}class Bo extends Nt{constructor(){super(...arguments),af.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ue(n,{expected:Tt.joinValues(r),received:n.parsedType,code:Te.invalid_type}),ct}if(Rg(this,af)||GO(this,af,new Set(this._def.values)),!Rg(this,af).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Ue(n,{received:n.data,code:Te.invalid_enum_value,options:r}),ct}return Er(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Bo.create(t,{...this._def,...n})}exclude(t,n=this._def){return Bo.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}af=new WeakMap;Bo.create=XO;class oh extends Nt{constructor(){super(...arguments),of.set(this,void 0)}_parse(t){const n=Tt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==We.string&&r.parsedType!==We.number){const i=Tt.objectValues(n);return Ue(r,{expected:Tt.joinValues(i),received:r.parsedType,code:Te.invalid_type}),ct}if(Rg(this,of)||GO(this,of,new Set(Tt.getValidEnumValues(this._def.values))),!Rg(this,of).has(t.data)){const i=Tt.objectValues(n);return Ue(r,{received:r.data,code:Te.invalid_enum_value,options:i}),ct}return Er(t.data)}get enum(){return this._def.values}}of=new WeakMap;oh.create=(e,t)=>new oh({values:e,typeName:lt.ZodNativeEnum,...xt(t)});class Ac extends Nt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==We.promise&&n.common.async===!1)return Ue(n,{code:Te.invalid_type,expected:We.promise,received:n.parsedType}),ct;const r=n.parsedType===We.promise?n.data:Promise.resolve(n.data);return Er(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ac.create=(e,t)=>new Ac({type:e,typeName:lt.ZodPromise,...xt(t)});class ds extends Nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a=>{Ue(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return ct;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?ct:l.status==="dirty"||n.value==="dirty"?Gu(l.value):l});{if(n.value==="aborted")return ct;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?ct:o.status==="dirty"||n.value==="dirty"?Gu(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ct:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?ct:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xf(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Xf(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);Tt.assertNever(i)}}ds.create=(e,t,n)=>new ds({schema:e,typeName:lt.ZodEffects,effect:t,...xt(n)});ds.createWithPreprocess=(e,t,n)=>new ds({schema:t,effect:{type:"preprocess",transform:e},typeName:lt.ZodEffects,...xt(n)});class Ds extends Nt{_parse(t){return this._getType(t)===We.undefined?Er(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ds.create=(e,t)=>new Ds({innerType:e,typeName:lt.ZodOptional,...xt(t)});class zo extends Nt{_parse(t){return this._getType(t)===We.null?Er(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:lt.ZodNullable,...xt(t)});class lh extends Nt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===We.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}lh.create=(e,t)=>new lh({innerType:e,typeName:lt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...xt(t)});class uh extends Nt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Jf(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new di(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new di(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uh.create=(e,t)=>new uh({innerType:e,typeName:lt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...xt(t)});class Mg extends Nt{_parse(t){if(this._getType(t)!==We.nan){const r=this._getOrReturnCtx(t);return Ue(r,{code:Te.invalid_type,expected:We.nan,received:r.parsedType}),ct}return{status:"valid",value:t.data}}}Mg.create=e=>new Mg({typeName:lt.ZodNaN,...xt(e)});const fne=Symbol("zod_brand");class z4 extends Nt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ih extends Nt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ct:s.status==="dirty"?(n.dirty(),Gu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ct:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Ih({in:t,out:n,typeName:lt.ZodPipeline})}}class ch extends Nt{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Xf(i)&&(i.value=Object.freeze(i.value)),i);return Jf(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}ch.create=(e,t)=>new ch({innerType:e,typeName:lt.ZodReadonly,...xt(t)});function JO(e,t={},n){return e?Ec.create().superRefine((r,i)=>{var s,a;if(!e(r)){const o=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(a=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,u=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...u,fatal:l})}}):Ec.create()}const hne={object:cn.lazycreate};var lt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(lt||(lt={}));const pne=(e,t={message:`Input not instance of ${e.name}`})=>JO(n=>n instanceof e,t),QO=ss.create,eM=qo.create,mne=Mg.create,gne=Do.create,tM=Qf.create,vne=Ll.create,yne=Ig.create,bne=eh.create,wne=th.create,_ne=Ec.create,xne=_l.create,Nne=Ea.create,Sne=Tg.create,kne=us.create,Ene=cn.create,Ane=cn.strictCreate,Cne=nh.create,jne=M0.create,Lne=rh.create,Pne=zs.create,Rne=ih.create,Ine=Og.create,Tne=Pl.create,One=fc.create,Mne=sh.create,Fne=ah.create,qne=Bo.create,Dne=oh.create,Bne=Ac.create,Cj=ds.create,zne=Ds.create,$ne=zo.create,Une=ds.createWithPreprocess,Vne=Ih.create,Hne=()=>QO().optional(),Wne=()=>eM().optional(),Gne=()=>tM().optional(),Kne={string:e=>ss.create({...e,coerce:!0}),number:e=>qo.create({...e,coerce:!0}),boolean:e=>Qf.create({...e,coerce:!0}),bigint:e=>Do.create({...e,coerce:!0}),date:e=>Ll.create({...e,coerce:!0})},Zne=ct;var Le=Object.freeze({__proto__:null,defaultErrorMap:kc,setErrorMap:Zte,getErrorMap:Lg,makeIssue:Pg,EMPTY_PATH:Yte,addIssueToContext:Ue,ParseStatus:yr,INVALID:ct,DIRTY:Gu,OK:Er,isAborted:_x,isDirty:xx,isValid:Xf,isAsync:Jf,get util(){return Tt},get objectUtil(){return wx},ZodParsedType:We,getParsedType:po,ZodType:Nt,datetimeRegex:YO,ZodString:ss,ZodNumber:qo,ZodBigInt:Do,ZodBoolean:Qf,ZodDate:Ll,ZodSymbol:Ig,ZodUndefined:eh,ZodNull:th,ZodAny:Ec,ZodUnknown:_l,ZodNever:Ea,ZodVoid:Tg,ZodArray:us,ZodObject:cn,ZodUnion:nh,ZodDiscriminatedUnion:M0,ZodIntersection:rh,ZodTuple:zs,ZodRecord:ih,ZodMap:Og,ZodSet:Pl,ZodFunction:fc,ZodLazy:sh,ZodLiteral:ah,ZodEnum:Bo,ZodNativeEnum:oh,ZodPromise:Ac,ZodEffects:ds,ZodTransformer:ds,ZodOptional:Ds,ZodNullable:zo,ZodDefault:lh,ZodCatch:uh,ZodNaN:Mg,BRAND:fne,ZodBranded:z4,ZodPipeline:Ih,ZodReadonly:ch,custom:JO,Schema:Nt,ZodSchema:Nt,late:hne,get ZodFirstPartyTypeKind(){return lt},coerce:Kne,any:_ne,array:kne,bigint:gne,boolean:tM,date:vne,discriminatedUnion:jne,effect:Cj,enum:qne,function:One,instanceof:pne,intersection:Lne,lazy:Mne,literal:Fne,map:Ine,nan:mne,nativeEnum:Dne,never:Nne,null:wne,nullable:$ne,number:eM,object:Ene,oboolean:Gne,onumber:Wne,optional:zne,ostring:Hne,pipeline:Vne,preprocess:Une,promise:Bne,record:Rne,set:Tne,strictObject:Ane,string:QO,symbol:yne,transformer:Cj,tuple:Pne,undefined:bne,union:Cne,unknown:xne,void:Sne,NEVER:Zne,ZodIssueCode:Te,quotelessJson:Kte,ZodError:di});const Yne=Le.object({id:Le.string(),name:Le.string(),material_type:Le.string(),source:Le.enum(["manual","database","filter"]),access_link:Le.string(),database_id:Le.string().optional(),filter_criteria:Le.record(Le.string()).optional()}),Xne=Le.object({id:Le.string(),name:Le.string(),tool_type:Le.string(),source:Le.enum(["manual","database","filter"]),access_link:Le.string(),database_id:Le.string().optional(),filter_criteria:Le.record(Le.string()).optional()}),Jne=Le.object({id:Le.string(),name:Le.string(),service_type:Le.string(),source:Le.enum(["manual","database","filter"]),access_link:Le.string(),database_id:Le.string().optional(),filter_criteria:Le.record(Le.string()).optional()}),nM=Le.object({id:Le.string(),name:Le.string().min(1,"Name ist erforderlich"),description:Le.string(),materials:Le.array(Yne).min(1,"Mindestens eine Lernressource ist erforderlich"),tools:Le.array(Xne).min(1,"Mindestens ein Werkzeug ist erforderlich"),services:Le.array(Jne).min(1,"Mindestens ein Dienst ist erforderlich")}),Qne=Le.object({metadata:Le.object({title:Le.string(),description:Le.string(),keywords:Le.array(Le.string()),author:Le.string(),version:Le.string()}),problem:Le.object({problem_description:Le.string(),learning_goals:Le.array(Le.string()),didactic_keywords:Le.array(Le.string())}),context:Le.object({target_group:Le.string(),subject:Le.string(),educational_level:Le.string(),prerequisites:Le.string(),time_frame:Le.string()}),influence_factors:Le.array(Le.object({factor:Le.string(),description:Le.string()})),solution:Le.object({solution_description:Le.string(),didactic_approach:Le.string(),didactic_template:Le.object({learning_sequences:Le.array(Le.any())})}),consequences:Le.object({advantages:Le.array(Le.string()),disadvantages:Le.array(Le.string())}),implementation_notes:Le.array(Le.object({note_id:Le.string(),description:Le.string()})),related_patterns:Le.array(Le.string()),feedback:Le.object({comments:Le.array(Le.any())}),sources:Le.array(Le.object({source_id:Le.string(),title:Le.string(),author:Le.string(),year:Le.number(),publisher:Le.string(),url:Le.string()})),actors:Le.array(Le.any()),environments:Le.array(nM)});function ere(e){try{return Array.isArray(e.environments)&&e.environments.forEach((t,n)=>{try{nM.parse(t)}catch(r){throw new Error(`Template Strukturfehler in Lernumgebung ${n+1}: ${r instanceof Error?r.message:"Unbekannter Fehler"}`)}}),Qne.parse(e)}catch(t){throw new Error(`Template Strukturfehler: ${t instanceof Error?t.message:"Unbekannter Fehler"}`)}}const Ew=Le.object({id:Le.string(),name:Le.string(),type:Le.string(),source:Le.enum(["manual","database","filter"]),access_link:Le.string()});Le.object({id:Le.string(),name:Le.string(),description:Le.string(),materials:Le.array(Ew),tools:Le.array(Ew),services:Le.array(Ew)});async function tre(e,t,n,r,i){const s=new Pt({apiKey:r,dangerouslyAllowBrowser:!0});i("🔧 Erstelle KI-Prompt mit aktuellem Template und Beispiel...");const a=`
Als didaktischer Assistent helfen Sie bei der Vervollständigung oder Anpassung dieses Templates.
Bitte erzeugen Sie ein vollständiges Template im exakt gleichen Format wie das Beispiel.

WICHTIG: Folgen Sie EXAKT dieser Struktur für Lernumgebungen:

{
  "id": "ENV1",
  "name": "Name der Umgebung",
  "description": "Beschreibung der Umgebung",
  "materials": [
    {
      "id": "ENV1-M1",
      "name": "Name des Materials",
      "material_type": "Typ des Materials",
      "source": "manual",
      "access_link": "Link zum Material"
    }
  ],
  "tools": [
    {
      "id": "ENV1-T1", 
      "name": "Name des Werkzeugs",
      "tool_type": "Typ des Werkzeugs",
      "source": "manual",
      "access_link": "Link zum Werkzeug"
    }
  ],
  "services": [
    {
      "id": "ENV1-S1",
      "name": "Name des Dienstes", 
      "service_type": "Typ des Dienstes",
      "source": "manual",
      "access_link": "Link zum Dienst"
    }
  ]
}

Aktuelles Template:
${JSON.stringify(e,null,2)}

Beispielvorlage als Referenz:
${JSON.stringify(ri,null,2)}

Anweisungen des Nutzers:
${t}

Bitte generieren Sie ein vollständiges Template mit allen erforderlichen Elementen, insbesondere:
1. Mindestens eine Lernumgebung mit der exakten Struktur wie oben gezeigt
2. Mindestens 3 Materialien pro Umgebung
3. Mindestens 2 Werkzeuge pro Umgebung
4. Mindestens 1 Dienst pro Umgebung
5. Korrekte IDs und Referenzen zwischen Elementen

Geben Sie das Template als vollständiges JSON-Objekt zurück.`;i("🚀 Sende Anfrage an KI-Modell...");try{const o=await s.chat.completions.create({model:n,messages:[{role:"system",content:"Sie sind ein erfahrener didaktischer Assistent, der Templates mit allen erforderlichen Details erstellt."},{role:"user",content:a}],temperature:.7});if(i("✅ KI-Antwort erhalten"),i("🔍 Extrahiere und parse JSON..."),!o.choices[0].message.content)throw new Error("Keine Antwort vom KI-Modell erhalten");const l=o.choices[0].message.content.match(/\{[\s\S]*\}/);if(!l)throw new Error("Kein gültiges JSON in der KI-Antwort gefunden");i("🔍 Parse JSON...");const u=JSON.parse(l[0]);i(`
Generierte Lernumgebungen vor Validierung:`),u.environments&&u.environments.forEach((d,p)=>{var h,w,y;i(`
Umgebung ${p+1}: ${d.name}`),i(`- ${((h=d.materials)==null?void 0:h.length)||0} Materialien`),i(`- ${((w=d.tools)==null?void 0:w.length)||0} Werkzeuge`),i(`- ${((y=d.services)==null?void 0:y.length)||0} Dienste`)}),i(`
🔍 Validiere Template-Struktur...`);const c=ere(u);return i(`
Validierte Elemente:`),i(`- ${c.actors.length} Akteure`),i(`- ${c.environments.length} Lernumgebungen`),c.environments.forEach((d,p)=>{i(`  • Umgebung ${p+1}: ${d.materials.length} Materialien, ${d.tools.length} Werkzeuge, ${d.services.length} Dienste`)}),c}catch(o){const l=o instanceof Error?o.message:"Unbekannter Fehler";throw i(`
❌ Fehler bei der Template-Generierung: ${l}`),o}}async function Aw(e,t,n,r){const i=new Pt({apiKey:t,dangerouslyAllowBrowser:!0}),s={};for(const a of n)switch(r(`Processing filter type: ${a}`),a){case lv.TITLE:const o=await nre(i,e);s[a]=o,r(`Generated search term: "${o}"`);break;case lv.CONTENT_TYPE:const l=await rre(i,e,r);l&&(s[a]=l.uri,r(`Selected content type: ${l.germanLabel} -> ${l.uri}`));break;case lv.DISCIPLINE:const u=await ire(i,e,r);u&&(s[a]=u.uri,r(`Selected discipline: ${u.germanLabel} -> ${u.uri}`));break}return s}async function nre(e,t){var i;const n=`
Generate a SINGLE, CONCISE search term that represents ONLY the core topic or concept, without including any metadata like:
- Resource type (e.g. "Arbeitsblatt", "Video", "Tool")
- Subject area (e.g. "Mathematik", "Physik")
- Educational level (e.g. "Grundschule", "Sekundarstufe")

Context:
Item: ${t.itemName} (${t.itemType})
Subject: ${t.subject}
Educational Level: ${t.educationalLevel}

IMPORTANT:
- Return ONLY the core topic/concept
- Use ONLY 1-2 words maximum
- EXCLUDE any metadata terms
- Focus on what is being taught/learned
- Do NOT include resource types or context information

Examples:
Input -> Output
"Arbeitsblatt Addition" -> "Addition"
"Mathematik Video Bruchrechnen" -> "Bruchrechnen"
"Physik Simulator Pendel" -> "Pendel"
"Vokabeltrainer Englisch" -> "Vokabeln"
"Chemie Experiment Säuren" -> "Säuren"

Return ONLY the search term without any explanation.`;return((i=(await e.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a precise search term generator that returns only single concepts."},{role:"user",content:n}],temperature:.3,max_tokens:10})).choices[0].message.content)==null?void 0:i.trim())||t.itemName}async function rre(e,t,n){var o;n("Analyzing context to select content type...");const r={Spielmaterial:"Lernspiel",Karten:"Arbeitsblatt",Hardware:"Tool",Software:"Tool",Förderung:"Bildungsangebot"};if(t.itemType==="material"&&r[t.material_type]){const l=r[t.material_type];if(Object.keys(Au).includes(l))return n(`Direct mapping found: ${t.material_type} -> ${l}`),{germanLabel:l,uri:Au[l]}}const i=`
Based on the following context, select the most appropriate content type from the given options.

Context:
Item: ${t.itemName}
Type: ${t.itemType}
Subject: ${t.subject}
Educational Level: ${t.educationalLevel}

Available options:
${Object.keys(Au).join(`
`)}

Return only the exact name of the most appropriate option from the list.`,a=(o=(await e.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a helpful assistant that selects appropriate educational metadata values."},{role:"user",content:i}],temperature:.7,max_tokens:100})).choices[0].message.content)==null?void 0:o.trim();return!a||!Object.keys(Au).includes(a)?(n("Could not determine appropriate content type"),null):{germanLabel:a,uri:Au[a]}}async function ire(e,t,n){var a;if(n("Analyzing context to select discipline..."),Object.keys(Rd).includes(t.subject))return n(`Direct mapping found for subject: ${t.subject}`),{germanLabel:t.subject,uri:Rd[t.subject]};const r=`
Based on the following context, select the most appropriate discipline from the given options.

Context:
Item: ${t.itemName}
Type: ${t.itemType}
Subject: ${t.subject}
Educational Level: ${t.educationalLevel}

Available options:
${Object.keys(Rd).join(`
`)}

Return only the exact name of the most appropriate option from the list.`,s=(a=(await e.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a helpful assistant that selects appropriate educational metadata values."},{role:"user",content:r}],temperature:.7,max_tokens:100})).choices[0].message.content)==null?void 0:a.trim();return!s||!Object.keys(Rd).includes(s)?(n("Could not determine appropriate discipline"),null):{germanLabel:s,uri:Rd[s]}}function rM(e,t){return function(){return e.apply(t,arguments)}}const{toString:sre}=Object.prototype,{getPrototypeOf:$4}=Object,F0=(e=>t=>{const n=sre.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=e=>(e=e.toLowerCase(),t=>F0(t)===e),q0=e=>t=>typeof t===e,{isArray:Bc}=Array,dh=q0("undefined");function are(e){return e!==null&&!dh(e)&&e.constructor!==null&&!dh(e.constructor)&&fi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const iM=ys("ArrayBuffer");function ore(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&iM(e.buffer),t}const lre=q0("string"),fi=q0("function"),sM=q0("number"),D0=e=>e!==null&&typeof e=="object",ure=e=>e===!0||e===!1,Om=e=>{if(F0(e)!=="object")return!1;const t=$4(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cre=ys("Date"),dre=ys("File"),fre=ys("Blob"),hre=ys("FileList"),pre=e=>D0(e)&&fi(e.pipe),mre=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||fi(e.append)&&((t=F0(e))==="formdata"||t==="object"&&fi(e.toString)&&e.toString()==="[object FormData]"))},gre=ys("URLSearchParams"),[vre,yre,bre,wre]=["ReadableStream","Request","Response","Headers"].map(ys),_re=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Th(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Bc(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(r=0;r<a;r++)o=s[r],t.call(null,e[o],o,e)}}function aM(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const gl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oM=e=>!dh(e)&&e!==gl;function Sx(){const{caseless:e}=oM(this)&&this||{},t={},n=(r,i)=>{const s=e&&aM(t,i)||i;Om(t[s])&&Om(r)?t[s]=Sx(t[s],r):Om(r)?t[s]=Sx({},r):Bc(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Th(arguments[r],n);return t}const xre=(e,t,n,{allOwnKeys:r}={})=>(Th(t,(i,s)=>{n&&fi(i)?e[s]=rM(i,n):e[s]=i},{allOwnKeys:r}),e),Nre=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sre=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},kre=(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!r||r(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=n!==!1&&$4(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ere=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Are=e=>{if(!e)return null;if(Bc(e))return e;let t=e.length;if(!sM(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Cre=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$4(Uint8Array)),jre=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Lre=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Pre=ys("HTMLFormElement"),Rre=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),jj=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ire=ys("RegExp"),lM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Th(n,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(r[s]=a||i)}),Object.defineProperties(e,r)},Tre=e=>{lM(e,(t,n)=>{if(fi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(fi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ore=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Bc(e)?r(e):r(String(e).split(t)),n},Mre=()=>{},Fre=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Cw="abcdefghijklmnopqrstuvwxyz",Lj="0123456789",uM={DIGIT:Lj,ALPHA:Cw,ALPHA_DIGIT:Cw+Cw.toUpperCase()+Lj},qre=(e=16,t=uM.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Dre(e){return!!(e&&fi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Bre=e=>{const t=new Array(10),n=(r,i)=>{if(D0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Bc(r)?[]:{};return Th(r,(a,o)=>{const l=n(a,i+1);!dh(l)&&(s[o]=l)}),t[i]=void 0,s}}return r};return n(e,0)},zre=ys("AsyncFunction"),$re=e=>e&&(D0(e)||fi(e))&&fi(e.then)&&fi(e.catch),cM=((e,t)=>e?setImmediate:t?((n,r)=>(gl.addEventListener("message",({source:i,data:s})=>{i===gl&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),gl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fi(gl.postMessage)),Ure=typeof queueMicrotask<"u"?queueMicrotask.bind(gl):typeof process<"u"&&process.nextTick||cM,we={isArray:Bc,isArrayBuffer:iM,isBuffer:are,isFormData:mre,isArrayBufferView:ore,isString:lre,isNumber:sM,isBoolean:ure,isObject:D0,isPlainObject:Om,isReadableStream:vre,isRequest:yre,isResponse:bre,isHeaders:wre,isUndefined:dh,isDate:cre,isFile:dre,isBlob:fre,isRegExp:Ire,isFunction:fi,isStream:pre,isURLSearchParams:gre,isTypedArray:Cre,isFileList:hre,forEach:Th,merge:Sx,extend:xre,trim:_re,stripBOM:Nre,inherits:Sre,toFlatObject:kre,kindOf:F0,kindOfTest:ys,endsWith:Ere,toArray:Are,forEachEntry:jre,matchAll:Lre,isHTMLForm:Pre,hasOwnProperty:jj,hasOwnProp:jj,reduceDescriptors:lM,freezeMethods:Tre,toObjectSet:Ore,toCamelCase:Rre,noop:Mre,toFiniteNumber:Fre,findKey:aM,global:gl,isContextDefined:oM,ALPHABET:uM,generateString:qre,isSpecCompliantForm:Dre,toJSONObject:Bre,isAsyncFn:zre,isThenable:$re,setImmediate:cM,asap:Ure};function _t(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}we.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.status}}});const dM=_t.prototype,fM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fM[e]={value:e}});Object.defineProperties(_t,fM);Object.defineProperty(dM,"isAxiosError",{value:!0});_t.from=(e,t,n,r,i,s)=>{const a=Object.create(dM);return we.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),_t.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const Vre=null;function kx(e){return we.isPlainObject(e)||we.isArray(e)}function hM(e){return we.endsWith(e,"[]")?e.slice(0,-2):e}function Pj(e,t,n){return e?e.concat(t).map(function(i,s){return i=hM(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Hre(e){return we.isArray(e)&&!e.some(kx)}const Wre=we.toFlatObject(we,{},null,function(t){return/^is[A-Z]/.test(t)});function B0(e,t,n){if(!we.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=we.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!we.isUndefined(_[y])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(t);if(!we.isFunction(i))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(we.isDate(w))return w.toISOString();if(!l&&we.isBlob(w))throw new _t("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(w)||we.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function c(w,y,_){let m=w;if(w&&!_&&typeof w=="object"){if(we.endsWith(y,"{}"))y=r?y:y.slice(0,-2),w=JSON.stringify(w);else if(we.isArray(w)&&Hre(w)||(we.isFileList(w)||we.endsWith(y,"[]"))&&(m=we.toArray(w)))return y=hM(y),m.forEach(function(S,k){!(we.isUndefined(S)||S===null)&&t.append(a===!0?Pj([y],k,s):a===null?y:y+"[]",u(S))}),!1}return kx(w)?!0:(t.append(Pj(_,y,s),u(w)),!1)}const d=[],p=Object.assign(Wre,{defaultVisitor:c,convertValue:u,isVisitable:kx});function h(w,y){if(!we.isUndefined(w)){if(d.indexOf(w)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(w),we.forEach(w,function(m,b){(!(we.isUndefined(m)||m===null)&&i.call(t,m,we.isString(b)?b.trim():b,y,p))===!0&&h(m,y?y.concat(b):[b])}),d.pop()}}if(!we.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Rj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function U4(e,t){this._pairs=[],e&&B0(e,this,t)}const pM=U4.prototype;pM.append=function(t,n){this._pairs.push([t,n])};pM.toString=function(t){const n=t?function(r){return t.call(this,r,Rj)}:Rj;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Gre(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mM(e,t,n){if(!t)return e;const r=n&&n.encode||Gre,i=n&&n.serialize;let s;if(i?s=i(t,n):s=we.isURLSearchParams(t)?t.toString():new U4(t,n).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Ij{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){we.forEach(this.handlers,function(r){r!==null&&t(r)})}}const gM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kre=typeof URLSearchParams<"u"?URLSearchParams:U4,Zre=typeof FormData<"u"?FormData:null,Yre=typeof Blob<"u"?Blob:null,Xre={isBrowser:!0,classes:{URLSearchParams:Kre,FormData:Zre,Blob:Yre},protocols:["http","https","file","blob","url","data"]},V4=typeof window<"u"&&typeof document<"u",Ex=typeof navigator=="object"&&navigator||void 0,Jre=V4&&(!Ex||["ReactNative","NativeScript","NS"].indexOf(Ex.product)<0),Qre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eie=V4&&window.location.href||"http://localhost",tie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V4,hasStandardBrowserEnv:Jre,hasStandardBrowserWebWorkerEnv:Qre,navigator:Ex,origin:eie},Symbol.toStringTag,{value:"Module"})),Vr={...tie,...Xre};function nie(e,t){return B0(e,new Vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Vr.isNode&&we.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function rie(e){return we.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function iie(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function vM(e){function t(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&we.isArray(i)?i.length:a,l?(we.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!we.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],s)&&we.isArray(i[a])&&(i[a]=iie(i[a])),!o)}if(we.isFormData(e)&&we.isFunction(e.entries)){const n={};return we.forEachEntry(e,(r,i)=>{t(rie(r),i,n,0)}),n}return null}function sie(e,t,n){if(we.isString(e))try{return(t||JSON.parse)(e),we.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Oh={transitional:gM,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=we.isObject(t);if(s&&we.isHTMLForm(t)&&(t=new FormData(t)),we.isFormData(t))return i?JSON.stringify(vM(t)):t;if(we.isArrayBuffer(t)||we.isBuffer(t)||we.isStream(t)||we.isFile(t)||we.isBlob(t)||we.isReadableStream(t))return t;if(we.isArrayBufferView(t))return t.buffer;if(we.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nie(t,this.formSerializer).toString();if((o=we.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return B0(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),sie(t)):t}],transformResponse:[function(t){const n=this.transitional||Oh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(we.isResponse(t)||we.isReadableStream(t))return t;if(t&&we.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?_t.from(o,_t.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],e=>{Oh.headers[e]={}});const aie=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oie=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&aie[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Tj=Symbol("internals");function qd(e){return e&&String(e).trim().toLowerCase()}function Mm(e){return e===!1||e==null?e:we.isArray(e)?e.map(Mm):String(e)}function lie(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const uie=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function jw(e,t,n,r,i){if(we.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!we.isString(t)){if(we.isString(r))return t.indexOf(r)!==-1;if(we.isRegExp(r))return r.test(t)}}function cie(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function die(e,t){const n=we.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,a){return this[r].call(this,t,i,s,a)},configurable:!0})})}class Hr{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(o,l,u){const c=qd(l);if(!c)throw new Error("header name must be a non-empty string");const d=we.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Mm(o))}const a=(o,l)=>we.forEach(o,(u,c)=>s(u,c,l));if(we.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(we.isString(t)&&(t=t.trim())&&!uie(t))a(oie(t),n);else if(we.isHeaders(t))for(const[o,l]of t.entries())s(l,o,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=qd(t),t){const r=we.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return lie(i);if(we.isFunction(n))return n.call(this,i,r);if(we.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=qd(t),t){const r=we.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||jw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(a){if(a=qd(a),a){const o=we.findKey(r,a);o&&(!n||jw(r,r[o],o,n))&&(delete r[o],i=!0)}}return we.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||jw(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return we.forEach(this,(i,s)=>{const a=we.findKey(r,s);if(a){n[a]=Mm(i),delete n[s];return}const o=t?cie(s):String(s).trim();o!==s&&delete n[s],n[o]=Mm(i),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return we.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&we.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Tj]=this[Tj]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=qd(a);r[o]||(die(i,a),r[o]=!0)}return we.isArray(t)?t.forEach(s):s(t),this}}Hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(Hr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});we.freezeMethods(Hr);function Lw(e,t){const n=this||Oh,r=t||n,i=Hr.from(r.headers);let s=r.data;return we.forEach(e,function(o){s=o.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function yM(e){return!!(e&&e.__CANCEL__)}function zc(e,t,n){_t.call(this,e??"canceled",_t.ERR_CANCELED,t,n),this.name="CanceledError"}we.inherits(zc,_t,{__CANCEL__:!0});function bM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new _t("Request failed with status code "+n.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fie(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hie(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[s];a||(a=u),n[i]=l,r[i]=u;let d=s,p=0;for(;d!==i;)p+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-a<t)return;const h=c&&u-c;return h?Math.round(p*1e3/h):void 0}}function pie(e,t){let n=0,r=1e3/t,i,s;const a=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?a(u,c):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-d)))},()=>i&&a(i)]}const Fg=(e,t,n=3)=>{let r=0;const i=hie(50,250);return pie(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=i(l),c=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},n)},Oj=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Mj=e=>(...t)=>we.asap(()=>e(...t)),mie=Vr.hasStandardBrowserEnv?function(){const t=Vr.navigator&&/(msie|trident)/i.test(Vr.navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const o=we.isString(a)?i(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),gie=Vr.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];we.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),we.isString(r)&&a.push("path="+r),we.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vie(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yie(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wM(e,t){return e&&!vie(t)?yie(e,t):t}const Fj=e=>e instanceof Hr?{...e}:e;function Rl(e,t){t=t||{};const n={};function r(u,c,d){return we.isPlainObject(u)&&we.isPlainObject(c)?we.merge.call({caseless:d},u,c):we.isPlainObject(c)?we.merge({},c):we.isArray(c)?c.slice():c}function i(u,c,d){if(we.isUndefined(c)){if(!we.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!we.isUndefined(c))return r(void 0,c)}function a(u,c){if(we.isUndefined(c)){if(!we.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function o(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>i(Fj(u),Fj(c),!0)};return we.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,p=d(e[c],t[c],c);we.isUndefined(p)&&d!==o||(n[c]=p)}),n}const _M=e=>{const t=Rl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;t.headers=a=Hr.from(a),t.url=mM(wM(t.baseURL,t.url),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(we.isFormData(n)){if(Vr.hasStandardBrowserEnv||Vr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Vr.hasStandardBrowserEnv&&(r&&we.isFunction(r)&&(r=r(t)),r||r!==!1&&mie(t.url))){const u=i&&s&&gie.read(s);u&&a.set(i,u)}return t},bie=typeof XMLHttpRequest<"u",wie=bie&&function(e){return new Promise(function(n,r){const i=_M(e);let s=i.data;const a=Hr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,c,d,p,h,w;function y(){h&&h(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function m(){if(!_)return;const S=Hr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:S,config:e,request:_};bM(function(R){n(R),y()},function(R){r(R),y()},P),_=null}"onloadend"in _?_.onloadend=m:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(m)},_.onabort=function(){_&&(r(new _t("Request aborted",_t.ECONNABORTED,e,_)),_=null)},_.onerror=function(){r(new _t("Network Error",_t.ERR_NETWORK,e,_)),_=null},_.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||gM;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new _t(k,P.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,_)),_=null},s===void 0&&a.setContentType(null),"setRequestHeader"in _&&we.forEach(a.toJSON(),function(k,P){_.setRequestHeader(P,k)}),we.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),o&&o!=="json"&&(_.responseType=i.responseType),u&&([p,w]=Fg(u,!0),_.addEventListener("progress",p)),l&&_.upload&&([d,h]=Fg(l),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=S=>{_&&(r(!S||S.type?new zc(null,e,_):S),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const b=fie(i.url);if(b&&Vr.protocols.indexOf(b)===-1){r(new _t("Unsupported protocol "+b+":",_t.ERR_BAD_REQUEST,e));return}_.send(s||null)})},_ie=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,o();const c=u instanceof Error?u:this.reason;r.abort(c instanceof _t?c:new zc(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,s(new _t(`timeout ${t} of ms exceeded`,_t.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>we.asap(o),l}},xie=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Nie=async function*(e,t){for await(const n of Sie(e))yield*xie(n,t)},Sie=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},qj=(e,t,n,r)=>{const i=Nie(e,t);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){o(),l.close();return}let d=c.byteLength;if(n){let p=s+=d;n(p)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},z0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xM=z0&&typeof ReadableStream=="function",kie=z0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),NM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Eie=xM&&NM(()=>{let e=!1;const t=new Request(Vr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Dj=64*1024,Ax=xM&&NM(()=>we.isReadableStream(new Response("").body)),qg={stream:Ax&&(e=>e.body)};z0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!qg[t]&&(qg[t]=we.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new _t(`Response type '${t}' is not supported`,_t.ERR_NOT_SUPPORT,r)})})})(new Response);const Aie=async e=>{if(e==null)return 0;if(we.isBlob(e))return e.size;if(we.isSpecCompliantForm(e))return(await new Request(Vr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(we.isArrayBufferView(e)||we.isArrayBuffer(e))return e.byteLength;if(we.isURLSearchParams(e)&&(e=e+""),we.isString(e))return(await kie(e)).byteLength},Cie=async(e,t)=>{const n=we.toFiniteNumber(e.getContentLength());return n??Aie(t)},jie=z0&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:p}=_M(e);u=u?(u+"").toLowerCase():"text";let h=_ie([i,s&&s.toAbortSignal()],a),w;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let _;try{if(l&&Eie&&n!=="get"&&n!=="head"&&(_=await Cie(c,r))!==0){let P=new Request(t,{method:"POST",body:r,duplex:"half"}),D;if(we.isFormData(r)&&(D=P.headers.get("content-type"))&&c.setContentType(D),P.body){const[R,L]=Oj(_,Fg(Mj(l)));r=qj(P.body,Dj,R,L)}}we.isString(d)||(d=d?"include":"omit");const m="credentials"in Request.prototype;w=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:m?d:void 0});let b=await fetch(w);const S=Ax&&(u==="stream"||u==="response");if(Ax&&(o||S&&y)){const P={};["status","statusText","headers"].forEach($=>{P[$]=b[$]});const D=we.toFiniteNumber(b.headers.get("content-length")),[R,L]=o&&Oj(D,Fg(Mj(o),!0))||[];b=new Response(qj(b.body,Dj,R,()=>{L&&L(),y&&y()}),P)}u=u||"text";let k=await qg[we.findKey(qg,u)||"text"](b,e);return!S&&y&&y(),await new Promise((P,D)=>{bM(P,D,{data:k,headers:Hr.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:w})})}catch(m){throw y&&y(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,w),{cause:m.cause||m}):_t.from(m,m&&m.code,e,w)}}),Cx={http:Vre,xhr:wie,fetch:jie};we.forEach(Cx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Bj=e=>`- ${e}`,Lie=e=>we.isFunction(e)||e===null||e===!1,SM={getAdapter:e=>{e=we.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let a;if(r=n,!Lie(n)&&(r=Cx[(a=String(n)).toLowerCase()],r===void 0))throw new _t(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(Bj).join(`
`):" "+Bj(s[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Cx};function Pw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zc(null,e)}function zj(e){return Pw(e),e.headers=Hr.from(e.headers),e.data=Lw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),SM.getAdapter(e.adapter||Oh.adapter)(e).then(function(r){return Pw(e),r.data=Lw.call(e,e.transformResponse,r),r.headers=Hr.from(r.headers),r},function(r){return yM(r)||(Pw(e),r&&r.response&&(r.response.data=Lw.call(e,e.transformResponse,r.response),r.response.headers=Hr.from(r.response.headers))),Promise.reject(r)})}const kM="1.7.7",H4={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{H4[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const $j={};H4.transitional=function(t,n,r){function i(s,a){return"[Axios v"+kM+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(t===!1)throw new _t(i(a," has been removed"+(n?" in "+n:"")),_t.ERR_DEPRECATED);return n&&!$j[a]&&($j[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,a,o):!0}};function Pie(e,t,n){if(typeof e!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new _t("option "+s+" must be "+l,_t.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _t("Unknown option "+s,_t.ERR_BAD_OPTION)}}const jx={assertOptions:Pie,validators:H4},io=jx.validators;class xl{constructor(t){this.defaults=t,this.interceptors={request:new Ij,response:new Ij}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Rl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&jx.assertOptions(r,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),i!=null&&(we.isFunction(i)?n.paramsSerializer={serialize:i}:jx.assertOptions(i,{encode:io.function,serialize:io.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&we.merge(s.common,s[n.method]);s&&we.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=Hr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,p;if(!l){const w=[zj.bind(this),void 0];for(w.unshift.apply(w,o),w.push.apply(w,u),p=w.length,c=Promise.resolve(n);d<p;)c=c.then(w[d++],w[d++]);return c}p=o.length;let h=n;for(d=0;d<p;){const w=o[d++],y=o[d++];try{h=w(h)}catch(_){y.call(this,_);break}}try{c=zj.call(this,h)}catch(w){return Promise.reject(w)}for(d=0,p=u.length;d<p;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Rl(this.defaults,t);const n=wM(t.baseURL,t.url);return mM(n,t.params,t.paramsSerializer)}}we.forEach(["delete","get","head","options"],function(t){xl.prototype[t]=function(n,r){return this.request(Rl(r||{},{method:t,url:n,data:(r||{}).data}))}});we.forEach(["post","put","patch"],function(t){function n(r){return function(s,a,o){return this.request(Rl(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}xl.prototype[t]=n(),xl.prototype[t+"Form"]=n(!0)});class W4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},t(function(s,a,o){r.reason||(r.reason=new zc(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new W4(function(i){t=i}),cancel:t}}}function Rie(e){return function(n){return e.apply(null,n)}}function Iie(e){return we.isObject(e)&&e.isAxiosError===!0}const Lx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lx).forEach(([e,t])=>{Lx[t]=e});function EM(e){const t=new xl(e),n=rM(xl.prototype.request,t);return we.extend(n,xl.prototype,t,{allOwnKeys:!0}),we.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return EM(Rl(e,i))},n}const On=EM(Oh);On.Axios=xl;On.CanceledError=zc;On.CancelToken=W4;On.isCancel=yM;On.VERSION=kM;On.toFormData=B0;On.AxiosError=_t;On.Cancel=On.CanceledError;On.all=function(t){return Promise.all(t)};On.spread=Rie;On.isAxiosError=Iie;On.mergeConfig=Rl;On.AxiosHeaders=Hr;On.formToJSON=e=>vM(we.isHTMLForm(e)?new FormData(e):e);On.getAdapter=SM.getAdapter;On.HttpStatusCode=Lx;On.default=On;function Tie(){return"http://localhost:3001/proxy"}async function Oie({properties:e,values:t,maxItems:n=5,skipCount:r=0,propertyFilter:i="-all-",endpoint:s,combineMode:a="AND",signal:o}){const l=new URLSearchParams;l.append("contentType","FILES"),l.append("combineMode",a),e.forEach(u=>{l.append("property",u)}),t.forEach(u=>{l.append("value",u)}),l.append("maxItems",n.toString()),l.append("skipCount",r.toString()),l.append("propertyFilter",i);try{const u=Tie(),c=`${s}/search/v1/custom/-home-?${l.toString()}`,d=`${u}?url=${encodeURIComponent(c)}`;return console.log("Making WLO request:",d),(await On.get(d,{headers:{Accept:"application/json"},signal:o})).data}catch(u){throw console.error("Error searching WLO:",u),u}}function Mie(e){var n,r,i,s,a;const t=e.properties||{};return{title:((n=t["cclom:title"])==null?void 0:n[0])||"",keywords:t["cclom:general_keyword"]||[],description:((r=t["cclom:general_description"])==null?void 0:r[0])||"",subject:((i=t["ccm:taxonid_DISPLAYNAME"])==null?void 0:i[0])||"",educationalContext:t["ccm:educationalcontext_DISPLAYNAME"]||[],wwwUrl:((s=t["ccm:wwwurl"])==null?void 0:s[0])||null,previewUrl:((a=e.preview)==null?void 0:a.url)||null}}async function Fie(e,t,n,r,i){var o;if(!e.filter_criteria||Object.keys(e.filter_criteria).length===0)return r(`⚠️ Keine Filterkriterien definiert für ${t} "${e.name}"`),e;const s=Object.keys(e.filter_criteria),a=Object.values(e.filter_criteria);r(`🔍 Suche mit Kriterien: ${s.map((l,u)=>`${l}=${a[u]}`).join(", ")}`);try{if((o=i.signal)!=null&&o.aborted)throw new DOMException("Aborted","AbortError");r("🚀 Sende WLO-Anfrage...");const l=await Oie({properties:s,values:a,maxItems:i.maxItems,endpoint:i.endpoint,combineMode:i.combineMode,signal:i.signal});if(!l.nodes||l.nodes.length===0)return r(`ℹ️ Keine WLO-Ergebnisse gefunden für ${t} "${e.name}"`),e;const u=l.nodes.map(p=>{var h;return(h=p.properties["sys:node-uuid"])==null?void 0:h[0]}).filter(Boolean).join(","),c=l.nodes[0];r(`✅ ${l.nodes.length} WLO-Ergebnisse gefunden:`),l.nodes.forEach((p,h)=>{var w,y,_,m;r(`   ${h+1}. ${((w=p.properties["cclom:title"])==null?void 0:w[0])||"Ohne Titel"}`),(y=p.properties["cclom:general_description"])!=null&&y[0]&&r(`      ${p.properties["cclom:general_description"][0].substring(0,100)}...`),(_=p.properties["ccm:wwwurl"])!=null&&_[0]&&r(`      URL: ${p.properties["ccm:wwwurl"][0]}`),(m=p.properties["sys:node-uuid"])!=null&&m[0]&&r(`      ID: ${p.properties["sys:node-uuid"][0]}`)});const d=Mie(c);return{...e,source:"database",database_id:u,filter_criteria:void 0,wlo_metadata:d}}catch(l){if(l instanceof DOMException&&l.name==="AbortError")throw l;return console.error("Error processing resource:",l),r(`❌ Fehler bei der WLO-Verarbeitung: ${l instanceof Error?l.message:"Unbekannter Fehler"}`),e}}async function Rw(e,t,n,r,i,s){if(!e||e.length===0)return i(`⚠️ Keine ${t} zum Verarbeiten gefunden`),[];i(`📊 Verarbeite ${e.length} ${t}...`);const a=[];for(const o of e)if(o.source==="filter"){i(`
🔄 Verarbeite ${t} "${o.name}" mit WLO...`);const l=await Fie(o,t,r,i,s);a.push(l)}else a.push(o);return a}const qie=[{id:"gpt-4o-mini",name:"GPT-4O Mini"},{id:"gpt-4o",name:"GPT-4O"}],Iw={PRODUCTION:"https://redaktion.openeduhub.net/edu-sharing/rest",STAGING:"https://repository.staging.openeduhub.net/edu-sharing/rest"},Die=[{id:"cclom:title",label:"Titel"},{id:"ccm:oeh_lrt_aggregated",label:"Inhaltstyp"},{id:"ccm:taxonid",label:"Fach"},{id:"ccm:educationalcontext",label:"Bildungskontext"}],Bie=()=>{const e=$s(),[t,n]=Y.useState(""),[r,i]=Y.useState("gpt-4o-mini"),[s,a]=Y.useState(""),[o,l]=Y.useState(!1),[u,c]=Y.useState(null),[d,p]=Y.useState(!1),[h,w]=Y.useState([]),y=Y.useRef(null),[_,m]=Y.useState(!0),[b,S]=Y.useState(!1),[k,P]=Y.useState(!1),[D,R]=Y.useState(["cclom:title","ccm:oeh_lrt_aggregated","ccm:taxonid"]),[L,$]=Y.useState("PRODUCTION"),[V,j]=Y.useState(5),[T,Z]=Y.useState("AND"),A={metadata:e.metadata,problem:e.problem,context:e.context,influence_factors:e.influence_factors,solution:e.solution,consequences:e.consequences,implementation_notes:e.implementation_notes,related_patterns:e.related_patterns,feedback:e.feedback,sources:e.sources,actors:e.actors,environments:e.environments},U=q=>{w(J=>[...J,q])},M=q=>{R(J=>J.includes(q)?J.filter(ie=>ie!==q):[...J,q])},X=()=>{y.current&&(y.current.abort(),c("Verarbeitung wurde abgebrochen"),U(`
❌ Verarbeitung wurde abgebrochen`),l(!1))},F=async()=>{var q,J,ie,C,H,K;if(!t){c("Bitte geben Sie Ihren OpenAI API-Schlüssel ein");return}if(!s&&_){c("Bitte geben Sie Ihre Anweisungen ein");return}l(!0),c(null),p(!1),w([]),y.current=new AbortController;try{let Q=A;if(_){U("🤖 Starte KI Ablauf Verarbeitung...");const ne=await tre(A,s,r,t,U);Q=ne,e.setMetadata(ne.metadata),e.setProblem(ne.problem),e.setContext(ne.context),e.setInfluenceFactors(ne.influence_factors),e.setSolution(ne.solution),e.setConsequences(ne.consequences),e.setImplementationNotes(ne.implementation_notes),e.setRelatedPatterns(ne.related_patterns),e.setFeedback(ne.feedback),e.setSources(ne.sources),e.setActors(ne.actors),e.setEnvironments(ne.environments),U("✅ KI Ablauf Verarbeitung erfolgreich abgeschlossen")}if(b){U(`
🔍 Starte KI Filter Verarbeitung...`);let ne=[...Q.environments];for(let ae=0;ae<ne.length;ae++){const se=ne[ae];U(`
📂 Verarbeite Lernumgebung: ${se.name}`);for(let ce=0;ce<se.materials.length;ce++){const ye=se.materials[ce];U(`
🔍 Verarbeite Material: ${ye.name}`);const Ae={itemName:ye.name,itemType:"material",material_type:ye.material_type,educationalLevel:Q.context.educational_level,subject:Q.context.subject,activityName:"",roleName:"",taskDescription:"",template:Q};try{const je=await Aw(Ae,t,D,U);ne[ae].materials[ce]={...ye,filter_criteria:je,source:"filter"}}catch(je){U(`❌ Fehler beim Verarbeiten von Material "${ye.name}": ${je instanceof Error?je.message:"Unbekannter Fehler"}`)}}for(let ce=0;ce<se.tools.length;ce++){const ye=se.tools[ce];U(`
🔧 Verarbeite Werkzeug: ${ye.name}`);const Ae={itemName:ye.name,itemType:"tool",tool_type:ye.tool_type,educationalLevel:Q.context.educational_level,subject:Q.context.subject,activityName:"",roleName:"",taskDescription:"",template:Q};try{const je=await Aw(Ae,t,D,U);ne[ae].tools[ce]={...ye,filter_criteria:je,source:"filter"}}catch(je){U(`❌ Fehler beim Verarbeiten von Werkzeug "${ye.name}": ${je instanceof Error?je.message:"Unbekannter Fehler"}`)}}for(let ce=0;ce<se.services.length;ce++){const ye=se.services[ce];U(`
🔌 Verarbeite Dienst: ${ye.name}`);const Ae={itemName:ye.name,itemType:"service",service_type:ye.service_type,educationalLevel:Q.context.educational_level,subject:Q.context.subject,activityName:"",roleName:"",taskDescription:"",template:Q};try{const je=await Aw(Ae,t,D,U);ne[ae].services[ce]={...ye,filter_criteria:je,source:"filter"}}catch(je){U(`❌ Fehler beim Verarbeiten von Dienst "${ye.name}": ${je instanceof Error?je.message:"Unbekannter Fehler"}`)}}}e.setEnvironments(ne),U(`
✅ KI Filter Verarbeitung abgeschlossen!`)}if(k){if(U(`
🌐 Starte WLO Inhalte Verarbeitung...`),!Q.environments||Q.environments.length===0){U("⚠️ Keine Lernumgebungen im Template gefunden");return}U(`📊 Gefundene Lernumgebungen: ${Q.environments.length}`);let ne=[...Q.environments];for(let ae=0;ae<ne.length;ae++){const se=ne[ae];U(`
📂 Verarbeite Lernumgebung: ${se.name}`),U("📊 Ressourcen in Umgebung:"),U(`- Materialien: ${((q=se.materials)==null?void 0:q.length)||0}`),U(`- Werkzeuge: ${((J=se.tools)==null?void 0:J.length)||0}`),U(`- Dienste: ${((ie=se.services)==null?void 0:ie.length)||0}`),((C=se.materials)==null?void 0:C.length)>0&&(U(`
🔄 Verarbeite Materialien...`),se.materials=await Rw(se.materials,"material",se.materials.map(ce=>ce.id),se.name,U,{endpoint:Iw[L],maxItems:V,combineMode:T,signal:y.current.signal})),((H=se.tools)==null?void 0:H.length)>0&&(U(`
🔄 Verarbeite Werkzeuge...`),se.tools=await Rw(se.tools,"tool",se.tools.map(ce=>ce.id),se.name,U,{endpoint:Iw[L],maxItems:V,combineMode:T,signal:y.current.signal})),((K=se.services)==null?void 0:K.length)>0&&(U(`
🔄 Verarbeite Dienste...`),se.services=await Rw(se.services,"service",se.services.map(ce=>ce.id),se.name,U,{endpoint:Iw[L],maxItems:V,combineMode:T,signal:y.current.signal}))}e.setEnvironments(ne),U(`
✅ WLO Inhalte Verarbeitung erfolgreich abgeschlossen`)}p(!0),a(""),U(`
🎉 Gesamtverarbeitung erfolgreich abgeschlossen!`)}catch(Q){if(Q instanceof Error&&Q.name==="AbortError")c("Verarbeitung wurde abgebrochen"),U(`
❌ Verarbeitung wurde abgebrochen`);else{const ne=Q instanceof Error?Q.message:"Ein unbekannter Fehler ist aufgetreten";c(ne),U(`
❌ Fehler bei der Verarbeitung: ${ne}`)}}finally{l(!1),y.current=null}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"KI Ablauf"}),g.jsx(Ho,{})]}),g.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg shadow-sm mb-8",children:g.jsx("p",{className:"text-indigo-900",children:"Die KI unterstützt Sie bei der Erstellung und Optimierung Ihres didaktischen Templates. Sie können den kompletten Unterrichtsablauf generieren lassen oder bestehende Strukturen optimieren. Zusätzlich hilft die KI bei der Suche nach passenden Bildungsressourcen in der WLO-Datenbank."})}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API-Konfiguration"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"OpenAI API-Schlüssel"}),g.jsx("input",{type:"password",value:t,onChange:q=>n(q.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"sk-..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"KI-Modell"}),g.jsx("select",{value:r,onChange:q=>i(q.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:qie.map(q=>g.jsx("option",{value:q.id,children:q.name},q.id))})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Prozessauswahl"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:_,onChange:q=>m(q.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g.jsx("span",{children:"KI Ablauf"})]}),g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:b,onChange:q=>S(q.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g.jsx("span",{children:"KI Filter"})]}),b&&g.jsxs("div",{className:"pl-8 space-y-2",children:[g.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Metadaten für Filter:"}),Die.map(q=>g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:D.includes(q.id),onChange:()=>M(q.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g.jsx("span",{className:"text-sm",children:q.label})]},q.id))]}),g.jsxs("label",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"checkbox",checked:k,onChange:q=>P(q.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g.jsx("span",{children:"WLO Inhalte (erfordert KI Filter)"})]}),k&&g.jsxs("div",{className:"pl-8 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"API-Endpunkt"}),g.jsxs("select",{value:L,onChange:q=>$(q.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"PRODUCTION",children:"Produktion"}),g.jsx("option",{value:"STAGING",children:"Staging"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Maximale Ergebnisse"}),g.jsx("input",{type:"number",value:V,onChange:q=>j(Math.max(1,parseInt(q.target.value)||1)),min:"1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Verknüpfungsmodus"}),g.jsxs("select",{value:T,onChange:q=>Z(q.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"AND",children:"UND"}),g.jsx("option",{value:"OR",children:"ODER"})]})]})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Anweisungen für KI"}),g.jsx("textarea",{value:s,onChange:q=>a(q.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Geben Sie Ihre Anweisungen für die Anpassung des Templates ein..."})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Verarbeitungsstatus"}),g.jsx("div",{className:"h-[20vh] border rounded-lg overflow-y-auto bg-gray-50 p-4 font-mono text-sm whitespace-pre-wrap",children:h.map((q,J)=>g.jsx("div",{children:q},J))})]}),u&&g.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:g.jsx("span",{className:"block sm:inline",children:u})}),d&&g.jsx("div",{className:"bg-green-50 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:g.jsx("span",{className:"block sm:inline",children:"Template wurde erfolgreich aktualisiert!"})}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[o&&g.jsx("button",{onClick:X,className:"px-4 py-2 rounded text-white bg-red-500 hover:bg-red-600",children:"Abbrechen"}),g.jsx("button",{onClick:F,disabled:o,className:`px-4 py-2 rounded text-white ${o?"bg-blue-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:o?"Verarbeite...":"Verarbeitung starten"})]})]})};function zie(){return g.jsx(OD,{children:g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx(fB,{}),g.jsx("div",{className:"container mx-auto py-6 px-4",children:g.jsxs(CD,{children:[g.jsx(la,{path:"/",element:g.jsx(Dz,{})}),g.jsx(la,{path:"/general-settings",element:g.jsx(zz,{})}),g.jsx(la,{path:"/pattern-elements",element:g.jsx(Gz,{})}),g.jsx(la,{path:"/actors",element:g.jsx(e$,{})}),g.jsx(la,{path:"/environments",element:g.jsx(s$,{})}),g.jsx(la,{path:"/course-flow",element:g.jsx(u$,{})}),g.jsx(la,{path:"/preview",element:g.jsx(Zee,{})}),g.jsx(la,{path:"/ai-flow-agent",element:g.jsx(Bie,{})})]})})]})})}Ow.createRoot(document.getElementById("root")).render(g.jsx(ve.StrictMode,{children:g.jsx(zie,{})}));export{Vt as _,Np as c,Px as g};
